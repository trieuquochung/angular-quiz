var lP=Object.defineProperty,dP=Object.defineProperties;var fP=Object.getOwnPropertyDescriptors;var Iu=Object.getOwnPropertySymbols;var MI=Object.prototype.hasOwnProperty,xI=Object.prototype.propertyIsEnumerable;var NI=(t,e,n)=>e in t?lP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J=(t,e)=>{for(var n in e||={})MI.call(e,n)&&NI(t,n,e[n]);if(Iu)for(var n of Iu(e))xI.call(e,n)&&NI(t,n,e[n]);return t},Ce=(t,e)=>dP(t,fP(e));var PI=(t,e)=>{var n={};for(var r in t)MI.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Iu)for(var r of Iu(t))e.indexOf(r)<0&&xI.call(t,r)&&(n[r]=t[r]);return n};var jh;function wu(){return jh}function gn(t){let e=jh;return jh=t,e}var kI=Symbol("NotFound");function Eo(t){return t===kI||t?.name==="\u0275NotFound"}function Su(t,e){return Object.is(t,e)}var rt=null,Tu=!1,Bh=1,hP=null,Ue=Symbol("SIGNAL");function Y(t){let e=rt;return rt=t,e}function Ru(){return rt}var ai={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ci(t){if(Tu)throw new Error("");if(rt===null)return;rt.consumerOnSignalRead(t);let e=rt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=rt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:rt.producers,n!==void 0&&n.producer===t)){rt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===rt&&(!r||mP(i,rt)))return;let o=Io(rt),s={producer:t,consumer:rt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};rt.producersTail=s,e!==void 0?e.nextProducer=s:rt.producers=s,o&&FI(t,s)}function OI(){Bh++}function Nu(t){if(!(Io(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Bh)){if(!t.producerMustRecompute(t)&&!li(t)){Au(t);return}t.producerRecomputeValue(t),Au(t)}}function Uh(t){if(t.consumers===void 0)return;let e=Tu;Tu=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||pP(r)}}finally{Tu=e}}function $h(){return rt?.consumerAllowSignalWrites!==!1}function pP(t){t.dirty=!0,Uh(t),t.consumerMarkedDirty?.(t)}function Au(t){t.dirty=!1,t.lastCleanEpoch=Bh}function Er(t){return t&&(t.producersTail=void 0,t.recomputing=!0),Y(t)}function ui(t,e){if(Y(e),!t)return;t.recomputing=!1;let n=t.producersTail,r=n!==void 0?n.nextProducer:t.producers;if(r!==void 0){if(Io(t))do r=Hh(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function li(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Nu(n),r!==n.version))return!0}return!1}function Ir(t){if(Io(t)){let e=t.producers;for(;e!==void 0;)e=Hh(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function FI(t,e){let n=t.consumersTail,r=Io(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)FI(i.producer,i)}function Hh(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Io(e)){let o=e.producers;for(;o!==void 0;)o=Hh(o)}return n}function Io(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Mu(t){hP?.(t)}function mP(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function pa(t,e){let n=Object.create(gP);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Nu(n),ci(n),n.value===ha)throw n.error;return n.value};return r[Ue]=n,Mu(n),r}var Du=Symbol("UNSET"),Cu=Symbol("COMPUTING"),ha=Symbol("ERRORED"),gP=Ce(J({},ai),{value:Du,dirty:!0,error:null,equal:Su,kind:"computed",producerMustRecompute(t){return t.value===Du||t.value===Cu},producerRecomputeValue(t){if(t.value===Cu)throw new Error("");let e=t.value;t.value=Cu;let n=Er(t),r,i=!1;try{r=t.computation(),Y(null),i=e!==Du&&e!==ha&&r!==ha&&t.equal(e,r)}catch(o){r=ha,t.error=o}finally{ui(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function yP(){throw new Error}var LI=yP;function VI(t){LI(t)}function zh(t){LI=t}var vP=null;function qh(t,e){let n=Object.create(ma);n.value=t,e!==void 0&&(n.equal=e);let r=()=>jI(n);return r[Ue]=n,Mu(n),[r,s=>wo(n,s),s=>Gh(n,s)]}function jI(t){return ci(t),t.value}function wo(t,e){$h()||VI(t),t.equal(t.value,e)||(t.value=e,_P(t))}function Gh(t,e){$h()||VI(t),wo(t,e(t.value))}var ma=Ce(J({},ai),{equal:Su,value:void 0,kind:"signal"});function _P(t){t.version++,OI(),Uh(t),vP?.(t)}function ne(t){return typeof t=="function"}function To(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var xu=To(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function di(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof xu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{BI(o)}catch(s){e=e??[],s instanceof xu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new xu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)BI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&di(n,e)}remove(e){let{_finalizers:n}=this;n&&di(n,e),e instanceof t&&e._removeParent(this)}};ke.EMPTY=(()=>{let t=new ke;return t.closed=!0,t})();var Wh=ke.EMPTY;function Pu(t){return t instanceof ke||t&&"closed"in t&&ne(t.remove)&&ne(t.add)&&ne(t.unsubscribe)}function BI(t){ne(t)?t():t.unsubscribe()}var Jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Do={setTimeout(t,e,...n){let{delegate:r}=Do;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Do;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ku(t){Do.setTimeout(()=>{let{onUnhandledError:e}=Jt;if(e)e(t);else throw t})}function ga(){}var UI=Kh("C",void 0,void 0);function $I(t){return Kh("E",void 0,t)}function HI(t){return Kh("N",t,void 0)}function Kh(t,e,n){return{kind:t,value:e,error:n}}var fi=null;function Co(t){if(Jt.useDeprecatedSynchronousErrorHandling){let e=!fi;if(e&&(fi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=fi;if(fi=null,n)throw r}}else t()}function zI(t){Jt.useDeprecatedSynchronousErrorHandling&&fi&&(fi.errorThrown=!0,fi.error=t)}var hi=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Pu(e)&&e.add(this)):this.destination=IP}static create(e,n,r){return new zn(e,n,r)}next(e){this.isStopped?Qh(HI(e),this):this._next(e)}error(e){this.isStopped?Qh($I(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qh(UI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bP=Function.prototype.bind;function Yh(t,e){return bP.call(t,e)}var Zh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ou(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ou(r)}else Ou(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ou(n)}}},zn=class extends hi{constructor(e,n,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Jt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Yh(e.next,o),error:e.error&&Yh(e.error,o),complete:e.complete&&Yh(e.complete,o)}):i=e}this.destination=new Zh(i)}};function Ou(t){Jt.useDeprecatedSynchronousErrorHandling?zI(t):ku(t)}function EP(t){throw t}function Qh(t,e){let{onStoppedNotification:n}=Jt;n&&Do.setTimeout(()=>n(t,e))}var IP={closed:!0,next:ga,error:EP,complete:ga};var Ao=typeof Symbol=="function"&&Symbol.observable||"@@observable";function dt(t){return t}function wP(...t){return Jh(t)}function Jh(t){return t.length===0?dt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=DP(n)?n:new zn(n,r,i);return Co(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=qI(r),new r((i,o)=>{let s=new zn({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ao](){return this}pipe(...n){return Jh(n)(this)}toPromise(n){return n=qI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function qI(t){var e;return(e=t??Jt.Promise)!==null&&e!==void 0?e:Promise}function TP(t){return t&&ne(t.next)&&ne(t.error)&&ne(t.complete)}function DP(t){return t&&t instanceof hi||TP(t)&&Pu(t)}function Xh(t){return ne(t?.lift)}function X(t){return e=>{if(Xh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Z(t,e,n,r,i){return new ep(t,e,n,r,i)}var ep=class extends hi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function tp(){return X((t,e)=>{let n=null;t._refCount++;let r=Z(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var np=class extends Q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Xh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let n=this.getSubject();e.add(this.source.subscribe(Z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return tp()(this)}};var GI=To(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $e=(()=>{class t extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Fu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new GI}next(n){Co(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Co(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Co(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wh:(this.currentObservers=null,o.push(n),new ke(()=>{this.currentObservers=null,di(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Q;return n.source=this,n}}return t.create=(e,n)=>new Fu(e,n),t})(),Fu=class extends $e{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Wh}};var pi=class extends $e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ya={now(){return(ya.delegate||Date).now()},delegate:void 0};var va=class extends $e{constructor(e=1/0,n=1/0,r=ya){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),c=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)c=u;c&&r.splice(0,c+1)}}};var Lu=class extends ke{constructor(e,n){super()}schedule(e,n=0){return this}};var _a={setInterval(t,e,...n){let{delegate:r}=_a;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=_a;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var So=class extends Lu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return _a.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&_a.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,di(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ro=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ro.now=ya.now;var No=class extends Ro{constructor(e,n=Ro.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var wr=new No(So),rp=wr;var Vu=class extends So{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ju=class extends No{};var ip=new ju(Vu);var mi=new Q(t=>t.complete());function Bu(t){return t&&ne(t.schedule)}function op(t){return t[t.length-1]}function Uu(t){return ne(op(t))?t.pop():void 0}function yn(t){return Bu(op(t))?t.pop():void 0}function WI(t,e){return typeof op(t)=="number"?t.pop():e}function sp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function YI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function KI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gi(t){return this instanceof gi?(this.v=t,this):new gi(t)}function QI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(E){return Promise.resolve(E).then(y,p)}}function c(y,E){r[y]&&(i[y]=function(R){return new Promise(function(A,M){o.push([y,R,A,M])>1||u(y,R)})},E&&(i[y]=E(i[y])))}function u(y,E){try{l(r[y](E))}catch(R){m(o[0][3],R)}}function l(y){y.value instanceof gi?Promise.resolve(y.value.v).then(f,p):m(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function m(y,E){y(E),o.shift(),o.length&&u(o[0][0],o[0][1])}}function ZI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof KI=="function"?KI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var $u=t=>t&&typeof t.length=="number"&&typeof t!="function";function Hu(t){return ne(t?.then)}function zu(t){return ne(t[Ao])}function qu(t){return Symbol.asyncIterator&&ne(t?.[Symbol.asyncIterator])}function Gu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function CP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wu=CP();function Ku(t){return ne(t?.[Wu])}function Yu(t){return QI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield gi(n.read());if(i)return yield gi(void 0);yield yield gi(r)}}finally{n.releaseLock()}})}function Qu(t){return ne(t?.getReader)}function Ee(t){if(t instanceof Q)return t;if(t!=null){if(zu(t))return AP(t);if($u(t))return SP(t);if(Hu(t))return RP(t);if(qu(t))return JI(t);if(Ku(t))return NP(t);if(Qu(t))return MP(t)}throw Gu(t)}function AP(t){return new Q(e=>{let n=t[Ao]();if(ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SP(t){return new Q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function RP(t){return new Q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ku)})}function NP(t){return new Q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function JI(t){return new Q(e=>{xP(t,e).catch(n=>e.error(n))})}function MP(t){return JI(Yu(t))}function xP(t,e){var n,r,i,o;return YI(this,void 0,void 0,function*(){try{for(n=ZI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function vt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Tr(t,e=0){return X((n,r)=>{n.subscribe(Z(r,i=>vt(r,t,()=>r.next(i),e),()=>vt(r,t,()=>r.complete(),e),i=>vt(r,t,()=>r.error(i),e)))})}function Dr(t,e=0){return X((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function XI(t,e){return Ee(t).pipe(Dr(e),Tr(e))}function ew(t,e){return Ee(t).pipe(Dr(e),Tr(e))}function tw(t,e){return new Q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function nw(t,e){return new Q(n=>{let r;return vt(n,e,()=>{r=t[Wu](),vt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function Zu(t,e){if(!t)throw new Error("Iterable cannot be null");return new Q(n=>{vt(n,e,()=>{let r=t[Symbol.asyncIterator]();vt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function rw(t,e){return Zu(Yu(t),e)}function iw(t,e){if(t!=null){if(zu(t))return XI(t,e);if($u(t))return tw(t,e);if(Hu(t))return ew(t,e);if(qu(t))return Zu(t,e);if(Ku(t))return nw(t,e);if(Qu(t))return rw(t,e)}throw Gu(t)}function vn(t,e){return e?iw(t,e):Ee(t)}function Cr(...t){let e=yn(t);return vn(t,e)}function PP(t,e){let n=ne(t)?t:()=>t,r=i=>i.error(n());return new Q(e?i=>e.schedule(r,0,i):r)}function kP(t){return!!t&&(t instanceof Q||ne(t.lift)&&ne(t.subscribe))}var yi=To(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ow(t){return t instanceof Date&&!isNaN(t)}function it(t,e){return X((n,r)=>{let i=0;n.subscribe(Z(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:OP}=Array;function FP(t,e){return OP(e)?t(...e):t(e)}function Ju(t){return it(e=>FP(t,e))}var{isArray:LP}=Array,{getPrototypeOf:VP,prototype:jP,keys:BP}=Object;function Xu(t){if(t.length===1){let e=t[0];if(LP(e))return{args:e,keys:null};if(UP(e)){let n=BP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function UP(t){return t&&typeof t=="object"&&VP(t)===jP}function el(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ap(...t){let e=yn(t),n=Uu(t),{args:r,keys:i}=Xu(t);if(r.length===0)return vn([],e);let o=new Q($P(r,e,i?s=>el(i,s):dt));return n?o.pipe(Ju(n)):o}function $P(t,e,n=dt){return r=>{sw(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)sw(e,()=>{let l=vn(t[u],e),f=!1;l.subscribe(Z(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function sw(t,e,n){t?vt(n,t,e):e()}function aw(t,e,n,r,i,o,s,c){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?E(R):u.push(R),E=R=>{o&&e.next(R),l++;let A=!1;Ee(n(R,f++)).subscribe(Z(e,M=>{i?.(M),o?y(M):e.next(M)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let M=u.shift();s?vt(e,s,()=>E(M)):E(M)}m()}catch(M){e.error(M)}}))};return t.subscribe(Z(e,y,()=>{p=!0,m()})),()=>{c?.()}}function vi(t,e,n=1/0){return ne(e)?vi((r,i)=>it((o,s)=>e(r,o,i,s))(Ee(t(r,i))),n):(typeof e=="number"&&(n=e),X((r,i)=>aw(r,i,t,n)))}function tl(t=1/0){return vi(dt,t)}function cw(){return tl(1)}function Mo(...t){return cw()(vn(t,yn(t)))}function HP(t){return new Q(e=>{Ee(t()).subscribe(e)})}function zP(...t){let e=Uu(t),{args:n,keys:r}=Xu(t),i=new Q(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let p=!1;Ee(n[f]).subscribe(Z(o,m=>{p||(p=!0,l--),c[f]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?el(r,c):c),o.complete())}))}});return e?i.pipe(Ju(e)):i}function uw(t=0,e,n=rp){let r=-1;return e!=null&&(Bu(e)?n=e:r=e),new Q(i=>{let o=ow(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function qP(...t){let e=yn(t),n=WI(t,1/0),r=t;return r.length?r.length===1?Ee(r[0]):tl(n)(vn(r,e)):mi}function qn(t,e){return X((n,r)=>{let i=0;n.subscribe(Z(r,o=>t.call(e,o,i++)&&r.next(o)))})}function lw(t){return X((e,n)=>{let r=!1,i=null,o=null,s=!1,c=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},u=()=>{o=null,s&&n.complete()};e.subscribe(Z(n,l=>{r=!0,i=l,o||Ee(t(l)).subscribe(o=Z(n,c,u))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function GP(t,e=wr){return lw(()=>uw(t,e))}function dw(t){return X((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Z(n,void 0,void 0,s=>{o=Ee(t(s,dw(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function fw(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(Z(s,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function cp(t,e){return ne(e)?vi(t,e,1):vi(t,1)}function up(t,e=wr){return X((n,r)=>{let i=null,o=null,s=null,c=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+t,f=e.now();if(f<l){i=this.schedule(void 0,l-f),r.add(i);return}c()}n.subscribe(Z(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{c(),r.complete()},void 0,()=>{o=i=null}))})}function ba(t){return X((e,n)=>{let r=!1;e.subscribe(Z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ea(t){return t<=0?()=>mi:X((e,n)=>{let r=0;e.subscribe(Z(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function lp(t,e=dt){return t=t??WP,X((n,r)=>{let i,o=!0;n.subscribe(Z(r,s=>{let c=e(s);(o||!t(i,c))&&(o=!1,i=c,r.next(s))}))})}function WP(t,e){return t===e}function nl(t=KP){return X((e,n)=>{let r=!1;e.subscribe(Z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function KP(){return new yi}function dp(t){return X((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function YP(t,e){let n=arguments.length>=2;return r=>r.pipe(t?qn((i,o)=>t(i,o,r)):dt,Ea(1),n?ba(e):nl(()=>new yi))}function fp(t){return t<=0?()=>mi:X((e,n)=>{let r=[];e.subscribe(Z(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function QP(t,e){let n=arguments.length>=2;return r=>r.pipe(t?qn((i,o)=>t(i,o,r)):dt,fp(1),n?ba(e):nl(()=>new yi))}function ZP(){return X((t,e)=>{let n,r=!1;t.subscribe(Z(e,i=>{let o=n;n=i,r&&e.next([o,i]),r=!0}))})}function JP(t,e){return X(fw(t,e,arguments.length>=2,!0))}function pp(t={}){let{connector:e=()=>new $e,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,c,u,l=0,f=!1,p=!1,m=()=>{c?.unsubscribe(),c=void 0},y=()=>{m(),s=u=void 0,f=p=!1},E=()=>{let R=s;y(),R?.unsubscribe()};return X((R,A)=>{l++,!p&&!f&&m();let M=u=u??e();A.add(()=>{l--,l===0&&!p&&!f&&(c=hp(E,i))}),M.subscribe(A),!s&&l>0&&(s=new zn({next:F=>M.next(F),error:F=>{p=!0,m(),c=hp(y,n,F),M.error(F)},complete:()=>{f=!0,m(),c=hp(y,r),M.complete()}}),Ee(R).subscribe(s))})(o)}}function hp(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new zn({next:()=>{r.unsubscribe(),t()}});return Ee(e(...n)).subscribe(r)}function XP(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,pp({connector:()=>new va(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Ia(t){return qn((e,n)=>t<=n)}function mp(...t){let e=yn(t);return X((n,r)=>{(e?Mo(t,n,e):Mo(t,n)).subscribe(r)})}function gp(t,e){return X((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(Z(r,u=>{i?.unsubscribe();let l=0,f=o++;Ee(t(u,f)).subscribe(i=Z(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function wa(t){return X((e,n)=>{Ee(t).subscribe(Z(n,()=>n.complete(),ga)),!n.closed&&e.subscribe(n)})}function ek(t,e,n){let r=ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?X((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(Z(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):dt}function hw(t){let e=Y(null);try{return t()}finally{Y(e)}}var pw=Ce(J({},ai),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,kind:"effect"});function mw(t){if(t.dirty=!1,t.hasRun&&!li(t))return;t.hasRun=!0;let e=Er(t);try{t.cleanup(),t.fn()}finally{ui(t,e)}}var al="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(e,n){super(Sr(e,n)),this.code=e}};function tk(t){return`NG0${Math.abs(t)}`}function Sr(t,e){return`${tk(t)}${e?": "+e:""}`}var Rr=globalThis;function me(t){for(let e in t)if(t[e]===me)return e;throw Error("")}function vw(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Wn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Wn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function cl(t,e){return t?e?`${t} ${e}`:t:e||""}var nk=me({__forward_ref__:me});function ul(t){return t.__forward_ref__=ul,t.toString=function(){return Wn(this())},t}function Ze(t){return Sp(t)?t():t}function Sp(t){return typeof t=="function"&&t.hasOwnProperty(nk)&&t.__forward_ref__===ul}function _w(t,e){t==null&&Rp(e,t,null,"!=")}function Rp(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function V(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Oe(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ra(t){return ik(t,ll)}function rk(t){return Ra(t)!==null}function ik(t,e){return t.hasOwnProperty(e)&&t[e]||null}function ok(t){let e=t?.[ll]??null;return e||null}function vp(t){return t&&t.hasOwnProperty(il)?t[il]:null}var ll=me({\u0275prov:me}),il=me({\u0275inj:me}),O=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Np(t){return t&&!!t.\u0275providers}var Mp=me({\u0275cmp:me}),xp=me({\u0275dir:me}),Pp=me({\u0275pipe:me}),kp=me({\u0275mod:me}),Ca=me({\u0275fac:me}),Ti=me({__NG_ELEMENT_ID__:me}),gw=me({__NG_ENV_ID__:me});function Di(t){return typeof t=="string"?t:t==null?"":String(t)}function ol(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Di(t)}var Op=me({ngErrorCode:me}),bw=me({ngErrorMessage:me}),Da=me({ngTokenPath:me});function Fp(t,e){return Ew("",-200,e)}function dl(t,e){throw new U(-201,!1)}function sk(t,e){t[Da]??=[];let n=t[Da],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(_w(e.provide,"Token with multi: true should have a provide property"),r=ol(e.provide)):r=ol(e),n[0]!==r&&t[Da].unshift(r)}function ak(t,e){let n=t[Da],r=t[Op],i=t[bw]||t.message;return t.message=uk(i,r,n,e),t}function Ew(t,e,n){let r=new U(e,t);return r[Op]=e,r[bw]=t,n&&(r[Da]=n),r}function ck(t){return t[Op]}function uk(t,e,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Sr(e,`${t}${o}${i}`)}var _p;function Iw(){return _p}function wt(t){let e=_p;return _p=t,e}function Lp(t,e,n){let r=Ra(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;dl(t,"Injector")}var lk={},_i=lk,bp="__NG_DI_FLAG__",Ep=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=bi(n)||0;try{return this.injector.get(e,r&8?null:_i,r)}catch(i){if(Eo(i))return i;throw i}}};function dk(t,e=0){let n=wu();if(n===void 0)throw new U(-203,!1);if(n===null)return Lp(t,void 0,e);{let r=fk(e),i=n.retrieve(t,r);if(Eo(i)){if(r.optional)return null;throw i}return i}}function W(t,e=0){return(Iw()||dk)(Ze(t),e)}function S(t,e){return W(t,bi(e))}function bi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function fk(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Ip(t){let e=[];for(let n=0;n<t.length;n++){let r=Ze(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=hk(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(W(i,o))}else e.push(W(r))}return e}function ww(t,e){return t[bp]=e,t.prototype[bp]=e,t}function hk(t){return t[bp]}function Ei(t,e){let n=t.hasOwnProperty(Ca);return n?t[Ca]:null}function Tw(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Dw(t){return t.flat(Number.POSITIVE_INFINITY)}function fl(t,e){t.forEach(n=>Array.isArray(n)?fl(n,e):e(n))}function Vp(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Na(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Cw(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function Aw(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function hl(t,e,n){let r=Po(t,e);return r>=0?t[r|1]=n:(r=~r,Aw(t,r,e,n)),r}function pl(t,e){let n=Po(t,e);if(n>=0)return t[n|1]}function Po(t,e){return pk(t,e,1)}function pk(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Nr={},ot=[],Xt=new O(""),jp=new O("",-1),Bp=new O(""),Aa=class{get(e,n=_i){if(n===_i){let i=Ew("",-201);throw i.name="\u0275NotFound",i}return n}};function Up(t){return t[kp]||null}function _n(t){return t[Mp]||null}function ml(t){return t[xp]||null}function $p(t){return t[Pp]||null}function _t(t){return{\u0275providers:t}}function Sw(t){return _t([{provide:Xt,multi:!0,useValue:t}])}function Rw(...t){return{\u0275providers:gl(!0,t),\u0275fromNgModule:!0}}function gl(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return fl(e,s=>{let c=s;sl(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Nw(i,o),n}function Nw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Hp(i,o=>{e(o,r)})}}function sl(t,e,n,r){if(t=Ze(t),!t)return!1;let i=null,o=vp(t),s=!o&&_n(t);if(!o&&!s){let u=t.ngModule;if(o=vp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)sl(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{fl(o.imports,f=>{sl(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&Nw(l,e)}if(!c){let l=Ei(i)||(()=>new i);e({provide:i,useFactory:l,deps:ot},i),e({provide:Bp,useValue:i,multi:!0},i),e({provide:Xt,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;Hp(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Hp(t,e){for(let n of t)Np(n)&&(n=n.\u0275providers),Array.isArray(n)?Hp(n,e):e(n)}var mk=me({provide:String,useValue:me});function Mw(t){return t!==null&&typeof t=="object"&&mk in t}function gk(t){return!!(t&&t.useExisting)}function yk(t){return!!(t&&t.useFactory)}function Ii(t){return typeof t=="function"}function xw(t){return!!t.useClass}var Ma=new O(""),rl={},yw={},yp;function ko(){return yp===void 0&&(yp=new Aa),yp}var He=class{},wi=class extends He{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Tp(e,s=>this.processProvider(s)),this.records.set(jp,xo(void 0,this)),i.has("environment")&&this.records.set(He,xo(void 0,this));let o=this.records.get(Ma);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Bp,ot,{self:!0}))}retrieve(e,n){let r=bi(n)||0;try{return this.get(e,_i,r)}catch(i){if(Eo(i))return i;throw i}}destroy(){Ta(this),this._destroyed=!0;let e=Y(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Y(e)}}onDestroy(e){return Ta(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ta(this);let n=gn(this),r=wt(void 0),i;try{return e()}finally{gn(n),wt(r)}}get(e,n=_i,r){if(Ta(this),e.hasOwnProperty(gw))return e[gw](this);let i=bi(r),o,s=gn(this),c=wt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=Ik(e)&&Ra(e);f&&this.injectableDefInScope(f)?l=xo(wp(e),rl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?ko():this.parent;return n=i&8&&n===_i?null:n,u.get(e,n)}catch(u){let l=ck(u);throw l===-200||l===-201?new U(l,null):u}finally{wt(c),gn(s)}}resolveInjectorInitializers(){let e=Y(null),n=gn(this),r=wt(void 0),i;try{let o=this.get(Xt,ot,{self:!0});for(let s of o)s()}finally{gn(n),wt(r),Y(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Wn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ze(e);let n=Ii(e)?e:Ze(e&&e.provide),r=_k(e);if(!Ii(e)&&e.multi===!0){let i=this.records.get(n);i||(i=xo(void 0,rl,!0),i.factory=()=>Ip(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=Y(null);try{if(n.value===yw)throw Fp(Wn(e));return n.value===rl&&(n.value=yw,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Ek(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Y(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ze(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function wp(t){let e=Ra(t),n=e!==null?e.factory:Ei(t);if(n!==null)return n;if(t instanceof O)throw new U(204,!1);if(t instanceof Function)return vk(t);throw new U(204,!1)}function vk(t){if(t.length>0)throw new U(204,!1);let n=ok(t);return n!==null?()=>n.factory(t):()=>new t}function _k(t){if(Mw(t))return xo(void 0,t.useValue);{let e=zp(t);return xo(e,rl)}}function zp(t,e,n){let r;if(Ii(t)){let i=Ze(t);return Ei(i)||wp(i)}else if(Mw(t))r=()=>Ze(t.useValue);else if(yk(t))r=()=>t.useFactory(...Ip(t.deps||[]));else if(gk(t))r=(i,o)=>W(Ze(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ze(t&&(t.useClass||t.provide));if(bk(t))r=()=>new i(...Ip(t.deps));else return Ei(i)||wp(i)}return r}function Ta(t){if(t.destroyed)throw new U(205,!1)}function xo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bk(t){return!!t.deps}function Ek(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Ik(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Tp(t,e){for(let n of t)Array.isArray(n)?Tp(n,e):n&&Np(n)?Tp(n.\u0275providers,e):e(n)}function bn(t,e){let n;t instanceof wi?(Ta(t),n=t):n=new Ep(t);let r,i=gn(n),o=wt(void 0);try{return e()}finally{gn(i),wt(o)}}function Pw(){return Iw()!==void 0||wu()!=null}var ft=0,B=1,K=2,Me=3,Ot=4,ht=5,pt=6,Oo=7,xe=8,en=9,En=10,fe=11,Fo=12,qp=13,Ci=14,Je=15,Mr=16,Ai=17,In=18,xa=19,Gp=20,Gn=21,yl=22,Kn=23,Dt=24,Si=25,ge=26,kw=1,tn=6,wn=7,Pa=8,Ri=9,ze=10;function Ct(t){return Array.isArray(t)&&typeof t[kw]=="object"}function At(t){return Array.isArray(t)&&t[kw]===!0}function Wp(t){return(t.flags&4)!==0}function Yn(t){return t.componentOffset>-1}function ka(t){return(t.flags&1)===1}function Tn(t){return!!t.template}function Ni(t){return(t[K]&512)!==0}function xr(t){return(t[K]&256)===256}var Ow="svg",Fw="math";function St(t){for(;Array.isArray(t);)t=t[ft];return t}function Kp(t,e){return St(e[t])}function Ft(t,e){return St(e[t.index])}function Mi(t,e){return t.data[e]}function Lw(t,e){return t[e]}function Lt(t,e){let n=e[t];return Ct(n)?n:n[ft]}function Vw(t){return(t[K]&4)===4}function vl(t){return(t[K]&128)===128}function jw(t){return At(t[Me])}function Vt(t,e){return e==null?null:t[e]}function Yp(t){t[Ai]=0}function Qp(t){t[K]&1024||(t[K]|=1024,vl(t)&&Pr(t))}function Bw(t,e){for(;t>0;)e=e[Ci],t--;return e}function Oa(t){return!!(t[K]&9216||t[Dt]?.dirty)}function _l(t){t[En].changeDetectionScheduler?.notify(8),t[K]&64&&(t[K]|=1024),Oa(t)&&Pr(t)}function Pr(t){t[En].changeDetectionScheduler?.notify(0);let e=Ar(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!vl(e)));)e=Ar(e)}function Zp(t,e){if(xr(t))throw new U(911,!1);t[Gn]===null&&(t[Gn]=[]),t[Gn].push(e)}function Uw(t,e){if(t[Gn]===null)return;let n=t[Gn].indexOf(e);n!==-1&&t[Gn].splice(n,1)}function Ar(t){let e=t[Me];return At(e)?e[Me]:e}function Jp(t){return t[Oo]??=[]}function Xp(t){return t.cleanup??=[]}function $w(t,e,n,r){let i=Jp(e);i.push(n),t.firstCreatePass&&Xp(t).push(r,i.length-1)}var oe={lFrame:rT(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Fa=(function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t})(Fa||{}),wk=0,Dp=!1;function Hw(){return oe.lFrame.elementDepthCount}function zw(){oe.lFrame.elementDepthCount++}function em(){oe.lFrame.elementDepthCount--}function tm(){return oe.bindingsEnabled}function bl(){return oe.skipHydrationRootTNode!==null}function nm(t){return oe.skipHydrationRootTNode===t}function qw(t){oe.skipHydrationRootTNode=t}function rm(){oe.skipHydrationRootTNode=null}function ee(){return oe.lFrame.lView}function Re(){return oe.lFrame.tView}function Gw(t){return oe.lFrame.contextLView=t,t[xe]}function Ww(t){return oe.lFrame.contextLView=null,t}function We(){let t=im();for(;t!==null&&t.type===64;)t=t.parent;return t}function im(){return oe.lFrame.currentTNode}function Kw(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Lo(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function om(){return oe.lFrame.isParent}function sm(){oe.lFrame.isParent=!1}function Yw(){return oe.lFrame.contextLView}function am(t){Rp("Must never be called in production mode"),wk=t}function cm(){return Dp}function Vo(t){let e=Dp;return Dp=t,e}function Qw(){return oe.lFrame.bindingIndex}function Zw(t){return oe.lFrame.bindingIndex=t}function kr(){return oe.lFrame.bindingIndex++}function El(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Jw(){return oe.lFrame.inI18n}function Xw(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Il(e)}function eT(){return oe.lFrame.currentDirectiveIndex}function Il(t){oe.lFrame.currentDirectiveIndex=t}function tT(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function wl(){return oe.lFrame.currentQueryIndex}function La(t){oe.lFrame.currentQueryIndex=t}function Tk(t){let e=t[B];return e.type===2?e.declTNode:e.type===1?t[ht]:null}function um(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=Tk(o),i===null||(o=o[Ci],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=oe.lFrame=nT();return r.currentTNode=e,r.lView=t,!0}function Tl(t){let e=nT(),n=t[B];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function nT(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?rT(t):e}function rT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function iT(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var lm=iT;function Dl(){let t=iT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function oT(t){return(oe.lFrame.contextLView=Bw(t,oe.lFrame.contextLView))[xe]}function Dn(){return oe.lFrame.selectedIndex}function Or(t){oe.lFrame.selectedIndex=t}function Va(){let t=oe.lFrame;return Mi(t.tView,t.selectedIndex)}function dm(){return oe.lFrame.currentNamespace}var sT=!0;function Cl(){return sT}function Qn(t){sT=t}var Dk={elements:void 0};function Al(){return Dk}function Cp(t,e=null,n=null,r){let i=fm(t,e,n,r);return i.resolveInjectorInitializers(),i}function fm(t,e=null,n=null,r,i=new Set){let o=[n||ot,Rw(t)];return r=r||(typeof t=="object"?void 0:Wn(t)),new wi(o,e||ko(),r||null,i)}var Ie=class t{static THROW_IF_NOT_FOUND=_i;static NULL=new Aa;static create(e,n){if(Array.isArray(e))return Cp({name:""},n,e,"");{let r=e.name??"";return Cp({name:r},e.parent,e.providers,r)}}static \u0275prov=V({token:t,providedIn:"any",factory:()=>W(jp)});static __NG_ELEMENT_ID__=-1},ye=new O(""),jt=(()=>{class t{static __NG_ELEMENT_ID__=Ck;static __NG_ENV_ID__=n=>n}return t})(),Sa=class extends jt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return xr(this._lView)}onDestroy(e){let n=this._lView;return Zp(n,e),()=>Uw(n,e)}};function Ck(){return new Sa(ee())}var kt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Cn=new O("",{providedIn:"root",factory:()=>{let t=S(He),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(kt),e.handleError(n))}}}),aT={provide:Xt,useValue:()=>void S(kt),multi:!0},Ak=new O("",{providedIn:"root",factory:()=>{let t=S(ye).defaultView;if(!t)return;let e=S(Cn),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),S(jt).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Sk(){return _t([Sw(()=>void S(Ak))])}function hm(t){return typeof t=="function"&&t[Ue]!==void 0}function Fr(t,e){let[n,r,i]=qh(t,e?.equal),o=n,s=o[Ue];return o.set=r,o.update=i,o.asReadonly=pm.bind(o),o}function pm(){let t=this[Ue];if(t.readonlyFn===void 0){let e=()=>this();e[Ue]=t,t.readonlyFn=e}return t.readonlyFn}function mm(t){return hm(t)&&typeof t.set=="function"}var Tt=class{},jo=new O("",{providedIn:"root",factory:()=>!1});var gm=new O(""),Sl=new O("");var xi=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Rk}return t})();function Rk(){return new xi(ee(),We())}var Zn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new pi(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Q(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=V({token:t,providedIn:"root",factory:()=>new t})}return t})(),An=(()=>{class t{internalPendingTasks=S(Zn);scheduler=S(Tt);errorHandler=S(Cn);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=V({token:t,providedIn:"root",factory:()=>new t})}return t})();function Pi(...t){}var ja=(()=>{class t{static \u0275prov=V({token:t,providedIn:"root",factory:()=>new Ap})}return t})(),Ap=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};var Rl={JSACTION:"jsaction"};function Yo(t){return{toString:t}.toString()}var Nl="__parameters__";function jk(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Bk(t,e,n){return Yo(()=>{let r=jk(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(Nl)?u[Nl]:Object.defineProperty(u,Nl,{value:[]})[Nl];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Rn=ww(Bk("Optional"),8);function Uk(t){return typeof t=="function"}var Ul=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function QT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var sd=(()=>{let t=()=>ZT;return t.ngInherit=!0,t})();function ZT(t){return t.type.prototype.ngOnChanges&&(t.setInput=Hk),$k}function $k(){let t=XT(this),e=t?.current;if(e){let n=t.previous;if(n===Nr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Hk(t,e,n,r,i){let o=this.declaredInputs[r],s=XT(t)||zk(t,{previous:Nr,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Ul(l&&l.currentValue,n,u===Nr),QT(t,e,i,n)}var JT="__ngSimpleChanges__";function XT(t){return t[JT]||null}function zk(t,e){return t[JT]=e}var cT=[];var he=function(t,e=null,n){for(let r=0;r<cT.length;r++){let i=cT[r];i(t,e,n)}};function qk(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ZT(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function eD(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Ol(t,e,n){tD(t,e,3,n)}function Fl(t,e,n,r){(t[K]&3)===n&&tD(t,e,n,r)}function ym(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function tD(t,e,n,r){let i=r!==void 0?t[Ai]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Ai]+=65536),(c<o||o==-1)&&(Gk(t,n,e,u),t[Ai]=(t[Ai]&4294901760)+u+2),u++}function uT(t,e){he(4,t,e);let n=Y(null);try{e.call(t)}finally{Y(n),he(5,t,e)}}function Gk(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[K]>>14<t[Ai]>>16&&(t[K]&3)===e&&(t[K]+=16384,uT(c,o)):uT(c,o)}var Uo=-1,Fi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function Wk(t){return(t.flags&8)!==0}function Kk(t){return(t.flags&16)!==0}function Yk(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];Qk(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function nD(t){return t===3||t===4||t===6}function Qk(t){return t.charCodeAt(0)===64}function zo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?lT(t,n,i,null,e[++r]):lT(t,n,i,null,null))}}return t}function lT(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function rD(t){return t!==Uo}function $l(t){return t&32767}function Zk(t){return t>>16}function Hl(t,e){let n=Zk(t),r=e;for(;n>0;)r=r[Ci],n--;return r}var Mm=!0;function dT(t){let e=Mm;return Mm=t,e}var Jk=256,iD=Jk-1,oD=5,Xk=0,Sn={};function eO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ti)&&(r=n[Ti]),r==null&&(r=n[Ti]=Xk++);let i=r&iD,o=1<<i;e.data[t+(i>>oD)]|=o}function zl(t,e){let n=sD(t,e);if(n!==-1)return n;let r=e[B];r.firstCreatePass&&(t.injectorIndex=e.length,vm(r.data,t),vm(e,null),vm(r.blueprint,null));let i=gg(t,e),o=t.injectorIndex;if(rD(i)){let s=$l(i),c=Hl(i,e),u=c[B].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function vm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function gg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=dD(i),r===null)return Uo;if(n++,i=i[Ci],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Uo}function xm(t,e,n){eO(t,e,n)}function tO(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(nD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function aD(t,e,n){if(n&8||t!==void 0)return t;dl(e,"NodeInjector")}function cD(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[en],o=wt(void 0);try{return i?i.get(e,r,n&8):Lp(e,r,n&8)}finally{wt(o)}}return aD(r,e,n)}function uD(t,e,n,r=0,i){if(t!==null){if(e[K]&2048&&!(r&2)){let s=sO(t,e,n,r,Sn);if(s!==Sn)return s}let o=lD(t,e,n,r,Sn);if(o!==Sn)return o}return cD(e,n,r,i)}function lD(t,e,n,r,i){let o=rO(n);if(typeof o=="function"){if(!um(e,t,r))return r&1?aD(i,n,r):cD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))dl(n);else return s}finally{lm()}}else if(typeof o=="number"){let s=null,c=sD(t,e),u=Uo,l=r&1?e[Je][ht]:null;for((c===-1||r&4)&&(u=c===-1?gg(t,e):e[c+8],u===Uo||!hT(r,!1)?c=-1:(s=e[B],c=$l(u),e=Hl(u,e)));c!==-1;){let f=e[B];if(fT(o,c,f.data)){let p=nO(c,e,n,s,r,l);if(p!==Sn)return p}u=e[c+8],u!==Uo&&hT(r,e[B].data[c+8]===l)&&fT(o,c,e)?(s=f,c=$l(u),e=Hl(u,e)):c=-1}}return i}function nO(t,e,n,r,i,o){let s=e[B],c=s.data[t+8],u=r==null?Yn(c)&&Mm:r!=s&&(c.type&3)!==0,l=i&1&&o===c,f=Ll(c,s,n,u,l);return f!==null?$a(e,s,f,c,i):Sn}function Ll(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?c:c+f,m=i?c+f:l;for(let y=p;y<m;y++){let E=s[y];if(y<u&&n===E||y>=u&&E.type===n)return y}if(i){let y=s[u];if(y&&Tn(y)&&y.type===n)return u}return null}function $a(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Fi){let c=o;if(c.resolving){let y=ol(s[n]);throw Fp(y)}let u=dT(c.canSeeViewProviders);c.resolving=!0;let l=s[n].type||s[n],f,p=c.injectImpl?wt(c.injectImpl):null,m=um(t,r,0);try{o=t[n]=c.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&qk(n,s[n],e)}finally{p!==null&&wt(p),dT(u),c.resolving=!1,lm()}}return o}function rO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ti)?t[Ti]:void 0;return typeof e=="number"?e>=0?e&iD:iO:e}function fT(t,e,n){let r=1<<t;return!!(n[e+(t>>oD)]&r)}function hT(t,e){return!(t&2)&&!(t&1&&e)}var Oi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return uD(this._tNode,this._lView,e,bi(r),n)}};function iO(){return new Oi(We(),ee())}function oO(t){return Yo(()=>{let e=t.prototype.constructor,n=e[Ca]||Pm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ca]||Pm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Pm(t){return Sp(t)?()=>{let e=Pm(Ze(t));return e&&e()}:Ei(t)}function sO(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!Ni(s);){let c=lD(o,s,n,r|2,Sn);if(c!==Sn)return c;let u=o.parent;if(!u){let l=s[Gp];if(l){let f=l.get(n,Sn,r);if(f!==Sn)return f}u=dD(s),s=s[Ci]}o=u}return i}function dD(t){let e=t[B],n=e.type;return n===2?e.declTNode:n===1?t[ht]:null}function yg(t){return tO(We(),t)}function aO(){return Qo(We(),ee())}function Qo(t,e){return new bt(Ft(t,e))}var bt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=aO}return t})();function fD(t){return t instanceof bt?t.nativeElement:t}function cO(){return this._results[Symbol.iterator]()}var ql=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new $e}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Dw(e);(this._changesDetected=!Tw(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=cO},hD="ngSkipHydration",uO="ngskiphydration";function pD(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===uO)return!0}return!1}function mD(t){return t.hasAttribute(hD)}function Gl(t){return(t.flags&128)===128}function gD(t){if(Gl(t))return!0;let e=t.parent;for(;e;){if(Gl(t)||pD(e))return!0;e=e.parent}return!1}var vg=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(vg||{}),yD=new Map,lO=0;function dO(){return lO++}function fO(t){yD.set(t[xa],t)}function km(t){yD.delete(t[xa])}var pT="__ngContext__";function qo(t,e){Ct(e)?(t[pT]=e[xa],fO(e)):t[pT]=e}function vD(t){return bD(t[Fo])}function _D(t){return bD(t[Ot])}function bD(t){for(;t!==null&&!At(t);)t=t[Ot];return t}var Om;function _g(t){Om=t}function Ja(){if(Om!==void 0)return Om;if(typeof document<"u")return document;throw new U(210,!1)}var Ut=new O("",{providedIn:"root",factory:()=>hO}),hO="ng",ad=new O(""),Nn=new O("",{providedIn:"platform",factory:()=>"unknown"});var bg=new O(""),Zo=new O("",{providedIn:"root",factory:()=>Ja().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function pO(){let t=new Bi;return t.store=mO(Ja(),S(Ut)),t}var Bi=(()=>{class t{static \u0275prov=V({token:t,providedIn:"root",factory:pO});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function mO(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var ED="h",ID="b",gO="f",yO="n",wD="e",TD="t",cd="c",Eg="x",Ha="r",DD="i",CD="n",Ig="d";var AD="di",SD="s",RD="p";var Xa=new O(""),ND=!1,wg=new O("",{providedIn:"root",factory:()=>ND});var Tg=new O(""),MD=!1,xD=new O(""),Dg=new O("",{providedIn:"root",factory:()=>new Map});var ec="ngb";var PD=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},kD=(t,e)=>{let n=t,r=n.getAttribute(ec)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var OD=t=>{t.removeAttribute(Rl.JSACTION),t.removeAttribute(ec),t.__jsaction_fns=void 0},FD=new O("",{providedIn:"root",factory:()=>({})});function Cg(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var Fm=new Map;function LD(t,e){return Fm.set(t,e),()=>Fm.delete(t)}var mT=!1,VD=(t,e,n,r)=>{};function vO(t,e,n,r){VD(t,e,n,r)}function jD(){mT||(VD=(t,e,n,r)=>{let i=t[en].get(Ut);Fm.get(i)?.(e,n,r)},mT=!0)}var ud=new O("");function tc(t){return(t.flags&32)===32}var _O="__nghData__",Ag=_O,bO="__nghDeferData__",BD=bO;var Vl="ngh",UD="nghm",$D=()=>null;function EO(t,e,n=!1){let r=t.getAttribute(Vl);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",c=n?i:s,u={};if(r!==""){let f=e.get(Bi,null,{optional:!0});f!==null&&(u=f.get(Ag,[])[Number(r)])}let l={data:u,firstChild:t.firstChild??null};return n&&(l.firstChild=t,ld(l,0,t.nextSibling)),c?t.setAttribute(Vl,c):t.removeAttribute(Vl),l}function HD(){$D=EO}function zD(t,e,n=!1){return $D(t,e,n)}function qD(t){let e=t._lView;return e[B].type===2?null:(Ni(e)&&(e=e[ge]),e)}function IO(t){return t.textContent?.replace(/\s/gm,"")}function wO(t){let e=Ja(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=IO(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function ld(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Lm(t,e){return t.segmentHeads?.[e]??null}function GD(t){return t.get(xD,!1,{optional:!0})}function TO(t,e){let n=t.data,r=n[wD]?.[e]??null;return r===null&&n[cd]?.[e]&&(r=Sg(t,e)),r}function WD(t,e){return t.data[cd]?.[e]??null}function Sg(t,e){let n=WD(t,e)??[],r=0;for(let i of n)r+=i[Ha]*(i[Eg]??1);return r}function DO(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[Ig];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function KD(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[Ig];t.disconnectedNodes=n?new Set(n):null}return!!DO(t)?.has(e)}function dd(t,e){let n=t[pt];return n!==null&&!bl()&&!tc(e)&&!KD(n,e.index-ge)}function CO(t,e){let n=e.get(ud),i=e.get(Bi).get(BD,{}),o=!1,s=t,c=null,u=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(c===null&&l!=null){c=l.promise;break}u.unshift(s),s=i[s][RD]}return{parentBlockPromise:c,hydrationQueue:u}}function _m(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===UD}function gT(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function YD(t){for(let r of t.body.childNodes)if(_m(r))return;let e=gT(t.body.previousSibling);if(_m(e))return;let n=gT(t.head.lastChild);if(!_m(n))throw new U(-507,!1)}function QD(t,e){let n=t.contentQueries;if(n!==null){let r=Y(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];La(o),c.contentQueries(2,e[s],s)}}}finally{Y(r)}}}function Vm(t,e,n){La(0);let r=Y(null);try{e(t,n)}finally{Y(r)}}function ZD(t,e,n){if(Wp(e)){let r=Y(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{Y(r)}}}var Jn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(Jn||{}),Ml;function AO(){if(Ml===void 0&&(Ml=null,Rr.trustedTypes))try{Ml=Rr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ml}function fd(t){return AO()?.createHTML(t)||t}var xl;function SO(){if(xl===void 0&&(xl=null,Rr.trustedTypes))try{xl=Rr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return xl}function yT(t){return SO()?.createScriptURL(t)||t}var Xn=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${al})`}},jm=class extends Xn{getTypeName(){return"HTML"}},Bm=class extends Xn{getTypeName(){return"Style"}},Um=class extends Xn{getTypeName(){return"Script"}},$m=class extends Xn{getTypeName(){return"URL"}},Hm=class extends Xn{getTypeName(){return"ResourceURL"}};function an(t){return t instanceof Xn?t.changingThisBreaksApplicationSecurity:t}function tr(t,e){let n=JD(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${al})`)}return n===e}function JD(t){return t instanceof Xn&&t.getTypeName()||null}function Rg(t){return new jm(t)}function Ng(t){return new Bm(t)}function Mg(t){return new Um(t)}function xg(t){return new $m(t)}function Pg(t){return new Hm(t)}function RO(t){let e=new qm(t);return NO()?new zm(e):e}var zm=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(fd(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},qm=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=fd(e),n}};function NO(){try{return!!new window.DOMParser().parseFromString(fd(""),"text/html")}catch{return!1}}var MO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nc(t){return t=String(t),t.match(MO)?t:"unsafe:"+t}function nr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function rc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var XD=nr("area,br,col,hr,img,wbr"),eC=nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tC=nr("rp,rt"),xO=rc(tC,eC),PO=rc(eC,nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),kO=rc(tC,nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vT=rc(XD,PO,kO,xO),nC=nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),OO=nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),FO=nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),LO=rc(nC,OO,FO),VO=nr("script,style,template"),Gm=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=UO(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=BO(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=_T(e).toLowerCase();if(!vT.hasOwnProperty(n))return this.sanitizedSomething=!0,!VO.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,c=s.toLowerCase();if(!LO.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=o.value;nC[c]&&(u=nc(u)),this.buf.push(" ",s,'="',bT(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=_T(e).toLowerCase();vT.hasOwnProperty(n)&&!XD.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(bT(e))}};function jO(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function BO(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw rC(e);return e}function UO(t){let e=t.firstChild;if(e&&jO(t,e))throw rC(e);return e}function _T(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function rC(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var $O=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,HO=/([^\#-~ |!])/g;function bT(t){return t.replace(/&/g,"&amp;").replace($O,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(HO,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Pl;function kg(t,e){let n=null;try{Pl=Pl||RO(t);let r=e?String(e):"";n=Pl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Pl.getInertBodyElement(r)}while(r!==o);let c=new Gm().sanitizeChildren(ET(n)||n);return fd(c)}finally{if(n){let r=ET(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function ET(t){return"content"in t&&zO(t)?t.content:null}function zO(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var cn=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(cn||{});function iC(t){let e=sC();return e?e.sanitize(cn.URL,t)||"":tr(t,"URL")?an(t):nc(Di(t))}function oC(t){let e=sC();if(e)return yT(e.sanitize(cn.RESOURCE_URL,t)||"");if(tr(t,"ResourceURL"))return yT(an(t));throw new U(904,!1)}function qO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?oC:iC}function GO(t,e,n){return qO(e,n)(t)}function sC(){let t=ee();return t&&t[En].sanitizer}var WO=/^>|^->|<!--|-->|--!>|<!-$/g,KO=/(<|>)/g,YO="\u200B$1\u200B";function QO(t){return t.replace(WO,e=>e.replace(KO,YO))}function aC(t){return t.ownerDocument.body}function cC(t){return t instanceof Function?t():t}function ZO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var uC="ng-template";function JO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&ZO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Og(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Og(t){return t.type===4&&t.value!==uC}function XO(t,e,n){let r=t.type===4&&!n?uC:t.value;return e===r}function e1(t,e,n){let r=4,i=t.attrs,o=i!==null?r1(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!nn(r)&&!nn(u))return!1;if(s&&nn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!XO(t,u,n)||u===""&&e.length===1){if(nn(r))return!1;s=!0}}else if(r&8){if(i===null||!JO(t,i,u,n)){if(nn(r))return!1;s=!0}}else{let l=e[++c],f=t1(u,i,Og(t),n);if(f===-1){if(nn(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(nn(r))return!1;s=!0}}}}return nn(r)||s}function nn(t){return(t&1)===0}function t1(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return i1(e,t)}function lC(t,e,n=!1){for(let r=0;r<e.length;r++)if(e1(t,e[r],n))return!0;return!1}function n1(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function r1(t){for(let e=0;e<t.length;e++){let n=t[e];if(nD(n))return e}return t.length}function i1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function o1(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function IT(t,e){return t?":not("+e.trim()+")":e}function s1(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!nn(s)&&(e+=IT(o,i),i=""),r=s,o=o||!nn(r);n++}return i!==""&&(e+=IT(o,i)),e}function a1(t){return t.map(s1).join(",")}function c1(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!nn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Nt={};function dC(t,e){return t.createText(e)}function u1(t,e,n){t.setValue(e,n)}function fC(t,e){return t.createComment(QO(e))}function Fg(t,e,n){return t.createElement(e,n)}function Wl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function hC(t,e,n){t.appendChild(e,n)}function wT(t,e,n,r,i){r!==null?Wl(t,e,n,r,i):hC(t,e,n)}function Lg(t,e,n){t.removeChild(null,e,n)}function pC(t){t.textContent=""}function l1(t,e,n){t.setAttribute(e,"style",n)}function d1(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function mC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Yk(t,e,r),i!==null&&d1(t,e,i),o!==null&&l1(t,e,o)}function Vg(t,e,n,r,i,o,s,c,u,l,f){let p=ge+r,m=p+i,y=f1(p,m),E=typeof l=="function"?l():l;return y[B]={type:t,blueprint:y,template:n,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:E,incompleteFirstPass:!1,ssrId:f}}function f1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Nt);return n}function h1(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Vg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function jg(t,e,n,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[ft]=i,p[K]=r|4|128|8|64|1024,(l!==null||t&&t[K]&2048)&&(p[K]|=2048),Yp(p),p[Me]=p[Ci]=t,p[xe]=n,p[En]=s||t&&t[En],p[fe]=c||t&&t[fe],p[en]=u||t&&t[en]||null,p[ht]=o,p[xa]=dO(),p[pt]=f,p[Gp]=l,p[Je]=e.type==2?t[Je]:p,p}function p1(t,e,n){let r=Ft(e,t),i=h1(n),o=t[En].rendererFactory,s=Bg(t,jg(t,i,null,gC(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function gC(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function yC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Bg(t,e){return t[Fo]?t[qp][Ot]=e:t[Fo]=e,t[qp]=e,e}function m1(t=1){vC(Re(),ee(),Dn()+t,!1)}function vC(t,e,n,r){if(!r)if((e[K]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ol(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Fl(e,o,0,n)}Or(n)}var hd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(hd||{});function Wm(t,e,n,r){let i=Y(null);try{let[o,s,c]=t.inputs[n],u=null;(s&hd.SignalBased)!==0&&(u=e[o][Ue]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):QT(e,u,o,r)}finally{Y(i)}}var er=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(er||{}),g1;function Ug(t,e){return g1(t,e)}function Bo(t,e,n,r,i){if(r!=null){let o,s=!1;At(r)?o=r:Ct(r)&&(s=!0,r=r[ft]);let c=St(r);t===0&&n!==null?i==null?hC(e,n,c):Wl(e,n,c,i||null,!0):t===1&&n!==null?Wl(e,n,c,i||null,!0):t===2?Lg(e,c,s):t===3&&e.destroyNode(c),o!=null&&C1(e,t,o,n,i)}}function y1(t,e){_C(t,e),e[ft]=null,e[ht]=null}function v1(t,e,n,r,i,o){r[ft]=i,r[ht]=e,md(t,r,n,1,i,o)}function _C(t,e){e[En].changeDetectionScheduler?.notify(9),md(t,e,e[fe],2,null,null)}function _1(t){let e=t[Fo];if(!e)return bm(t[B],t);for(;e;){let n=null;if(Ct(e))n=e[Fo];else{let r=e[ze];r&&(n=r)}if(!n){for(;e&&!e[Ot]&&e!==t;)Ct(e)&&bm(e[B],e),e=e[Me];e===null&&(e=t),Ct(e)&&bm(e[B],e),n=e&&e[Ot]}e=n}}function $g(t,e){let n=t[Ri],r=n.indexOf(e);n.splice(r,1)}function pd(t,e){if(xr(e))return;let n=e[fe];n.destroyNode&&md(t,e,n,3,null,null),_1(e)}function bm(t,e){if(xr(e))return;let n=Y(null);try{e[K]&=-129,e[K]|=256,e[Dt]&&Ir(e[Dt]),E1(t,e),b1(t,e),e[B].type===1&&e[fe].destroy();let r=e[Mr];if(r!==null&&At(e[Me])){r!==e[Me]&&$g(r,e);let i=e[In];i!==null&&i.detachView(t)}km(e)}finally{Y(n)}}function b1(t,e){let n=t.cleanup,r=e[Oo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[Oo]=null);let i=e[Gn];if(i!==null){e[Gn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Kn];if(o!==null){e[Kn]=null;for(let s of o)s.destroy()}}function E1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Fi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];he(4,c,u);try{u.call(c)}finally{he(5,c,u)}}else{he(4,i,o);try{o.call(i)}finally{he(5,i,o)}}}}}function bC(t,e,n){return I1(t,e.parent,n)}function I1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[ft];if(Yn(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Jn.None||i===Jn.Emulated)return null}return Ft(r,n)}function EC(t,e,n){return T1(t,e,n)}function w1(t,e,n){return t.type&40?Ft(t,n):null}var T1=w1,TT;function Hg(t,e,n,r){let i=bC(t,r,e),o=e[fe],s=r.parent||e[ht],c=EC(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)wT(o,i,n[u],c,!1);else wT(o,i,n,c,!1);TT!==void 0&&TT(o,r,e,n,i)}function Ba(t,e){if(e!==null){let n=e.type;if(n&3)return Ft(e,t);if(n&4)return Km(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ba(t,r);{let i=t[e.index];return At(i)?Km(-1,i):St(i)}}else{if(n&128)return Ba(t,e.next);if(n&32)return Ug(e,t)()||St(t[e.index]);{let r=IC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ar(t[Je]);return Ba(i,r)}else return Ba(t,e.next)}}}return null}function IC(t,e){if(e!==null){let r=t[Je][ht],i=e.projection;return r.projection[i]}return null}function Km(t,e){let n=ze+t+1;if(n<e.length){let r=e[n],i=r[B].firstChild;if(i!==null)return Ba(r,i)}return e[wn]}function zg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&qo(St(c),r),n.flags|=2),!tc(n))if(u&8)zg(t,e,n.child,r,i,o,!1),Bo(e,t,i,c,o);else if(u&32){let l=Ug(n,r),f;for(;f=l();)Bo(e,t,i,f,o);Bo(e,t,i,c,o)}else u&16?wC(t,e,r,n,i,o):Bo(e,t,i,c,o);n=s?n.projectionNext:n.next}}function md(t,e,n,r,i,o){zg(n,r,t.firstChild,e,i,o,!1)}function D1(t,e,n){let r=e[fe],i=bC(t,n,e),o=n.parent||e[ht],s=EC(o,n,e);wC(r,0,e,n,i,s)}function wC(t,e,n,r,i,o){let s=n[Je],u=s[ht].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Bo(e,t,i,f,o)}else{let l=u,f=s[Me];Gl(r)&&(l.flags|=128),zg(t,e,l,f,i,o,!0)}}function C1(t,e,n,r,i){let o=n[wn],s=St(n);o!==s&&Bo(e,t,r,o,i);for(let c=ze;c<n.length;c++){let u=n[c];md(u[B],u,t,e,r,o)}}function A1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:er.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=er.Important),t.setStyle(n,r,i,o))}}function TC(t,e,n,r,i){let o=Dn(),s=r&2;try{Or(-1),s&&e.length>ge&&vC(t,e,ge,!1),he(s?2:0,i,n),n(r,i)}finally{Or(o),he(s?3:1,i,n)}}function qg(t,e,n){P1(t,e,n),(n.flags&64)===64&&k1(t,e,n)}function gd(t,e,n=Ft){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function S1(t,e,n,r){let o=r.get(wg,ND)||n===Jn.ShadowDom,s=t.selectRootElement(e,o);return R1(s),s}function R1(t){DC(t)}var DC=()=>null;function N1(t){mD(t)?pC(t):wO(t)}function CC(){DC=N1}function M1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function AC(t,e,n,r,i,o){let s=e[B];if(Wg(t,s,e,n,r)){Yn(t)&&x1(e,t.index);return}t.type&3&&(n=M1(n)),SC(t,e,n,r,i,o)}function SC(t,e,n,r,i,o){if(t.type&3){let s=Ft(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function x1(t,e){let n=Lt(e,t);n[K]&16||(n[K]|=64)}function P1(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Yn(n)&&p1(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||zl(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=$a(e,t,s,n);if(qo(u,e),o!==null&&V1(e,s-r,u,c,n,o),Tn(c)){let l=Lt(n.index,e);l[xe]=$a(e,t,s,n)}}}function k1(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=eT();try{Or(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];Il(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&O1(u,l)}}finally{Or(-1),Il(s)}}function O1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function RC(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];lC(e,o.selectors,!1)&&(r??=[],Tn(o)?r.unshift(o):r.push(o))}return r}function F1(t,e,n,r,i,o){let s=Ft(t,e);L1(e[fe],s,o,t.value,n,r,i)}function L1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?Di(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function V1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];Wm(r,n,u,l)}}function NC(t,e,n,r,i){let o=ge+n,s=e[B],c=i(s,e,t,r,n);e[o]=c,Lo(t,!0);let u=t.type===2;return u?(mC(e[fe],c,t),(Hw()===0||ka(t))&&qo(c,e),zw()):qo(c,e),Cl()&&(!u||!tc(t))&&Hg(s,e,c,t),t}function MC(t){let e=t;return om()?sm():(e=e.parent,Lo(e,!1)),e}function Gg(t,e){let n=t[en];if(!n)return;let r;try{r=n.get(Cn,null)}catch{r=null}r?.(e)}function Wg(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];Wm(p,n[l],f,i),c=!0}if(o)for(let u of o){let l=n[u],f=e.data[u];Wm(f,l,r,i),c=!0}return c}function j1(t,e){let n=Lt(e,t),r=n[B];B1(r,n);let i=n[ft];i!==null&&n[pt]===null&&(n[pt]=zD(i,n[en])),he(18),Kg(r,n,n[xe]),he(19,n[xe])}function B1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Kg(t,e,n){Tl(e);try{let r=t.viewQuery;r!==null&&Vm(1,r,n);let i=t.template;i!==null&&TC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[In]?.finishViewCreation(t),t.staticContentQueries&&QD(t,e),t.staticViewQueries&&Vm(2,t.viewQuery,n);let o=t.components;o!==null&&U1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,Dl()}}function U1(t,e){for(let n=0;n<e.length;n++)j1(t,e[n])}function Jo(t,e,n,r){let i=Y(null);try{let o=e.tView,c=t[K]&4096?4096:16,u=jg(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Mr]=l;let f=t[In];return f!==null&&(u[In]=f.createEmbeddedView(o)),Kg(o,u,n),u}finally{Y(i)}}function Li(t,e){return!e||e.firstChild===null||Gl(t)}var DT=!1,$1=new O("");function za(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(St(o)),At(o)&&xC(o,r);let s=n.type;if(s&8)za(t,e,n.child,r);else if(s&32){let c=Ug(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=IC(e,n);if(Array.isArray(c))r.push(...c);else{let u=Ar(e[Je]);za(u[B],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function xC(t,e){for(let n=ze;n<t.length;n++){let r=t[n],i=r[B].firstChild;i!==null&&za(r[B],r,i,e)}t[wn]!==t[ft]&&e.push(t[wn])}function PC(t){if(t[Si]!==null){for(let e of t[Si])e.impl.addSequence(e);t[Si].length=0}}var kC=[];function H1(t){return t[Dt]??z1(t)}function z1(t){let e=kC.pop()??Object.create(G1);return e.lView=t,e}function q1(t){t.lView[Dt]!==t&&(t.lView=null,kC.push(t))}var G1=Ce(J({},ai),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Pr(t.lView)},consumerOnSignalRead(){this.lView[Dt]=this}});function W1(t){let e=t[Dt]??Object.create(K1);return e.lView=t,e}var K1=Ce(J({},ai),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Ar(t.lView);for(;e&&!OC(e[B]);)e=Ar(e);e&&Qp(e)},consumerOnSignalRead(){this.lView[Dt]=this}});function OC(t){return t.type!==2}function FC(t){if(t[Kn]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Kn])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[K]&8192)}}var Y1=100;function Yg(t,e=0){let r=t[En].rendererFactory,i=!1;i||r.begin?.();try{Q1(t,e)}finally{i||r.end?.()}}function Q1(t,e){let n=cm();try{Vo(!0),Ym(t,e);let r=0;for(;Oa(t);){if(r===Y1)throw new U(103,!1);r++,Ym(t,1)}}finally{Vo(n)}}function LC(t,e){am(e?Fa.Exhaustive:Fa.OnlyDirtyViews);try{Yg(t)}finally{am(Fa.Off)}}function Z1(t,e,n,r){if(xr(e))return;let i=e[K],o=!1,s=!1;Tl(e);let c=!0,u=null,l=null;o||(OC(t)?(l=H1(e),u=Er(l)):Ru()===null?(c=!1,l=W1(e),u=Er(l)):e[Dt]&&(Ir(e[Dt]),e[Dt]=null));try{Yp(e),Zw(t.bindingStartIndex),n!==null&&TC(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let y=t.preOrderCheckHooks;y!==null&&Ol(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Fl(e,y,0,null),ym(e,0)}if(s||J1(e),FC(e),VC(e,0),t.contentQueries!==null&&QD(t,e),!o)if(f){let y=t.contentCheckHooks;y!==null&&Ol(e,y)}else{let y=t.contentHooks;y!==null&&Fl(e,y,1),ym(e,1)}eF(t,e);let p=t.components;p!==null&&BC(e,p,0);let m=t.viewQuery;if(m!==null&&Vm(2,m,r),!o)if(f){let y=t.viewCheckHooks;y!==null&&Ol(e,y)}else{let y=t.viewHooks;y!==null&&Fl(e,y,2),ym(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[yl]){for(let y of e[yl])y();e[yl]=null}o||(PC(e),e[K]&=-73)}catch(f){throw o||Pr(e),f}finally{l!==null&&(ui(l,u),c&&q1(l)),Dl()}}function VC(t,e){for(let n=vD(t);n!==null;n=_D(n))for(let r=ze;r<n.length;r++){let i=n[r];jC(i,e)}}function J1(t){for(let e=vD(t);e!==null;e=_D(e)){if(!(e[K]&2))continue;let n=e[Ri];for(let r=0;r<n.length;r++){let i=n[r];Qp(i)}}}function X1(t,e,n){he(18);let r=Lt(e,t);jC(r,n),he(19,r[xe])}function jC(t,e){vl(t)&&Ym(t,e)}function Ym(t,e){let r=t[B],i=t[K],o=t[Dt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&li(o)),s||=!1,o&&(o.dirty=!1),t[K]&=-9217,s)Z1(r,t,r.template,t[xe]);else if(i&8192){let c=Y(null);try{FC(t),VC(t,1);let u=r.components;u!==null&&BC(t,u,1),PC(t)}finally{Y(c)}}}function BC(t,e,n){for(let r=0;r<e.length;r++)X1(t,e[r],n)}function eF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Or(~i);else{let o=i,s=n[++r],c=n[++r];Xw(s,o);let u=e[o];he(24,u),c(2,u),he(25,u)}}}finally{Or(-1)}}function yd(t,e){let n=cm()?64:1088;for(t[En].changeDetectionScheduler?.notify(e);t;){t[K]|=n;let r=Ar(t);if(Ni(t)&&!r)return t;t=r}return null}function UC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function $C(t,e){let n=ze+e;if(n<t.length)return t[n]}function Xo(t,e,n,r=!0){let i=e[B];if(tF(i,e,t,n),r){let s=Km(n,t),c=e[fe],u=c.parentNode(t[wn]);u!==null&&v1(i,t[ht],c,e,u,s)}let o=e[pt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Qg(t,e){let n=qa(t,e);return n!==void 0&&pd(n[B],n),n}function qa(t,e){if(t.length<=ze)return;let n=ze+e,r=t[n];if(r){let i=r[Mr];i!==null&&i!==t&&$g(i,r),e>0&&(t[n-1][Ot]=r[Ot]);let o=Na(t,ze+e);y1(r[B],r);let s=o[In];s!==null&&s.detachView(o[B]),r[Me]=null,r[Ot]=null,r[K]&=-129}return r}function tF(t,e,n,r){let i=ze+r,o=n.length;r>0&&(n[i-1][Ot]=e),r<o-ze?(e[Ot]=n[i],Vp(n,ze+r,e)):(n.push(e),e[Ot]=null),e[Me]=n;let s=e[Mr];s!==null&&n!==s&&HC(s,e);let c=e[In];c!==null&&c.insertView(t),_l(e),e[K]|=128}function HC(t,e){let n=t[Ri],r=e[Me];if(Ct(r))t[K]|=2;else{let i=r[Me][Je];e[Je]!==i&&(t[K]|=2)}n===null?t[Ri]=[e]:n.push(e)}var Lr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[B];return za(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[xe]}set context(e){this._lView[xe]=e}get destroyed(){return xr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Me];if(At(e)){let n=e[Pa],r=n?n.indexOf(this):-1;r>-1&&(qa(e,r),Na(n,r))}this._attachedToViewContainer=!1}pd(this._lView[B],this._lView)}onDestroy(e){Zp(this._lView,e)}markForCheck(){yd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){_l(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,Yg(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ni(this._lView),n=this._lView[Mr];n!==null&&!e&&$g(n,this._lView),_C(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let n=Ni(this._lView),r=this._lView[Mr];r!==null&&!n&&HC(r,this._lView),_l(this._lView)}};var Go=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=nF;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Jo(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Lr(o)}}return t})();function nF(){return vd(We(),ee())}function vd(t,e){return t.type&4?new Go(e,t,Qo(t,e)):null}function es(t,e,n,r,i){let o=t.data[e];if(o===null)o=rF(t,e,n,r,i),Jw()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Kw();o.injectorIndex=s===null?-1:s.injectorIndex}return Lo(o,!0),o}function rF(t,e,n,r,i){let o=im(),s=om(),c=s?o:o&&o.parent,u=t.data[e]=oF(t,c,n,e,r,i);return iF(t,u,o,s),u}function iF(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function oF(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return bl()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var sF=new RegExp(`^(\\d+)*(${ID}|${ED})*(.*)`);function aF(t){let e=t.match(sF),[n,r,i,o]=e,s=r?parseInt(r,10):i,c=[];for(let[u,l,f]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(f,10)||1;c.push(l,p)}return[s,...c]}function cF(t){return!t.prev&&t.parent?.type===8}function Em(t){return t.index-ge}function uF(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function _d(t,e,n,r){let i=Em(r),o=uF(t,i);if(o===void 0){let s=t.data[CD];if(s?.[i])o=dF(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let c=r.prev===null,u=r.prev??r.parent;if(cF(r)){let l=Em(r.parent);o=Lm(t,l)}else{let l=Ft(u,n);if(c)o=l.firstChild;else{let f=Em(u),p=Lm(t,f);if(u.type===2&&p){let y=Sg(t,f)+1;o=bd(y,p)}else o=l.nextSibling}}}}return o}function bd(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function lF(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case gO:n=n.firstChild;break;case yO:n=n.nextSibling;break}}return n}function dF(t,e){let[n,...r]=aF(t),i;if(n===ED)i=e[Je][ft];else if(n===ID)i=aC(e[Je][ft]);else{let o=Number(n);i=St(e[o+ge])}return lF(i,r)}var fF=!1;function zC(t){fF=t}function hF(t){let e=t[pt];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[fe];for(let o of r.values())pF(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function pF(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-ge);i&&Lg(t,i,!1)}}function Ed(t){let e=t[tn]??[],r=t[Me][fe],i=[];for(let o of e)o.data[AD]!==void 0?i.push(o):qC(o,r);t[tn]=i}function mF(t){let{lContainer:e}=t,n=e[tn];if(n===null)return;let i=e[Me][fe];for(let o of n)qC(o,i)}function qC(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Ha];for(;n<i;){let o=r.nextSibling;Lg(e,r,!1),r=o,n++}}}function Id(t){Ed(t);let e=t[ft];Ct(e)&&Kl(e);for(let n=ze;n<t.length;n++)Kl(t[n])}function Kl(t){hF(t);let e=t[B];for(let n=ge;n<e.bindingStartIndex;n++)if(At(t[n])){let r=t[n];Id(r)}else Ct(t[n])&&Kl(t[n])}function Zg(t){let e=t._views;for(let n of e){let r=qD(n);r!==null&&r[ft]!==null&&(Ct(r)?Kl(r):Id(r))}}function gF(t,e,n,r){t!==null&&(n.cleanup(e),Id(t.lContainer),Zg(r))}function yF(t,e){let n=[];for(let r of e)for(let i=0;i<(r[Eg]??1);i++){let o={data:r,firstChild:null};r[Ha]>0&&(o.firstChild=t,t=bd(r[Ha],t)),n.push(o)}return[t,n]}var GC=()=>null,WC=()=>null;function KC(){GC=vF,WC=_F}function vF(t,e){return QC(t,e)?t[tn].shift():(Ed(t),null)}function Ga(t,e){return GC(t,e)}function _F(t,e,n){if(e.tView.ssrId===null)return null;let r=Ga(t,e.tView.ssrId);return n[B].firstUpdatePass&&r===null&&bF(n,e),r}function YC(t,e,n){return WC(t,e,n)}function bF(t,e){let n=e;for(;n;){if(CT(t,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=e.next;n&&(n.flags&512)===512;){if(CT(t,n))return;n=n.next}}function QC(t,e){let n=t[tn];return!e||n===null||n.length===0?!1:n[0].data[DD]===e}function CT(t,e){let n=e.tView?.ssrId;if(n==null)return!1;let r=t[e.index];return At(r)&&QC(r,n)?(Ed(r),!0):!1}var ZC=class{},wd=class{},Qm=class{resolveComponentFactory(e){throw new U(917,!1)}},ic=class{static NULL=new Qm},on=class{},Td=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>EF()}return t})();function EF(){let t=ee(),e=We(),n=Lt(e.index,t);return(Ct(n)?n:t)[fe]}var JC=(()=>{class t{static \u0275prov=V({token:t,providedIn:"root",factory:()=>null})}return t})();var jl={},$o=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,jl,r);return i!==jl||n===jl?i:this.parentInjector.get(e,n,r)}};function Yl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=cl(i,c);else if(o==2){let u=c,l=e[++s];r=cl(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ts(t,e=0){let n=ee();if(n===null)return W(t,e);let r=We();return uD(r,n,Ze(t),e)}function XC(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[c,u,l]=f.resolveHostDirectives(s);break}TF(t,e,n,c,o,u,l)}o!==null&&r!==null&&IF(n,r,o)}function IF(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}function wF(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function TF(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&Tn(y)&&(u=!0,wF(t,n,m)),xm(zl(n,e),t,y.type)}NF(n,t.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=yC(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(n.mergedAttrs=zo(n.mergedAttrs,y.hostAttrs),CF(t,n,e,p,y),RF(p,y,i),s!==null&&s.has(y)){let[R,A]=s.get(y);n.directiveToIndex.set(y.type,[p,R+n.directiveStart,A+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let E=y.type.prototype;!l&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!f&&(E.ngOnChanges||E.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}DF(t,n,o)}function DF(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))AT(0,e,i,r),AT(1,e,i,r),RT(e,r,!1);else{let o=n.get(i);ST(0,e,o,r),ST(1,e,o,r),RT(e,r,!0)}}}function AT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),eA(e,o)}}function ST(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),eA(e,s)}}function eA(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function RT(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Og(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function CF(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ei(i.type,!0)),s=new Fi(o,Tn(i),ts,null);t.blueprint[r]=s,n[r]=s,AF(t,e,r,yC(t,n,i.hostVars,Nt),i)}function AF(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;SF(s)!=c&&s.push(c),s.push(n,r,o)}}function SF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function RF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tn(e)&&(n[""]=t)}}function NF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function tA(t,e,n,r,i,o,s,c){let u=e[B],l=u.consts,f=Vt(l,s),p=es(u,t,n,r,f);return o&&XC(u,e,p,Vt(l,c),i),p.mergedAttrs=zo(p.mergedAttrs,p.attrs),p.attrs!==null&&Yl(p,p.attrs,!1),p.mergedAttrs!==null&&Yl(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function nA(t,e){eD(t,e),Wp(e)&&t.queries.elementEnd(e)}function MF(t,e,n,r,i,o){let s=e.consts,c=Vt(s,i),u=es(e,t,n,r,c);if(u.mergedAttrs=zo(u.mergedAttrs,u.attrs),o!=null){let l=Vt(s,o);u.localNames=[];for(let f=0;f<l.length;f+=2)u.localNames.push(l[f],-1)}return u.attrs!==null&&Yl(u,u.attrs,!1),u.mergedAttrs!==null&&Yl(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function sn(t,e,n){if(n===Nt)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function xF(t,e,n,r){let i=sn(t,e,n);return sn(t,e+1,r)||i}function Im(t,e,n){return function r(i){let o=Yn(t)?Lt(t.index,e):e;yd(o,5);let s=e[xe],c=NT(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=NT(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function NT(t,e,n,r){let i=Y(null);try{return he(6,e,n),n(r)!==!1}catch(o){return Gg(t,o),!1}finally{he(7,e,n),Y(i)}}function PF(t,e,n,r,i,o,s,c){let u=ka(t),l=!1,f=null;if(!r&&u&&(f=kF(e,n,o,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let p=Ft(t,n),m=r?r(p):p;vO(n,m,o,c);let y=i.listen(m,o,c),E=r?R=>r(St(R[t.index])):t.index;rA(E,e,n,o,c,y,!1)}return l}function kF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Oo],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function rA(t,e,n,r,i,o,s){let c=e.firstCreatePass?Xp(e):null,u=Jp(n),l=u.length;u.push(i,o),c&&c.push(r,t,l,(l+1)*(s?-1:1))}function MT(t,e,n,r,i,o){let s=e[n],c=e[B],l=c.data[n].outputs[r],p=s[l].subscribe(o);rA(t.index,c,e,i,o,p,!0)}var Zm=Symbol("BINDING");var Ql=class extends ic{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=_n(e);return new Vi(n,this.ngModule)}};function OF(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&hd.SignalBased)!==0};return i&&(o.transform=i),o})}function FF(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function LF(t,e,n){let r=e instanceof He?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new $o(n,r):n}function VF(t){let e=t.get(on,null);if(e===null)throw new U(407,!1);let n=t.get(JC,null),r=t.get(Tt,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function jF(t,e){let n=iA(t);return Fg(e,n,n==="svg"?Ow:n==="math"?Fw:null)}function iA(t){return(t.selectors[0][0]||"div").toLowerCase()}var Vi=class extends wd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=OF(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=FF(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=a1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){he(22);let c=Y(null);try{let u=this.componentDef,l=BF(r,u,s,o),f=LF(u,i||this.ngModule,e),p=VF(f),m=p.rendererFactory.createRenderer(null,u),y=r?S1(m,r,u.encapsulation,f):jF(u,m),E=s?.some(xT)||o?.some(M=>typeof M!="function"&&M.bindings.some(xT)),R=jg(null,l,null,512|gC(u),null,null,p,m,f,null,zD(y,f,!0));R[ge]=y,Tl(R);let A=null;try{let M=tA(ge,R,2,"#host",()=>l.directiveRegistry,!0,0);y&&(mC(m,y,M),qo(y,R)),qg(l,R,M),ZD(l,M,R),nA(l,M),n!==void 0&&$F(M,this.ngContentSelectors,n),A=Lt(M.index,R),R[xe]=A[xe],Kg(l,R,null)}catch(M){throw A!==null&&km(A),km(R),M}finally{he(23),Dl()}return new Zl(this.componentType,R,!!E)}finally{Y(c)}}};function BF(t,e,n,r){let i=t?["ng-version","20.3.0"]:c1(e.selectors[0]),o=null,s=null,c=0;if(n)for(let f of n)c+=f[Zm].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let m of p.bindings){c+=m[Zm].requiredVars;let y=f+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,m=ml(p);u.push(m)}return Vg(0,null,UF(o,s),1,c,u,null,null,null,[i],null)}function UF(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function xT(t){let e=t[Zm].kind;return e==="input"||e==="twoWay"}var Zl=class extends ZC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Mi(n[B],ge),this.location=Qo(this._tNode,n),this.instance=Lt(this._tNode.index,n)[xe],this.hostView=this.changeDetectorRef=new Lr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Wg(r,i[B],i,e,n);this.previousInputValues.set(e,n);let s=Lt(r.index,i);yd(s,1)}get injector(){return new Oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function $F(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ns=(()=>{class t{static __NG_ELEMENT_ID__=HF}return t})();function HF(){let t=We();return sA(t,ee())}var zF=ns,oA=class extends zF{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Qo(this._hostTNode,this._hostLView)}get injector(){return new Oi(this._hostTNode,this._hostLView)}get parentInjector(){let e=gg(this._hostTNode,this._hostLView);if(rD(e)){let n=Hl(e,this._hostLView),r=$l(e),i=n[B].data[r+8];return new Oi(i,n)}else return new Oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=PT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ze}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ga(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,Li(this._hostTNode,s)),c}createComponent(e,n,r,i,o,s,c){let u=e&&!Uk(e),l;if(u)l=n;else{let A=n||{};l=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,c=A.bindings}let f=u?e:new Vi(_n(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let M=(u?p:this.parentInjector).get(He,null);M&&(o=M)}let m=_n(f.componentType??{}),y=Ga(this._lContainer,m?.id??null),E=y?.firstChild??null,R=f.create(p,i,E,o,s,c);return this.insertImpl(R.hostView,l,Li(this._hostTNode,y)),R}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(jw(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Me],l=new oA(u,u[ht],u[Me]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Xo(s,i,o,r),e.attachToViewContainerRef(),Vp(wm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=PT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=qa(this._lContainer,n);r&&(Na(wm(this._lContainer),n),pd(r[B],r))}detach(e){let n=this._adjustIndex(e,-1),r=qa(this._lContainer,n);return r&&Na(wm(this._lContainer),n)!=null?new Lr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function PT(t){return t[Pa]}function wm(t){return t[Pa]||(t[Pa]=[])}function sA(t,e){let n,r=e[t.index];return At(r)?n=r:(n=UC(r,e,null,t),e[t.index]=n,Bg(e,n)),aA(n,e,t,r),new oA(n,t,e)}function qF(t,e){let n=t[fe],r=n.createComment(""),i=Ft(e,t),o=n.parentNode(i);return Wl(n,o,r,n.nextSibling(i),!1),r}var aA=cA,Jg=()=>!1;function GF(t,e,n){return Jg(t,e,n)}function cA(t,e,n,r){if(t[wn])return;let i;n.type&8?i=St(r):i=qF(e,n),t[wn]=i}function WF(t,e,n){if(t[wn]&&t[tn])return!0;let r=n[pt],i=e.index-ge;if(!r||gD(e)||KD(r,i))return!1;let s=Lm(r,i),c=r.data[cd]?.[i],[u,l]=yF(s,c);return t[wn]=u,t[tn]=l,!0}function KF(t,e,n,r){Jg(t,n,e)||cA(t,e,n,r)}function uA(){aA=KF,Jg=WF}var Jm=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Xm=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)ey(e,n).matches!==null&&this.queries[n].setDirty()}},Jl=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=XF(e):this.predicate=e}},eg=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},tg=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,YF(n,o)),this.matchTNodeWithReadOption(e,n,Ll(n,e,o,!1,!1))}else r===Go?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ll(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===bt||i===ns||i===Go&&n.type&4)this.addMatch(n.index,-2);else{let o=Ll(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function YF(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function QF(t,e){return t.type&11?Qo(t,e):t.type&4?vd(t,e):null}function ZF(t,e,n,r){return n===-1?QF(e,t):n===-2?JF(t,e,r):$a(t,t[B],n,e)}function JF(t,e,n){if(n===bt)return Qo(e,t);if(n===Go)return vd(e,t);if(n===ns)return sA(e,t)}function lA(t,e,n,r){let i=e[In].queries[r];if(i.matches===null){let o=t.data,s=n.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)c.push(null);else{let f=o[l];c.push(ZF(e,f,s[u+1],n.metadata.read))}}i.matches=c}return i.matches}function ng(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=lA(t,e,i,n);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let l=o[c+1],f=e[-u];for(let p=ze;p<f.length;p++){let m=f[p];m[Mr]===m[Me]&&ng(m[B],m,l,r)}if(f[Ri]!==null){let p=f[Ri];for(let m=0;m<p.length;m++){let y=p[m];ng(y[B],y,l,r)}}}}}return r}function Xg(t,e){return t[In].queries[e].queryList}function dA(t,e,n){let r=new ql((n&4)===4);return $w(t,e,r,r.destroy),(e[In]??=new Xm).queries.push(new Jm(r))-1}function fA(t,e,n){let r=Re();return r.firstCreatePass&&(pA(r,new Jl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),dA(r,ee(),e)}function hA(t,e,n,r){let i=Re();if(i.firstCreatePass){let o=We();pA(i,new Jl(e,n,r),o.index),eL(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return dA(i,ee(),n)}function XF(t){return t.split(",").map(e=>e.trim())}function pA(t,e,n){t.queries===null&&(t.queries=new eg),t.queries.track(new tg(e,n))}function eL(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function ey(t,e){return t.queries.getByIndex(e)}function mA(t,e){let n=t[B],r=ey(n,e);return r.crossesNgTemplate?ng(n,t,e,[]):lA(n,t,r,e)}function gA(t,e,n){let r,i=pa(()=>{r._dirtyCounter();let o=tL(r,t);if(e&&o===void 0)throw new U(-951,!1);return o});return r=i[Ue],r._dirtyCounter=Fr(0),r._flatValue=void 0,i}function ty(t){return gA(!0,!1,t)}function ny(t){return gA(!0,!0,t)}function yA(t,e){let n=t[Ue];n._lView=ee(),n._queryIndex=e,n._queryList=Xg(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function tL(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[K]&4)return e?void 0:ot;let i=Xg(n,r),o=mA(n,r);return i.reset(o,fD),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}var kT=new Set;function $t(t){kT.has(t)||(kT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Wo=class{},vA=class{};var Xl=class extends Wo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ql(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Up(e);this._bootstrapComponents=cC(o.bootstrap),this._r3Injector=fm(e,n,[{provide:Wo,useValue:this},{provide:ic,useValue:this.componentFactoryResolver},...r],Wn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ed=class extends vA{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Xl(this.moduleType,e,[])}};var Wa=class extends Wo{injector;componentFactoryResolver=new Ql(this);instance=null;constructor(e){super();let n=new wi([...e.providers,{provide:Wo,useValue:this},{provide:ic,useValue:this.componentFactoryResolver}],e.parent||ko(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ry(t,e,n=null){return new Wa({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var nL=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=gl(!1,n.type),i=r.length>0?ry([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=V({token:t,providedIn:"environment",factory:()=>new t(W(He))})}return t})();function Ht(t){return Yo(()=>{let e=_A(t),n=Ce(J({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(nL).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jn.Emulated,styles:t.styles||ot,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&$t("NgStandalone"),bA(n);let r=t.dependencies;return n.directiveDefs=OT(r,rL),n.pipeDefs=OT(r,$p),n.id=sL(n),n})}function rL(t){return _n(t)||ml(t)}function qe(t){return Yo(()=>({type:t.type,bootstrap:t.bootstrap||ot,declarations:t.declarations||ot,imports:t.imports||ot,exports:t.exports||ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function iL(t,e){if(t==null)return Nr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=hd.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function oL(t){if(t==null)return Nr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function st(t){return Yo(()=>{let e=_A(t);return bA(e),e})}function _A(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Nr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||ot,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:iL(t.inputs,e),outputs:oL(t.outputs),debugInfo:null}}function bA(t){t.features?.forEach(e=>e(t))}function OT(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function sL(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function aL(t){return Object.getPrototypeOf(t.prototype).constructor}function rs(t){let e=aL(t.type),n=!0,r=[t];for(;e;){let i;if(Tn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Tm(t.inputs),s.declaredInputs=Tm(t.declaredInputs),s.outputs=Tm(t.outputs);let c=i.hostBindings;c&&fL(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&lL(t,u),l&&dL(t,l),cL(t,i),vw(t.outputs,i.outputs),Tn(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===rs&&(n=!1)}}e=Object.getPrototypeOf(e)}uL(r)}function cL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function uL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=zo(i.hostAttrs,n=zo(n,i.hostAttrs))}}function Tm(t){return t===Nr?{}:t===ot?[]:t}function lL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function dL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function fL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function EA(t,e,n,r,i,o,s,c){if(n.firstCreatePass){t.mergedAttrs=zo(t.mergedAttrs,t.attrs);let f=t.tView=Vg(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}c&&(t.flags|=c),Lo(t,!1);let u=wA(n,e,t,r);Cl()&&Hg(n,e,u,t),qo(u,e);let l=UC(u,e,u,t);e[r+ge]=l,Bg(e,l),GF(l,t,e)}function hL(t,e,n,r,i,o,s,c,u,l,f){let p=n+ge,m;return e.firstCreatePass?(m=es(e,p,4,s||null,c||null),tm()&&XC(e,t,m,Vt(e.consts,l),RC),eD(e,m)):m=e.data[p],EA(m,t,e,n,r,i,o,u),ka(m)&&qg(e,t,m),l!=null&&gd(t,m,f),m}function Ka(t,e,n,r,i,o,s,c,u,l,f){let p=n+ge,m;if(e.firstCreatePass){if(m=es(e,p,4,s||null,c||null),l!=null){let y=Vt(e.consts,l);m.localNames=[];for(let E=0;E<y.length;E+=2)m.localNames.push(y[E],-1)}}else m=e.data[p];return EA(m,t,e,n,r,i,o,u),l!=null&&gd(t,m,f),m}function IA(t,e,n,r,i,o,s,c){let u=ee(),l=Re(),f=Vt(l.consts,o);return hL(u,l,t,e,n,r,i,f,void 0,s,c),IA}var wA=TA;function TA(t,e,n,r){return Qn(!0),e[fe].createComment("")}function pL(t,e,n,r){let i=!dd(e,n);Qn(i);let o=e[pt]?.data[TD]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return TA(t,e);let s=e[pt],c=_d(s,t,e,n);ld(s,r,c);let u=Sg(s,r);return bd(u,c)}function DA(){wA=pL}var Rt=(function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t})(Rt||{}),FT=0,mL=1,Fe=(function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t})(Fe||{});var gL=0,oc=1;var yL=4,vL=5;var _L=7,Ho=8,bL=9,iy=(function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t})(iy||{});function Bl(t,e){let n=IL(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function EL(t){Bl(1,t),Bl(0,t),Bl(2,t)}function IL(t){let e=yL;return t===1?e=vL:t===2&&(e=bL),e}var Dd=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Dd||{}),Vr=new O(""),CA=!1,rg=class extends $e{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Pw()&&(this.destroyRef=S(jt,{optional:!0})??void 0,this.pendingTasks=S(Zn,{optional:!0})??void 0)}emit(e){let n=Y(null);try{super.next(e)}finally{Y(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof ke&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Bt=rg;function AA(t){let e,n;function r(){t=Pi;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function LT(t){return queueMicrotask(()=>t()),()=>{t=Pi}}var oy="isAngularZone",td=oy+"_ID",wL=0,re=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Bt(!1);onMicrotaskEmpty=new Bt(!1);onStable=new Bt(!1);onError=new Bt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=CA}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,CL(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(oy)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,TL,Pi,Pi);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},TL={};function sy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function DL(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){AA(()=>{t.callbackScheduled=!1,ig(t),t.isCheckStableRunning=!0,sy(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),ig(t)}function CL(t){let e=()=>{DL(t)},n=wL++;t._inner=t._inner.fork({name:"angular",properties:{[oy]:!0,[td]:n,[td+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(AL(u))return r.invokeTask(o,s,c,u);try{return VT(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),jT(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return VT(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!SL(u)&&e(),jT(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ig(t),sy(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ig(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function VT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jT(t){t._nesting--,sy(t)}var Ya=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Bt;onMicrotaskEmpty=new Bt;onStable=new Bt;onError=new Bt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function AL(t){return SA(t,"__ignore_ng_zone__")}function SL(t){return SA(t,"__scheduler_tick__")}function SA(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Cd=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=V({token:t,providedIn:"root",factory:()=>new t})}return t})(),ay=[0,1,2,3],cy=(()=>{class t{ngZone=S(re);scheduler=S(Tt);errorHandler=S(kt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){S(Vr,{optional:!0})}execute(){let n=this.sequences.size>0;n&&he(16),this.executing=!0;for(let r of ay)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&he(17)}register(n){let{view:r}=n;r!==void 0?((r[Si]??=[]).push(n),Pr(r),r[K]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Dd.AFTER_NEXT_RENDER,n):n()}static \u0275prov=V({token:t,providedIn:"root",factory:()=>new t})}return t})(),Qa=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Si];e&&(this.view[Si]=e.filter(n=>n!==this))}};function uy(t,e){let n=e?.injector??S(Ie);return $t("NgAfterNextRender"),NL(t,n,e,!0)}function RL(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function NL(t,e,n,r){let i=e.get(Cd);i.impl??=e.get(cy);let o=e.get(Vr,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(jt):null,c=e.get(xi,null,{optional:!0}),u=new Qa(i.impl,RL(t),c?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}function RA(t){return t+1}function is(t,e){let n=t[B],r=RA(e.index);return t[r]}function sc(t,e){let n=RA(e.index);return t.data[n]}function ML(t,e,n){let r=e[B],i=sc(r,n);switch(t){case Fe.Complete:return i.primaryTmplIndex;case Fe.Loading:return i.loadingTmplIndex;case Fe.Error:return i.errorTmplIndex;case Fe.Placeholder:return i.placeholderTmplIndex;default:return null}}function BT(t,e){return e===Fe.Placeholder?t.placeholderBlockConfig?.[FT]??null:e===Fe.Loading?t.loadingBlockConfig?.[FT]??null:null}function xL(t){return t.loadingBlockConfig?.[mL]??null}function UT(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function PL(t,e){let n=e.primaryTmplIndex+ge;return Mi(t,n)}var kL=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?ry(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=V({token:t,providedIn:"environment",factory:()=>new t})}return t})();var NA=new O("");function Dm(t,e,n){return t.get(kL).getOrCreateInjector(e,t,n,"")}function OL(t,e,n){if(t instanceof $o){let i=t.injector,o=t.parentInjector,s=Dm(o,e,n);return new $o(i,s)}let r=t.get(He);if(r!==t){let i=Dm(r,e,n);return new $o(t,i)}return Dm(t,e,n)}function ki(t,e,n,r=!1){let i=n[Me],o=i[B];if(xr(i))return;let s=is(i,e),c=s[oc],u=s[_L];if(!(u!==null&&t<u)&&$T(c,t)&&$T(s[gL]??-1,t)){let l=sc(o,e),p=!r&&!0&&(xL(l)!==null||BT(l,Fe.Loading)!==null||BT(l,Fe.Placeholder))?VL:LL;try{p(t,s,n,e,i)}catch(m){Gg(i,m)}}}function FL(t,e){let n=t[tn]?.findIndex(i=>i.data[SD]===e[oc])??-1;return{dehydratedView:n>-1?t[tn][n]:null,dehydratedViewIx:n}}function LL(t,e,n,r,i){he(20);let o=ML(t,i,r);if(o!==null){e[oc]=t;let s=i[B],c=o+ge,u=Mi(s,c),l=0;Qg(n,l);let f;if(t===Fe.Complete){let E=sc(s,r),R=E.providers;R&&R.length>0&&(f=OL(i[en],E,R))}let{dehydratedView:p,dehydratedViewIx:m}=FL(n,e),y=Jo(i,u,null,{injector:f,dehydratedView:p});if(Xo(n,y,l,Li(u,p)),yd(y,2),m>-1&&n[tn]?.splice(m,1),(t===Fe.Complete||t===Fe.Error)&&Array.isArray(e[Ho])){for(let E of e[Ho])E();e[Ho]=null}}he(21)}function $T(t,e){return t<e}function HT(t,e,n){t.loadingPromise.then(()=>{t.loadingState===Rt.COMPLETE?ki(Fe.Complete,e,n):t.loadingState===Rt.FAILED&&ki(Fe.Error,e,n)})}var VL=null;var MA=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var ly=new O("");function dy(t){return!!t&&typeof t.then=="function"}function xA(t){return!!t&&typeof t.subscribe=="function"}var PA=new O("");var fy=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=S(PA,{optional:!0})??[];injector=S(Ie);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=bn(this.injector,i);if(dy(o))n.push(o);else if(xA(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),os=new O("");function kA(){zh(()=>{let t="";throw new U(600,t)})}function OA(t){return t.isBoundToModule}var jL=10;var Et=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=S(Cn);afterRenderManager=S(Cd);zonelessEnabled=S(jo);rootEffectScheduler=S(ja);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new $e;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=S(Zn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(it(n=>!n))}constructor(){S(Vr,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=S(He);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ie.NULL){return this._injector.get(re).run(()=>{he(10);let s=n instanceof wd;if(!this._injector.get(fy).done){let E="";throw new U(405,E)}let u;s?u=n:u=this._injector.get(ic).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=OA(u)?void 0:this._injector.get(Wo),f=r||u.selector,p=u.create(i,[],f,l),m=p.location.nativeElement,y=p.injector.get(ly,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Ua(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),he(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){he(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Dd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);let n=Y(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Y(n),this.afterTick.next(),he(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(on,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<jL;)he(14),this.synchronizeOnce(),he(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Oa(i))continue;let o=r&&!this.zonelessEnabled?0:1;Yg(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Oa(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ua(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(os,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ua(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ua(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function FA(t,e,n){let r=e[en],i=e[B];if(t.loadingState!==Rt.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=is(e,n),s=PL(i,t);t.loadingState=Rt.IN_PROGRESS,Bl(1,o);let c=t.dependencyResolverFn,u=r.get(An).add();return c?(t.loadingPromise=Promise.allSettled(c()).then(l=>{let f=!1,p=[],m=[];for(let y of l)if(y.status==="fulfilled"){let E=y.value,R=_n(E)||ml(E);if(R)p.push(R);else{let A=$p(E);A&&m.push(A)}}else{f=!0;break}if(f){if(t.loadingState=Rt.FAILED,t.errorTmplIndex===null){let E=new U(-750,!1);Gg(e,E)}}else{t.loadingState=Rt.COMPLETE;let y=s.tView;if(p.length>0){y.directiveRegistry=UT(y.directiveRegistry,p);let E=p.map(A=>A.type),R=gl(!1,...E);t.providers=R}m.length>0&&(y.pipeRegistry=UT(y.pipeRegistry,m))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,u()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=Rt.COMPLETE,u()}),t.loadingPromise)}function BL(t,e){return e[en].get(NA,null,{optional:!0})?.behavior!==iy.Manual}function UL(t,e,n){let r=e[B],i=e[n.index];if(!BL(t,e))return;let o=is(e,n),s=sc(r,n);switch(EL(o),s.loadingState){case Rt.NOT_STARTED:ki(Fe.Loading,n,i),FA(s,e,n),s.loadingState===Rt.IN_PROGRESS&&HT(s,n,i);break;case Rt.IN_PROGRESS:ki(Fe.Loading,n,i),HT(s,n,i);break;case Rt.COMPLETE:ki(Fe.Complete,n,i);break;case Rt.FAILED:ki(Fe.Error,n,i);break;default:}}async function LA(t,e,n){let r=t.get(ud);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=CO(e,t);if(s.length===0)return;o!==null&&s.shift(),zL(r,s),o!==null&&await o;let c=s[0];r.has(c)?await zT(t,s,n):r.awaitParentBlock(c,async()=>await zT(t,s,n))}async function zT(t,e,n){let r=t.get(ud),i=r.hydrating,o=t.get(Zn),s=o.add();for(let u=0;u<e.length;u++){let l=e[u],f=r.get(l);if(f!=null){if(await GL(f),await qL(t),$L(f)){mF(f),qT(e.slice(u),r);break}i.get(l).resolve()}else{HL(u,e,r),qT(e.slice(u),r);break}}let c=e[e.length-1];await i.get(c)?.promise,o.remove(s),n&&n(e),gF(r.get(c),e,r,t.get(Et))}function $L(t){return is(t.lView,t.tNode)[oc]===Fe.Error}function HL(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&Id(i.lContainer)}function qT(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function zL(t,e){for(let n of e)t.hydrating.set(n,Promise.withResolvers())}function qL(t){return new Promise(e=>uy(e,{injector:t}))}async function GL(t){let{tNode:e,lView:n}=t,r=is(n,e);return new Promise(i=>{WL(r,i),UL(2,n,e)})}function WL(t,e){Array.isArray(t[Ho])||(t[Ho]=[]),t[Ho].push(e)}function ac(t,e,n,r){let i=ee(),o=kr();if(sn(i,o,e)){let s=Re(),c=Va();F1(c,i,t,e,n,r)}return ac}var hy=new O("",{providedIn:"root",factory:()=>!1}),py=new O("",{providedIn:"root",factory:()=>KL}),KL=4e3;var C7=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var og=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Cm(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function YL(t,e,n){let r,i,o=0,s=t.length-1,c=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),f=e[o],p=Cm(o,l,o,f,n);if(p!==0){p<0&&t.updateValue(o,f),o++;continue}let m=t.at(s),y=e[u],E=Cm(s,m,u,y,n);if(E!==0){E<0&&t.updateValue(s,y),s--,u--;continue}let R=n(o,l),A=n(s,m),M=n(o,f);if(Object.is(M,A)){let F=n(u,y);Object.is(F,R)?(t.swap(o,s),t.updateValue(s,y),u--,s--):t.move(s,o),t.updateValue(o,f),o++;continue}if(r??=new nd,i??=WT(t,o,s,n),sg(t,r,o,M))t.updateValue(o,f),o++,s++;else if(i.has(M))r.set(R,t.detach(o)),s--;else{let F=t.create(o,e[o]);t.attach(o,F),o++,s++}}for(;o<=u;)GT(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let f=t.at(o),p=l.value,m=Cm(o,f,o,p,n);if(m!==0)m<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new nd,i??=WT(t,o,s,n);let y=n(o,p);if(sg(t,r,o,y))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let E=n(o,f);r.set(E,t.detach(o)),s--}}}for(;!l.done;)GT(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function sg(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function GT(t,e,n,r,i){if(sg(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function WT(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var nd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function QL(t,e,n,r,i,o,s,c){$t("NgControlFlow");let u=ee(),l=Re(),f=Vt(l.consts,o);return Ka(u,l,t,e,n,r,i,f,256,s,c),my}function my(t,e,n,r,i,o,s,c){$t("NgControlFlow");let u=ee(),l=Re(),f=Vt(l.consts,o);return Ka(u,l,t,e,n,r,i,f,512,s,c),my}function ZL(t,e){$t("NgControlFlow");let n=ee(),r=kr(),i=n[r]!==Nt?n[r]:-1,o=i!==-1?rd(n,ge+i):void 0,s=0;if(sn(n,r,t)){let c=Y(null);try{if(o!==void 0&&Qg(o,s),t!==-1){let u=ge+t,l=rd(n,u),f=lg(n[B],u),p=YC(l,f,n),m=Jo(n,f,e,{dehydratedView:p});Xo(l,m,s,Li(f,p))}}finally{Y(c)}}else if(o!==void 0){let c=$C(o,s);c!==void 0&&(c[xe]=e)}}var ag=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ze}};function JL(t,e){return e}var cg=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function XL(t,e,n,r,i,o,s,c,u,l,f,p,m){$t("NgControlFlow");let y=ee(),E=Re(),R=u!==void 0,A=ee(),M=c?s.bind(A[Je][xe]):s,F=new cg(R,M);A[ge+t]=F,Ka(y,E,t+1,e,n,r,i,Vt(E.consts,o),256),R&&Ka(y,E,t+2,u,l,f,p,Vt(E.consts,m),512)}var ug=class extends og{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-ze}at(e){return this.getLView(e)[xe].$implicit}attach(e,n){let r=n[pt];this.needsIndexUpdate||=e!==this.length,Xo(this.lContainer,n,e,Li(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,tV(this.lContainer,e)}create(e,n){let r=Ga(this.lContainer,this.templateTNode.tView.ssrId),i=Jo(this.hostLView,this.templateTNode,new ag(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){pd(e[B],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[xe].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[xe].$index=e}getLView(e){return nV(this.lContainer,e)}};function eV(t){let e=Y(null),n=Dn();try{let r=ee(),i=r[B],o=r[n],s=n+1,c=rd(r,s);if(o.liveCollection===void 0){let l=lg(i,s);o.liveCollection=new ug(c,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(YL(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=kr(),f=u.length===0;if(sn(r,l,f)){let p=n+2,m=rd(r,p);if(f){let y=lg(i,p),E=YC(m,y,r),R=Jo(r,y,void 0,{dehydratedView:E});Xo(m,R,0,Li(y,E))}else i.firstUpdatePass&&Ed(m),Qg(m,0)}}}finally{Y(e)}}function rd(t,e){return t[e]}function tV(t,e){return qa(t,e)}function nV(t,e){return $C(t,e)}function lg(t,e){return Mi(t,e)}function VA(t,e,n){let r=ee(),i=kr();if(sn(r,i,e)){let o=Re(),s=Va();AC(s,r,t,e,r[fe],n)}return VA}function dg(t,e,n,r,i){Wg(e,t,n,i?"class":"style",r)}function gy(t,e,n,r){let i=ee(),o=i[B],s=t+ge,c=o.firstCreatePass?tA(s,i,2,e,RC,tm(),n,r):o.data[s];if(NC(c,i,t,e,vy),ka(c)){let u=i[B];qg(u,i,c),ZD(u,c,i)}return r!=null&&gd(i,c),gy}function yy(){let t=Re(),e=We(),n=MC(e);return t.firstCreatePass&&nA(t,n),nm(n)&&rm(),em(),n.classesWithoutHost!=null&&Wk(n)&&dg(t,n,ee(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Kk(n)&&dg(t,n,ee(),n.stylesWithoutHost,!1),yy}function jA(t,e,n,r){return gy(t,e,n,r),yy(),jA}function Ui(t,e,n,r){let i=ee(),o=i[B],s=t+ge,c=o.firstCreatePass?MF(s,o,2,e,n,r):o.data[s];return NC(c,i,t,e,vy),r!=null&&gd(i,c),Ui}function $i(){let t=We(),e=MC(t);return nm(e)&&rm(),em(),$i}function jr(t,e,n,r){return Ui(t,e,n,r),$i(),jr}var vy=(t,e,n,r,i)=>(Qn(!0),Fg(e[fe],r,dm()));function rV(t,e,n,r,i){let o=!dd(e,n);if(Qn(o),o)return Fg(e[fe],r,dm());let s=e[pt],c=_d(s,t,e,n);return WD(s,i)&&ld(s,i,c.nextSibling),s&&(pD(n)||mD(c))&&Yn(n)&&(qw(n),pC(c)),c}function BA(){vy=rV}var iV=(t,e,n,r,i)=>(Qn(!0),fC(e[fe],""));function oV(t,e,n,r,i){let o,s=!dd(e,n);if(Qn(s),s)return fC(e[fe],"");let c=e[pt],u=_d(c,t,e,n),l=TO(c,i);return ld(c,i,u),o=bd(l,u),o}function UA(){iV=oV}function sV(){return ee()}function $A(t,e,n){let r=ee(),i=kr();if(sn(r,i,e)){let o=Re(),s=Va();SC(s,r,t,e,r[fe],n)}return $A}var cc="en-US";var aV=cc;function HA(t){typeof t=="string"&&(aV=t.toLowerCase().replace(/_/g,"-"))}function zA(t,e,n){let r=ee(),i=Re(),o=We();return qA(i,r,r[fe],o,t,e,n),zA}function qA(t,e,n,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=Im(r,e,o),PF(r,t,e,s,n,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let m=f[p],y=f[p+1];u??=Im(r,e,o),MT(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Im(r,e,o),MT(r,e,p,i,i,u)}}function cV(t=1){return oT(t)}function uV(t,e){let n=null,r=n1(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?lC(t,o,!0):o1(r,o))return i}return n}function Br(t){let e=ee()[Je][ht];if(!e.projection){let n=t?t.length:1,r=e.projection=Cw(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?uV(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function zt(t,e=0,n,r,i,o){let s=ee(),c=Re(),u=r?t+1:null;u!==null&&Ka(s,c,u,r,i,o,null,n);let l=es(c,ge+t,16,null,n||null);l.projection===null&&(l.projection=e),sm();let p=!s[pt]||bl();s[Je][ht].projection[l.projection]===null&&u!==null?lV(s,c,u):p&&!tc(l)&&D1(c,s,l)}function lV(t,e,n){let r=ge+n,i=e.data[r],o=t[r],s=Ga(o,i.tView.ssrId),c=Jo(t,i,void 0,{dehydratedView:s});Xo(o,c,0,Li(i,s))}function dV(t,e,n,r){hA(t,e,n,r)}function fV(t,e,n){fA(t,e,n)}function hV(t){let e=ee(),n=Re(),r=wl();La(r+1);let i=ey(n,r);if(t.dirty&&Vw(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=mA(e,r);t.reset(o,fD),t.notifyOnChanges()}return!0}return!1}function pV(){return Xg(ee(),wl())}function mV(t,e,n,r,i){yA(e,hA(t,n,r,i))}function gV(t,e,n,r){yA(t,fA(e,n,r))}function yV(t=1){La(wl()+t)}function vV(t){let e=Yw();return Lw(e,ge+t)}function kl(t,e){return t<<17|e<<2}function ji(t){return t>>17&32767}function _V(t){return(t&2)==2}function bV(t,e){return t&131071|e<<17}function fg(t){return t|2}function Ko(t){return(t&131068)>>2}function Am(t,e){return t&-131069|e<<2}function EV(t){return(t&1)===1}function hg(t){return t|1}function IV(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=ji(s),u=Ko(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Po(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let m=ji(t[c+1]);t[r+1]=kl(m,c),m!==0&&(t[m+1]=Am(t[m+1],r)),t[c+1]=bV(t[c+1],r)}else t[r+1]=kl(c,0),c!==0&&(t[c+1]=Am(t[c+1],r)),c=r;else t[r+1]=kl(u,0),c===0?c=r:t[u+1]=Am(t[u+1],r),u=r;l&&(t[r+1]=fg(t[r+1])),KT(t,f,r,!0),KT(t,f,r,!1),wV(e,f,t,r,o),s=kl(c,u),o?e.classBindings=s:e.styleBindings=s}function wV(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Po(o,e)>=0&&(n[r+1]=hg(n[r+1]))}function KT(t,e,n,r){let i=t[n+1],o=e===null,s=r?ji(i):Ko(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];TV(u,e)&&(c=!0,t[s+1]=r?hg(l):fg(l)),s=r?ji(l):Ko(l)}c&&(t[n+1]=r?fg(i):hg(i))}function TV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Po(t,e)>=0:!1}var rn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DV(t){return t.substring(rn.key,rn.keyEnd)}function CV(t){return AV(t),GA(t,WA(t,0,rn.textEnd))}function GA(t,e){let n=rn.textEnd;return n===e?-1:(e=rn.keyEnd=SV(t,rn.key=e,n),WA(t,e,n))}function AV(t){rn.key=0,rn.keyEnd=0,rn.value=0,rn.valueEnd=0,rn.textEnd=t.length}function WA(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function SV(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function KA(t,e,n){return YA(t,e,n,!1),KA}function un(t,e){return YA(t,e,null,!0),un}function _y(t){NV(FV,RV,t,!0)}function RV(t,e){for(let n=CV(e);n>=0;n=GA(e,n))hl(t,DV(e),!0)}function YA(t,e,n,r){let i=ee(),o=Re(),s=El(2);if(o.firstUpdatePass&&ZA(o,t,s,r),e!==Nt&&sn(i,s,e)){let c=o.data[Dn()];JA(o,c,i,i[fe],t,i[s+1]=VV(e,n),r,s)}}function NV(t,e,n,r){let i=Re(),o=El(2);i.firstUpdatePass&&ZA(i,null,o,r);let s=ee();if(n!==Nt&&sn(s,o,n)){let c=i.data[Dn()];if(XA(c,r)&&!QA(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(n=cl(u,n||"")),dg(i,c,s,n,r)}else LV(i,c,s,s[fe],s[o+1],s[o+1]=OV(t,e,n),r,o)}}function QA(t,e){return e>=t.expandoStartIndex}function ZA(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Dn()],s=QA(t,n);XA(o,r)&&e===null&&!s&&(e=!1),e=MV(i,o,e,r),IV(i,o,e,n,s,r)}}function MV(t,e,n,r){let i=tT(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Sm(null,t,e,n,r),n=Za(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Sm(i,t,e,n,r),o===null){let u=xV(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Sm(null,t,e,u[1],r),u=Za(u,e.attrs,r),PV(t,e,r,u))}else o=kV(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function xV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ko(r)!==0)return t[ji(r)]}function PV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ji(i)]=r}function kV(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Za(r,s,n)}return Za(r,e.attrs,n)}function Sm(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=Za(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Za(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),hl(t,s,n?!0:e[++o]))}return t===void 0?null:t}function OV(t,e,n){if(n==null||n==="")return ot;let r=[],i=an(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function FV(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&hl(t,r,n)}function LV(t,e,n,r,i,o,s,c){i===Nt&&(i=ot);let u=0,l=0,f=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,E=null,R;f===p?(u+=2,l+=2,m!==y&&(E=p,R=y)):p===null||f!==null&&f<p?(u+=2,E=f):(l+=2,E=p,R=y),E!==null&&JA(t,e,n,r,E,R,s,c),f=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function JA(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=EV(l)?YT(u,e,n,i,Ko(l),s):void 0;if(!id(f)){id(o)||_V(l)&&(o=YT(u,null,n,i,c,s));let p=Kp(Dn(),n);A1(r,s,p,i,o)}}function YT(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=n[i+1];m===Nt&&(m=p?ot:void 0);let y=p?pl(m,r):f===r?m:void 0;if(l&&!id(y)&&(y=pl(u,r)),id(y)&&(c=y,s))return c;let E=t[i+1];i=s?ji(E):Ko(E)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=pl(u,r))}return c}function id(t){return t!==void 0}function VV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Wn(an(t)))),t}function XA(t,e){return(t.flags&(e?8:16))!==0}function jV(t,e=""){let n=ee(),r=Re(),i=t+ge,o=r.firstCreatePass?es(r,i,1,e,null):r.data[i],s=e0(r,n,o,e,t);n[i]=s,Cl()&&Hg(r,n,s,o),Lo(o,!1)}var e0=(t,e,n,r,i)=>(Qn(!0),dC(e[fe],r));function BV(t,e,n,r,i){let o=!dd(e,n);if(Qn(o),o)return dC(e[fe],r);let s=e[pt];return _d(s,t,e,n)}function t0(){e0=BV}function UV(t,e,n,r=""){return sn(t,kr(),n)?e+Di(n)+r:Nt}function $V(t,e,n,r,i,o=""){let s=Qw(),c=xF(t,s,n,i);return El(2),c?e+Di(n)+r+Di(i)+o:Nt}function n0(t){return by("",t),n0}function by(t,e,n){let r=ee(),i=UV(r,t,e,n);return i!==Nt&&i0(r,Dn(),i),by}function r0(t,e,n,r,i){let o=ee(),s=$V(o,t,e,n,r,i);return s!==Nt&&i0(o,Dn(),s),r0}function i0(t,e,n){let r=Kp(e,t);u1(t[fe],r,n)}function o0(t,e,n){mm(e)&&(e=e());let r=ee(),i=kr();if(sn(r,i,e)){let o=Re(),s=Va();AC(s,r,t,e,r[fe],n)}return o0}function HV(t,e){let n=mm(t);return n&&t.set(e),n}function s0(t,e){let n=ee(),r=Re(),i=We();return qA(r,n,n[fe],i,t,e),s0}function zV(t,e,n){let r=Re();if(r.firstCreatePass){let i=Tn(t);pg(n,r.data,r.blueprint,i,!0),pg(e,r.data,r.blueprint,i,!1)}}function pg(t,e,n,r,i){if(t=Ze(t),Array.isArray(t))for(let o=0;o<t.length;o++)pg(t[o],e,n,r,i);else{let o=Re(),s=ee(),c=We(),u=Ii(t)?t:Ze(t.provide),l=zp(t),f=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(Ii(t)||!t.multi){let y=new Fi(l,i,ts,null),E=Nm(u,e,i?f:f+m,p);E===-1?(xm(zl(c,s),o,u),Rm(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(y),s.push(y)):(n[E]=y,s[E]=y)}else{let y=Nm(u,e,f+m,p),E=Nm(u,e,f,f+m),R=y>=0&&n[y],A=E>=0&&n[E];if(i&&!A||!i&&!R){xm(zl(c,s),o,u);let M=WV(i?GV:qV,n.length,i,r,l,t);!i&&A&&(n[E].providerFactory=M),Rm(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(M),s.push(M)}else{let M=a0(n[i?E:y],l,!i&&r);Rm(o,t,y>-1?y:E,M)}!i&&r&&A&&n[E].componentProviders++}}}function Rm(t,e,n,r){let i=Ii(e),o=xw(e);if(i||o){let u=(o?Ze(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function a0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Nm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function qV(t,e,n,r,i){return mg(this.multi,[])}function GV(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=$a(r,r[B],this.providerFactory.index,i);s=u.slice(0,c),mg(o,s);for(let l=c;l<u.length;l++)s.push(u[l])}else s=[],mg(o,s);return s}function mg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function WV(t,e,n,r,i,o){let s=new Fi(t,n,ts,null);return s.multi=[],s.index=e,s.componentProviders=0,a0(s,i,r&&!n),s}function c0(t,e=[]){return n=>{n.providersResolver=(r,i)=>zV(r,i?i(t):t,e)}}function KV(t,e){return vd(t,e)}var od=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},YV=(()=>{class t{compileModuleSync(n){return new ed(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Up(n),o=cC(i.declarations).reduce((s,c)=>{let u=_n(c);return u&&s.push(new Vi(u)),s},[]);return new od(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var QV=(()=>{class t{zone=S(re);changeDetectionScheduler=S(Tt);applicationRef=S(Et);applicationErrorHandler=S(Cn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function u0({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new re(Ce(J({},l0()),{scheduleInRootZone:n})),[{provide:re,useFactory:t},{provide:Xt,multi:!0,useFactory:()=>{let r=S(QV,{optional:!0});return()=>r.initialize()}},{provide:Xt,multi:!0,useFactory:()=>{let r=S(ZV);return()=>{r.initialize()}}},e===!0?{provide:gm,useValue:!0}:[],{provide:Sl,useValue:n??CA},{provide:Cn,useFactory:()=>{let r=S(re),i=S(He),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(kt),o.handleError(s))})}}}]}function l0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var ZV=(()=>{class t{subscription=new ke;initialized=!1;zone=S(re);pendingTasks=S(Zn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{re.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{re.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ey=(()=>{class t{applicationErrorHandler=S(Cn);appRef=S(Et);taskService=S(Zn);ngZone=S(re);zonelessEnabled=S(jo);tracing=S(Vr,{optional:!0});disableScheduling=S(gm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(td):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(S(Sl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ya||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?LT:AA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(td+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,LT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function JV(){return $t("NgZoneless"),_t([{provide:Tt,useExisting:Ey},{provide:re,useClass:Ya},{provide:jo,useValue:!0},{provide:Sl,useValue:!1},[]])}function XV(){return typeof $localize<"u"&&$localize.locale||cc}var Iy=new O("",{providedIn:"root",factory:()=>S(Iy,{optional:!0,skipSelf:!0})||XV()});function e2(t){return hw(t)}function d0(t,e){return pa(t,e?.equal)}var wy=class{[Ue];constructor(e){this[Ue]=e}destroy(){this[Ue].destroy()}};function t2(t,e){let n=e?.injector??S(Ie),r=e?.manualCleanup!==!0?n.get(jt):null,i,o=n.get(xi,null,{optional:!0}),s=n.get(Tt);return o!==null?(i=i2(o.view,s,t),r instanceof Sa&&r._lView===o.view&&(r=null)):i=o2(t,n.get(ja),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new wy(i)}var f0=Ce(J({},pw),{cleanupFns:void 0,zone:null,onDestroyFn:Pi,run(){let t=Vo(!1);try{mw(this)}finally{Vo(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=Y(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Y(t)}}}),n2=Ce(J({},f0),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Ir(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),r2=Ce(J({},f0),{consumerMarkedDirty(){this.view[K]|=8192,Pr(this.view),this.notifier.notify(13)},destroy(){Ir(this),this.onDestroyFn(),this.cleanup(),this.view[Kn]?.delete(this)}});function i2(t,e,n){let r=Object.create(r2);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=h0(r,n),t[Kn]??=new Set,t[Kn].add(r),r.consumerMarkedDirty(r),r}function o2(t,e,n){let r=Object.create(n2);return r.fn=h0(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function h0(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}var Sy={JSACTION:"__jsaction",OWNER:"__owner"},y0={};function s2(t){return t[Sy.JSACTION]}function p0(t,e){t[Sy.JSACTION]=e}function a2(t){return y0[t]}function c2(t,e){y0[t]=e}var H={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},u2=[H.MOUSEENTER,H.MOUSELEAVE,"pointerenter","pointerleave"],H7=[H.CLICK,H.DBLCLICK,H.FOCUSIN,H.FOCUSOUT,H.KEYDOWN,H.KEYUP,H.KEYPRESS,H.MOUSEOVER,H.MOUSEOUT,H.SUBMIT,H.TOUCHSTART,H.TOUCHEND,H.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],l2=[H.FOCUS,H.BLUR,H.ERROR,H.LOAD,H.TOGGLE],Ry=t=>l2.indexOf(t)>=0;function d2(t){return t===H.MOUSEENTER?H.MOUSEOVER:t===H.MOUSELEAVE?H.MOUSEOUT:t===H.POINTERENTER?H.POINTEROVER:t===H.POINTERLEAVE?H.POINTEROUT:t}function f2(t,e,n,r){let i=!1;Ry(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function h2(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function p2(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var m0=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function m2(t){return t.which===2||t.which==null&&t.button===4}function g2(t){return m0&&t.metaKey||!m0&&t.ctrlKey||m2(t)||t.shiftKey}function y2(t,e,n){let r=t.relatedTarget;return(t.type===H.MOUSEOVER&&e===H.MOUSEENTER||t.type===H.MOUSEOUT&&e===H.MOUSELEAVE||t.type===H.POINTEROVER&&e===H.POINTERENTER||t.type===H.POINTEROUT&&e===H.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function v2(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===H.MOUSEOVER?n.type=H.MOUSEENTER:t.type===H.MOUSEOUT?n.type=H.MOUSELEAVE:t.type===H.POINTEROVER?n.type=H.POINTERENTER:n.type=H.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var _2=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Nd=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){_2&&(this.element.style.cursor="pointer"),this.handlerInfos.push(f2(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)h2(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},b2={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function Ur(t){return t.eventType}function Ny(t,e){t.eventType=e}function Sd(t){return t.event}function v0(t,e){t.event=e}function _0(t){return t.targetElement}function b0(t,e){t.targetElement=e}function E0(t){return t.eic}function E2(t,e){t.eic=e}function I2(t){return t.timeStamp}function w2(t,e){t.timeStamp=e}function Rd(t){return t.eia}function I0(t,e,n){t.eia=[e,n]}function Ty(t){t.eia=void 0}function Ad(t){return t[1]}function T2(t){return t.eirp}function w0(t,e){t.eirp=e}function T0(t){return t.eir}function D0(t,e){t.eir=e}function C0(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function D2(t,e,n,r,i,o,s,c){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:c}}var Dy=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return Ur(this.eventInfo)}setEventType(e){Ny(this.eventInfo,e)}getEvent(){return Sd(this.eventInfo)}setEvent(e){v0(this.eventInfo,e)}getTargetElement(){return _0(this.eventInfo)}setTargetElement(e){b0(this.eventInfo,e)}getContainer(){return E0(this.eventInfo)}setContainer(e){E2(this.eventInfo,e)}getTimestamp(){return I2(this.eventInfo)}setTimestamp(e){w2(this.eventInfo,e)}getAction(){let e=Rd(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){Ty(this.eventInfo);return}I0(this.eventInfo,e.name,e.element)}getIsReplay(){return T2(this.eventInfo)}setIsReplay(e){w0(this.eventInfo,e)}getResolved(){return T0(this.eventInfo)}setResolved(e){D0(this.eventInfo,e)}clone(){return new t(C0(this.eventInfo))}},C2={},A2=/\s*;\s*/,S2=H.CLICK,Cy=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&Ur(e)===H.CLICK&&g2(Sd(e))?Ny(e,H.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){T0(e)||(this.populateAction(e,_0(e)),D0(e,!0))}resolveParentAction(e){let n=Rd(e),r=n&&Ad(n);Ty(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==E0(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!Rd(e));)r=this.getParentNode(r);let i=Rd(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(Ur(e)===H.MOUSEENTER||Ur(e)===H.MOUSELEAVE||Ur(e)===H.POINTERENTER||Ur(e)===H.POINTERLEAVE)))if(y2(Sd(e),Ur(e),Ad(i))){let o=v2(Sd(e),Ad(i));v0(e,o),b0(e,Ad(i))}else Ty(e)}getParentNode(e){let n=e[Sy.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[Ur(n)];i!==void 0&&I0(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=s2(e);if(!n){let r=e.getAttribute(Rl.JSACTION);if(!r)n=C2,p0(e,n);else{if(n=a2(r),!n){n={};let i=r.split(A2);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let c=s.indexOf(b2.EVENT_ACTION_SEPARATOR),u=c!==-1,l=u?s.substr(0,c).trim():S2,f=u?s.substr(c+1).trim():s;n[l]=f}c2(r,n)}p0(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},A0=(function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t})(A0||{}),Ay=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new Dy(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&R2(r.element,n)&&p2(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function R2(t,e){return t.tagName==="A"&&(e.getEventType()===H.CLICK||e.getEventType()===H.CLICKMOD)}var S0=Symbol.for("propagationStopped"),My={REPLAY:101};var N2="`preventDefault` called during event replay.";var M2="`composedPath` called during event replay.",Md=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new Cy({clickModSupport:n}),this.dispatcher=new Ay(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&k2(e),x2(e);e.getAction();){if(O2(e),Ry(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),P2(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function x2(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[S0]=!0,n()};Hi(e,"stopPropagation",r),Hi(e,"stopImmediatePropagation",r)}function P2(t){return!!t.getEvent()[S0]}function k2(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);Hi(e,"target",n),Hi(e,"eventPhase",My.REPLAY),Hi(e,"preventDefault",()=>{throw r(),new Error(N2+"")}),Hi(e,"composedPath",()=>{throw new Error(M2+"")})}function O2(t){let e=t.getEvent(),n=t.getAction()?.element;n&&Hi(e,"currentTarget",n,{configurable:!0})}function Hi(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function R0(t,e){t.ecrd(n=>{e.dispatch(n)},A0.I_AM_THE_JSACTION_FRAMEWORK)}function F2(t){return t?.q??[]}function L2(t){t&&(g0(t.c,t.et,t.h),g0(t.c,t.etc,t.h,!0))}function g0(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var V2=!1,N0=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=V2;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=D2(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){w0(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&u2.indexOf(n)>=0)return;let o=(c,u,l)=>{this.handleEvent(c,u,l)};this.eventHandlers[n]=o;let s=d2(r||n);if(s!==n){let c=this.browserEventTypeToExtraEventTypes[s]||[];c.push(n),this.browserEventTypeToExtraEventTypes[s]=c}this.containerManager.addEventListener(s,c=>u=>{o(n,u,c)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),L2(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let c=C0(i);Ny(c,o[s]),this.handleEventInfo(c)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function M0(t,e=window){return F2(e._ejsas?.[t])}function xy(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var j0=Symbol("InputSignalNode#UNSET"),Z2=Ce(J({},ma),{transformFn:void 0,applyValueToInputSignal(t,e){wo(t,e)}});function B0(t,e){let n=Object.create(Z2);n.value=t,n.transformFn=e?.transform;function r(){if(ci(n),n.value===j0){let i=null;throw new U(-950,i)}return n.value}return r[Ue]=n,r}var x0=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>yg(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},J2=new O("");J2.__NG_ELEMENT_ID__=t=>{let e=We();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new U(204,!1)};function P0(t,e){return B0(t,e)}function X2(t){return B0(j0,t)}var VX=(P0.required=X2,P0);function k0(t,e){return ty(e)}function ej(t,e){return ny(e)}var jX=(k0.required=ej,k0);function O0(t,e){return ty(e)}function tj(t,e){return ny(e)}var BX=(O0.required=tj,O0);var ss=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},U0=new ss("20.3.0");var ky=new O(""),nj=new O("");function uc(t){return!t.moduleRef}function rj(t){let e=uc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(re);return n.run(()=>{uc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Cn),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),uc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(ky);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ky);s.add(o),t.moduleRef.onDestroy(()=>{Ua(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return oj(r,n,()=>{let o=e.get(Zn),s=o.add(),c=e.get(fy);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(Iy,cc);if(HA(u||cc),!e.get(nj,!0))return uc(t)?e.get(Et):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(uc(t)){let f=e.get(Et);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return ij?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var ij;function oj(t,e,n){try{let r=n();return dy(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Pd=null;function sj(t=[],e){return Ie.create({name:e,providers:[{provide:Ma,useValue:"platform"},{provide:ky,useValue:new Set([()=>Pd=null])},...t]})}function aj(t=[]){if(Pd)return Pd;let e=sj(t);return Pd=e,kA(),cj(e),e}function cj(t){let e=t.get(ad,null);bn(t,()=>{e?.forEach(n=>n())})}function Fy(){return!1}var uj=(()=>{class t{static __NG_ELEMENT_ID__=lj}return t})();function lj(t){return dj(We(),ee(),(t&16)===16)}function dj(t,e,n){if(Yn(t)&&!n){let r=Lt(t.index,e);return new Lr(r,r)}else if(t.type&175){let r=e[Je];return new Lr(r,e)}return null}function $0(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;he(8);try{let o=i?.injector??aj(r),s=[u0({}),{provide:Tt,useExisting:Ey},aT,...n||[]],c=new Wa({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return rj({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{he(9)}}var xd=new WeakSet,F0="",kd=[];function L0(t){return t.get(Tg,MD)}function H0(){let t=[{provide:Tg,useFactory:()=>{let e=!0;{let n=S(Ut);e=!!window._ejsas?.[n]}return e&&$t("NgEventReplay"),e}}];return t.push({provide:Xt,useValue:()=>{let e=S(Et),{injector:n}=e;if(!xd.has(e)){let r=S(Dg);if(L0(n)){jD();let i=n.get(Ut),o=LD(i,(s,c,u)=>{s.nodeType===Node.ELEMENT_NODE&&(PD(s,c,u),kD(s,r))});e.onDestroy(o)}}},multi:!0},{provide:os,useFactory:()=>{let e=S(Et),{injector:n}=e;return()=>{if(!L0(n)||xd.has(e))return;xd.add(e);let r=n.get(Ut);e.onDestroy(()=>{xd.delete(e),xy(r)}),e.whenStable().then(()=>{if(e.destroyed)return;let i=n.get(FD);fj(i,n);let o=n.get(Dg);o.get(F0)?.forEach(OD),o.delete(F0);let s=i.instance;GD(n)?e.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),t}var fj=(t,e)=>{let n=e.get(Ut),r=window._ejsas[n],i=t.instance=new N0(new Nd(r.c));for(let c of r.et)i.addEvent(c);for(let c of r.etc)i.addEvent(c);let o=M0(n);i.replayEarlyEventInfos(o),xy(n);let s=new Md(c=>{hj(e,c,c.currentTarget)});R0(i,s)};function hj(t,e,n){let r=(n&&n.getAttribute(ec))??"";/d\d+/.test(r)?pj(r,t,e,n):e.eventPhase===My.REPLAY&&Cg(e,n)}function pj(t,e,n,r){kd.push({event:n,currentTarget:r}),LA(e,t,mj)}function mj(t){let e=[...kd],n=new Set(t);kd=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(ec);n.has(o)?Cg(r,i):kd.push({event:r,currentTarget:i})}}var V0=!1;function gj(){V0||(V0=!0,HD(),BA(),t0(),UA(),DA(),uA(),KC(),CC())}function yj(t){return t.whenStable()}function z0(){let t=[{provide:Xa,useFactory:()=>{let e=!0;return e=!!S(Bi,{optional:!0})?.get(Ag,null),e&&$t("NgHydration"),e}},{provide:Xt,useValue:()=>{zC(!1),S(Xa)&&(YD(Ja()),gj())},multi:!0}];return t.push({provide:wg,useFactory:()=>S(Xa)},{provide:os,useFactory:()=>{if(S(Xa)){let e=S(Et);return()=>{yj(e).then(()=>{e.destroyed||Zg(e)})}}return()=>{}},multi:!0}),_t(t)}function as(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function q0(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}var Py=Symbol("NOT_SET"),G0=new Set,vj=Ce(J({},ma),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:Py,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(t){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==Py&&!li(this))return this.signal;try{for(let i of this.cleanup??G0)i()}finally{this.cleanup?.clear()}let e=[];t!==void 0&&e.push(t),e.push(this.registerCleanupFn);let n=Er(this),r;try{r=this.userFn.apply(null,e)}finally{ui(this,n)}return(this.value===Py||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),Oy=class extends Qa{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(e,n,r,i,o,s=null){super(e,[void 0,void 0,void 0,void 0],r,!1,o.get(jt),s),this.scheduler=i;for(let c of ay){let u=n[c];if(u===void 0)continue;let l=Object.create(vj);l.sequence=this,l.phase=c,l.userFn=u,l.dirty=!0,l.signal=()=>(ci(l),l.value),l.signal[Ue]=l,l.registerCleanupFn=f=>(l.cleanup??=new Set).add(f),this.nodes[c]=l,this.hooks[c]=f=>l.phaseFn(f)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let e of this.nodes)if(e)try{for(let n of e.cleanup??G0)n()}finally{Ir(e)}}};function UX(t,e){let n=e?.injector??S(Ie),r=n.get(Tt),i=n.get(Cd),o=n.get(Vr,null,{optional:!0});i.impl??=n.get(cy);let s=t;typeof s=="function"&&(s={mixedReadWrite:t});let c=n.get(xi,null,{optional:!0}),u=new Oy(i.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],c?.view,r,n,o?.snapshot(null));return i.impl.register(u),u}function W0(t,e){let n=_n(t),r=e.elementInjector||ko();return new Vi(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}var Q0=null;function rr(){return Q0}function Ly(t){Q0??=t}var lc=class{},Vy=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:()=>S(Z0),providedIn:"platform"})}return t})();var Z0=(()=>{class t extends Vy{_location;_history;_doc=S(ye);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rr().getBaseHref(this._doc)}onPopState(n){let r=rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function J0(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function K0(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function $r(t){return t&&t[0]!=="?"?`?${t}`:t}var Od=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:()=>S(eS),providedIn:"root"})}return t})(),X0=new O(""),eS=(()=>{class t extends Od{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return J0(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+$r(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+$r(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+$r(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(W(Vy),W(X0,8))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tS=(()=>{class t{_subject=new $e;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Ej(K0(Y0(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+$r(r))}normalize(n){return t.stripTrailingSlash(bj(this._basePath,Y0(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$r(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$r(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=$r;static joinWithSlash=J0;static stripTrailingSlash=K0;static \u0275fac=function(r){return new(r||t)(W(Od))};static \u0275prov=V({token:t,factory:()=>_j(),providedIn:"root"})}return t})();function _j(){return new tS(W(Od))}function bj(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Y0(t){return t.replace(/\/index.html$/,"")}function Ej(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Ij=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||t)(ts(ns))};static \u0275dir=st({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[sd]})}return t})();var nS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=qe({type:t});static \u0275inj=Oe({})}return t})();function dc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var zi=class{};var jy="browser";function rS(t){return t===jy}var Ld=new O(""),zy=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(W(Ld),W(re))};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})(),fc=class{_doc;constructor(e){this._doc=e}manager},By="ng-app-id";function iS(t){for(let e of t)e.remove()}function oS(t,e){let n=e.createElement("style");return n.textContent=t,n}function Tj(t,e,n,r){let i=t.head?.querySelectorAll(`style[${By}="${e}"],link[${By}="${e}"]`);if(i)for(let o of i)o.removeAttribute(By),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function $y(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var qy=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,Tj(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,oS);r?.forEach(i=>this.addUsage(i,this.external,$y))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(iS(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])iS(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,oS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,$y(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(W(ye),W(Ut),W(Zo,8),W(Nn))};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})(),Uy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gy=/%COMP%/g;var aS="%COMP%",Dj=`_nghost-${aS}`,Cj=`_ngcontent-${aS}`,Aj=!0,Sj=new O("",{providedIn:"root",factory:()=>Aj});function Rj(t){return Cj.replace(Gy,t)}function Nj(t){return Dj.replace(Gy,t)}function cS(t,e){return e.map(n=>n.replace(Gy,t))}var Wy=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(n,r,i,o,s,c,u,l=null,f,p,m=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.animationDisabled=f,this.maxAnimationTimeout=p,this.tracingService=m,this.platformIsServer=!1,this.defaultRenderer=new hc(n,s,u,this.platformIsServer,this.tracingService,this.registry=Al(),this.maxAnimationTimeout)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Fd?i.applyToHost(n):i instanceof pc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Jn.Emulated:o=new Fd(u,l,r,this.appId,f,s,c,p,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case Jn.ShadowDom:return new Hy(u,l,n,r,s,c,this.nonce,p,m,this.registry,this.maxAnimationTimeout);default:o=new pc(u,l,r,f,s,c,p,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(W(zy),W(qy),W(Ut),W(Sj),W(ye),W(Nn),W(re),W(Zo),W(hy),W(py),W(Vr,8))};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})(),hc=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o,s,c){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=c}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Uy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(sS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(sS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){let{elements:r}=this.registry;if(r){r.animate(n,()=>n.remove(),this.maxAnimationTimeout);return}n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Uy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Uy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(er.DashCase|er.Important)?e.style.setProperty(n,r,i&er.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&er.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=rr().getGlobalEventTarget(this.doc,e),!e))throw new U(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function sS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Hy=class extends hc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,c,u,l,f,p){super(e,o,s,u,l,f,p),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=i.styles;m=cS(i.id,m);for(let E of m){let R=document.createElement("style");c&&R.setAttribute("nonce",c),R.textContent=E,this.shadowRoot.appendChild(R)}let y=i.getExternalStyles?.();if(y)for(let E of y){let R=$y(E,o);c&&R.setAttribute("nonce",c),this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},pc=class extends hc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,n,r,i,o,s,c,u,l,f,p,m){super(e,o,s,c,u,l,p),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this._animationDisabled=f;let y=r.styles;this.styles=m?cS(m,y):y,this.styleUrls=r.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},Fd=class extends pc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,c,u,l,f,p,m){let y=i+"-"+r.id;super(e,n,r,o,s,c,u,l,f,p,m,y),this.contentAttr=Rj(y),this.hostAttr=Nj(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Vd=class t extends lc{supportsDOMEvents=!0;static makeCurrent(){Ly(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Mj();return n==null?null:xj(n)}resetBaseElement(){mc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return dc(document.cookie,e)}},mc=null;function Mj(){return mc=mc||document.head.querySelector("base"),mc?mc.getAttribute("href"):null}function xj(t){return new URL(t,document.baseURI).pathname}var Pj=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})(),lS=(()=>{class t extends fc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(W(ye))};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})(),uS=["alt","control","meta","shift"],kj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Oj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},dS=(()=>{class t extends fc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),c=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rr().onAndCancel(n,s.domEventName,c,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),uS.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=kj[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),uS.forEach(s=>{if(s!==i){let c=Oj[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(W(ye))};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})();function Fj(t,e,n){let r=J({rootComponent:t,platformRef:n?.platformRef},Lj(e));return $0(r)}function Lj(t){return{appProviders:[...$j,...t?.providers??[]],platformProviders:Uj}}function Vj(){Vd.makeCurrent()}function jj(){return new kt}function Bj(){return _g(document),document}var Uj=[{provide:Nn,useValue:jy},{provide:ad,useValue:Vj,multi:!0},{provide:ye,useFactory:Bj}];var $j=[{provide:Ma,useValue:"root"},{provide:kt,useFactory:jj},{provide:Ld,useClass:lS,multi:!0,deps:[ye]},{provide:Ld,useClass:dS,multi:!0,deps:[ye]},Wy,qy,zy,{provide:on,useExisting:Wy},{provide:zi,useClass:Pj},[]];var us=class{},ls=class{},ln=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Ud=class{encodeKey(e){return fS(e)}encodeValue(e){return fS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Hj(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,c]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(c),n.set(s,u)}),n}var zj=/%(\d[a-f0-9])/gi,qj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fS(t){return encodeURIComponent(t).replace(zj,(e,n)=>qj[n]??e)}function jd(t){return`${t}`}var ir=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Ud,e.fromString){if(e.fromObject)throw new U(2805,!1);this.map=Hj(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(jd):[jd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(jd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(jd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var $d=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Gj(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function hS(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function pS(t){return typeof Blob<"u"&&t instanceof Blob}function mS(t){return typeof FormData<"u"&&t instanceof FormData}function Wj(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var gc="Content-Type",Hd="Accept",Jy="X-Request-URL",yS="text/plain",vS="application/json",_S=`${vS}, ${yS}, */*`,cs=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(Gj(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new U(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new ln,this.context??=new $d,!this.params)this.params=new ir,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),u=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||hS(this.body)||pS(this.body)||mS(this.body)||Wj(this.body)?this.body:this.body instanceof ir?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||mS(this.body)?null:pS(this.body)?this.body.type||null:hS(this.body)?null:typeof this.body=="string"?yS:this.body instanceof ir?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?vS:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,c=e.cache||this.cache,u=e.mode||this.mode,l=e.redirect||this.redirect,f=e.credentials||this.credentials,p=e.referrer||this.referrer,m=e.integrity||this.integrity,y=e.transferCache??this.transferCache,E=e.timeout??this.timeout,R=e.body!==void 0?e.body:this.body,A=e.withCredentials??this.withCredentials,M=e.reportProgress??this.reportProgress,F=e.headers||this.headers,$=e.params||this.params,z=e.context??this.context;return e.setHeaders!==void 0&&(F=Object.keys(e.setHeaders).reduce((_e,se)=>_e.set(se,e.setHeaders[se]),F)),e.setParams&&($=Object.keys(e.setParams).reduce((_e,se)=>_e.set(se,e.setParams[se]),$)),new t(n,r,R,{params:$,headers:F,context:z,reportProgress:M,responseType:i,withCredentials:A,transferCache:y,keepalive:o,cache:c,priority:s,timeout:E,mode:u,redirect:l,credentials:f,referrer:p,integrity:m})}},or=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(or||{}),ds=class{headers;status;statusText;url;ok;type;redirected;constructor(e,n=200,r="OK"){this.headers=e.headers||new ln,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},yc=class t extends ds{constructor(e={}){super(e)}type=or.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},qi=class t extends ds{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=or.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},Mn=class extends ds{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},bS=200,Kj=204;function Ky(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer}}var ES=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof cs)o=n;else{let u;i.headers instanceof ln?u=i.headers:u=new ln(i.headers);let l;i.params&&(i.params instanceof ir?l=i.params:l=new ir({fromObject:i.params})),o=new cs(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=Cr(o).pipe(cp(u=>this.handler.handle(u)));if(n instanceof cs||i.observe==="events")return s;let c=s.pipe(qn(u=>u instanceof qi));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(it(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new U(2806,!1);return u.body}));case"blob":return c.pipe(it(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new U(2807,!1);return u.body}));case"text":return c.pipe(it(u=>{if(u.body!==null&&typeof u.body!="string")throw new U(2808,!1);return u.body}));case"json":default:return c.pipe(it(u=>u.body))}case"response":return c;default:throw new U(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new ir().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Ky(i,r))}post(n,r,i={}){return this.request("POST",n,Ky(i,r))}put(n,r,i={}){return this.request("PUT",n,Ky(i,r))}static \u0275fac=function(r){return new(r||t)(W(us))};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})(),Yj=/^\)\]\}',?\n/;function gS(t){if(t.url)return t.url;let e=Jy.toLocaleLowerCase();return t.headers.get(e)}var IS=new O(""),Bd=(()=>{class t{fetchImpl=S(Yy,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n));ngZone=S(re);destroyRef=S(jt);destroyed=!1;constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0})}handle(n){return new Q(r=>{let i=new AbortController;this.doRequest(n,i.signal,r).then(Qy,s=>r.error(new Mn({error:s})));let o;return n.timeout&&(o=this.ngZone.runOutsideAngular(()=>setTimeout(()=>{i.signal.aborted||i.abort(new DOMException("signal timed out","TimeoutError"))},n.timeout))),()=>{o!==void 0&&clearTimeout(o),i.abort()}})}async doRequest(n,r,i){let o=this.createRequestInit(n),s;try{let E=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,J({signal:r},o)));Qj(E),i.next({type:or.Sent}),s=await E}catch(E){i.error(new Mn({error:E,status:E.status??0,statusText:E.statusText,url:n.urlWithParams,headers:E.headers}));return}let c=new ln(s.headers),u=s.statusText,l=gS(s)??n.urlWithParams,f=s.status,p=null;if(n.reportProgress&&i.next(new yc({headers:c,status:f,statusText:u,url:l})),s.body){let E=s.headers.get("content-length"),R=[],A=s.body.getReader(),M=0,F,$,z=typeof Zone<"u"&&Zone.current,_e=!1;if(await this.ngZone.runOutsideAngular(async()=>{for(;;){if(this.destroyed){await A.cancel(),_e=!0;break}let{done:w,value:v}=await A.read();if(w)break;if(R.push(v),M+=v.length,n.reportProgress){$=n.responseType==="text"?($??"")+(F??=new TextDecoder).decode(v,{stream:!0}):void 0;let _=()=>i.next({type:or.DownloadProgress,total:E?+E:void 0,loaded:M,partialText:$});z?z.run(_):_()}}}),_e){i.complete();return}let se=this.concatChunks(R,M);try{let w=s.headers.get(gc)??"";p=this.parseBody(n,se,w,f)}catch(w){i.error(new Mn({error:w,headers:new ln(s.headers),status:s.status,statusText:s.statusText,url:gS(s)??n.urlWithParams}));return}}f===0&&(f=p?bS:0);let m=f>=200&&f<300,y=s.redirected;m?(i.next(new qi({body:p,headers:c,status:f,statusText:u,url:l,redirected:y})),i.complete()):i.error(new Mn({error:p,headers:c,status:f,statusText:u,url:l,redirected:y}))}parseBody(n,r,i,o){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(Yj,"");if(s==="")return null;try{return JSON.parse(s)}catch(c){if(o<200||o>=300)return s;throw c}case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i;if(i=n.credentials,n.withCredentials&&(i="include"),n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has(Hd)||(r[Hd]=_S),!n.headers.has(gc)){let o=n.detectContentTypeHeader();o!==null&&(r[gc]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i,keepalive:n.keepalive,cache:n.cache,priority:n.priority,mode:n.mode,redirect:n.redirect,referrer:n.referrer,integrity:n.integrity}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})(),Yy=class{};function Qy(){}function Qj(t){t.then(Qy,Qy)}function Zj(t,e){return e(t)}function Jj(t,e,n){return(r,i)=>bn(n,()=>e(r,o=>t(o,i)))}var wS=new O(""),Xy=new O(""),TS=new O("",{providedIn:"root",factory:()=>!0});var zd=(()=>{class t extends us{backend;injector;chain=null;pendingTasks=S(An);contributeToStability=S(TS);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(wS),...this.injector.get(Xy,[])]));this.chain=r.reduceRight((i,o)=>Jj(i,o,this.injector),Zj)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(dp(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(W(ls),W(He))};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})();var Xj=/^\)\]\}',?\n/,eB=RegExp(`^${Jy}:`,"m");function tB(t){return"responseURL"in t&&t.responseURL?t.responseURL:eB.test(t.getAllResponseHeaders())?t.getResponseHeader(Jy):null}var Zy=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new U(-2800,!1);let r=this.xhrFactory;return Cr(null).pipe(gp(()=>new Q(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((A,M)=>s.setRequestHeader(A,M.join(","))),n.headers.has(Hd)||s.setRequestHeader(Hd,_S),!n.headers.has(gc)){let A=n.detectContentTypeHeader();A!==null&&s.setRequestHeader(gc,A)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let A=n.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let c=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let A=s.statusText||"OK",M=new ln(s.getAllResponseHeaders()),F=tB(s)||n.url;return u=new yc({headers:M,status:s.status,statusText:A,url:F}),u},f=()=>{let{headers:A,status:M,statusText:F,url:$}=l(),z=null;M!==Kj&&(z=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=z?bS:0);let _e=M>=200&&M<300;if(n.responseType==="json"&&typeof z=="string"){let se=z;z=z.replace(Xj,"");try{z=z!==""?JSON.parse(z):null}catch(w){z=se,_e&&(_e=!1,z={error:w,text:z})}}_e?(o.next(new qi({body:z,headers:A,status:M,statusText:F,url:$||void 0})),o.complete()):o.error(new Mn({error:z,headers:A,status:M,statusText:F,url:$||void 0}))},p=A=>{let{url:M}=l(),F=new Mn({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(F)},m=p;n.timeout&&(m=A=>{let{url:M}=l(),F=new Mn({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:M||void 0});o.error(F)});let y=!1,E=A=>{y||(o.next(l()),y=!0);let M={type:or.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(M.total=A.total),n.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},R=A=>{let M={type:or.UploadProgress,loaded:A.loaded};A.lengthComputable&&(M.total=A.total),o.next(M)};return s.addEventListener("load",f),s.addEventListener("error",p),s.addEventListener("timeout",m),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",E),c!==null&&s.upload&&s.upload.addEventListener("progress",R)),s.send(c),o.next({type:or.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",f),s.removeEventListener("timeout",m),n.reportProgress&&(s.removeEventListener("progress",E),c!==null&&s.upload&&s.upload.removeEventListener("progress",R)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(W(zi))};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})(),DS=new O(""),nB="XSRF-TOKEN",rB=new O("",{providedIn:"root",factory:()=>nB}),iB="X-XSRF-TOKEN",oB=new O("",{providedIn:"root",factory:()=>iB}),vc=class{},sB=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=dc(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(W(ye),W(rB))};static \u0275prov=V({token:t,factory:t.\u0275fac})}return t})();function aB(t,e){let n=t.url.toLowerCase();if(!S(DS)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=S(vc).getToken(),i=S(oB);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var ev=(function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t})(ev||{});function cB(t,e){return{\u0275kind:t,\u0275providers:e}}function uB(...t){let e=[ES,Zy,zd,{provide:us,useExisting:zd},{provide:ls,useFactory:()=>S(IS,{optional:!0})??S(Zy)},{provide:wS,useValue:aB,multi:!0},{provide:DS,useValue:!0},{provide:vc,useClass:sB}];for(let n of t)e.push(...n.\u0275providers);return _t(e)}function lB(){return cB(ev.Fetch,[Bd,{provide:IS,useExisting:Bd},{provide:ls,useExisting:Bd}])}var dB=new O(""),fB="b",hB="h",pB="s",mB="st",gB="u",yB="rt",tv=new O(""),vB=["GET","HEAD"];function _B(t,e){let y=S(tv),{isCacheActive:n}=y,r=PI(y,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!vB.includes(o)||!r.includeRequestsWithAuthHeaders&&bB(t)||r.filter?.(t)===!1)return e(t);let s=S(Bi);if(S(dB,{optional:!0}))throw new U(2803,!1);let u=t.url,l=EB(t,u),f=s.get(l,null),p=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(p=i.includeHeaders),f){let{[fB]:E,[yB]:R,[hB]:A,[pB]:M,[mB]:F,[gB]:$}=f,z=E;switch(R){case"arraybuffer":z=new TextEncoder().encode(E).buffer;break;case"blob":z=new Blob([E]);break}let _e=new ln(A);return Cr(new qi({body:z,headers:_e,status:M,statusText:F,url:$}))}return e(t)}function bB(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function CS(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function EB(t,e){let{params:n,method:r,responseType:i}=t,o=CS(n),s=t.serializeBody();s instanceof URLSearchParams?s=CS(s):typeof s!="string"&&(s="");let c=[r,i,e,s,o].join("|"),u=IB(c);return u}function IB(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function AS(t){return[{provide:tv,useFactory:()=>($t("NgHttpTransferCache"),J({isCacheActive:!0},t))},{provide:Xy,useValue:_B,multi:!0},{provide:os,multi:!0,useFactory:()=>{let e=S(Et),n=S(tv);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var Rne=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(W(ye))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var wB=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=W(TB),i},providedIn:"root"})}return t})(),TB=(()=>{class t extends wB{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case cn.NONE:return r;case cn.HTML:return tr(r,"HTML")?an(r):kg(this._doc,String(r)).toString();case cn.STYLE:return tr(r,"Style")?an(r):r;case cn.SCRIPT:if(tr(r,"Script"))return an(r);throw new U(5200,!1);case cn.URL:return tr(r,"URL")?an(r):nc(String(r));case cn.RESOURCE_URL:if(tr(r,"ResourceURL"))return an(r);throw new U(5201,!1);default:throw new U(5202,!1)}}bypassSecurityTrustHtml(n){return Rg(n)}bypassSecurityTrustStyle(n){return Ng(n)}bypassSecurityTrustScript(n){return Mg(n)}bypassSecurityTrustUrl(n){return xg(n)}bypassSecurityTrustResourceUrl(n){return Pg(n)}static \u0275fac=function(r){return new(r||t)(W(ye))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qd=(function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t})(qd||{});function DB(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function Nne(){return DB(qd.EventReplay,H0())}function Mne(...t){let e=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);let r=n.has(qd.HttpTransferCacheOptions);return _t([[],[],z0(),n.has(qd.NoHttpTransferCache)||r?[]:AS({}),e])}function _c(t){return t.buttons===0||t.detail===0}function bc(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var nv;function SS(){if(nv==null){let t=typeof document<"u"?document.head:null;nv=!!(t&&(t.createShadowRoot||t.attachShadow))}return nv}function rv(t){if(SS()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function dn(t){return t.composedPath?t.composedPath()[0]:t.target}var iv;try{iv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{iv=!1}var qt=(()=>{class t{_platformId=S(Nn);isBrowser=this._platformId?rS(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||iv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ec;function RS(){if(Ec==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ec=!0}))}finally{Ec=Ec||!1}return Ec}function fs(t){return RS()?t:!!t.capture}function Hr(t){return t instanceof bt?t.nativeElement:t}var NS=new O("cdk-input-modality-detector-options"),MS={ignoreKeys:[18,17,224,91,16]},xS=650,ov={passive:!0,capture:!0},PS=(()=>{class t{_platform=S(qt);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new pi(null);_options;_lastTouchMs=0;_onKeydown=n=>{this._options?.ignoreKeys?.some(r=>r===n.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=dn(n))};_onMousedown=n=>{Date.now()-this._lastTouchMs<xS||(this._modality.next(_c(n)?"keyboard":"mouse"),this._mostRecentTarget=dn(n))};_onTouchstart=n=>{if(bc(n)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=dn(n)};constructor(){let n=S(re),r=S(ye),i=S(NS,{optional:!0});if(this._options=J(J({},MS),i),this.modalityDetected=this._modality.pipe(Ia(1)),this.modalityChanged=this.modalityDetected.pipe(lp()),this._platform.isBrowser){let o=S(on).createRenderer(null,null);this._listenerCleanups=n.runOutsideAngular(()=>[o.listen(r,"keydown",this._onKeydown,ov),o.listen(r,"mousedown",this._onMousedown,ov),o.listen(r,"touchstart",this._onTouchstart,ov)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(n=>n())}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ic=(function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t})(Ic||{}),kS=new O("cdk-focus-monitor-default-options"),Gd=fs({passive:!0,capture:!0}),sv=(()=>{class t{_ngZone=S(re);_platform=S(qt);_inputModalityDetector=S(PS);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=S(ye);_stopInputModalityDetector=new $e;constructor(){let n=S(kS,{optional:!0});this._detectionMode=n?.detectionMode||Ic.IMMEDIATE}_rootNodeFocusAndBlurListener=n=>{let r=dn(n);for(let i=r;i;i=i.parentElement)n.type==="focus"?this._onFocus(n,i):this._onBlur(n,i)};monitor(n,r=!1){let i=Hr(n);if(!this._platform.isBrowser||i.nodeType!==1)return Cr();let o=rv(i)||this._document,s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let c={checkChildren:r,subject:new $e,rootNode:o};return this._elementInfo.set(i,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(n){let r=Hr(n),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(n,r,i){let o=Hr(n),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([c,u])=>this._originChanged(c,r,u)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===Ic.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===Ic.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?xS:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(n,r){let i=this._elementInfo.get(r),o=dn(n);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(n,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Gd),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Gd)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(wa(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Gd),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Gd),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,i){this._setClasses(n,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((i,o)=>{(o===n||i.checkChildren&&o.contains(n))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let o=n.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Wd=new WeakMap,wc=(()=>{class t{_appRef;_injector=S(Ie);_environmentInjector=S(He);load(n){let r=this._appRef=this._appRef||this._injector.get(Et),i=Wd.get(r);i||(i={loaders:new Set,refs:[]},Wd.set(r,i),r.onDestroy(()=>{Wd.get(r)?.refs.forEach(o=>o.destroy()),Wd.delete(r)})),i.loaders.has(n)||(i.loaders.add(n),i.refs.push(W0(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function av(t){return Array.isArray(t)?t:[t]}var OS=new Set,Gi,Kd=(()=>{class t{_platform=S(qt);_nonce=S(Zo,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):AB}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&CB(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function CB(t,e){if(!OS.has(t))try{Gi||(Gi=document.createElement("style"),e&&Gi.setAttribute("nonce",e),Gi.setAttribute("type","text/css"),document.head.appendChild(Gi)),Gi.sheet&&(Gi.sheet.insertRule(`@media ${t} {body{ }}`,0),OS.add(t))}catch(n){console.error(n)}}function AB(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var cv=(()=>{class t{_mediaMatcher=S(Kd);_zone=S(re);_queries=new Map;_destroySubject=new $e;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return FS(av(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let i=FS(av(n)).map(s=>this._registerQuery(s).observable),o=ap(i);return o=Mo(o.pipe(Ea(1)),o.pipe(Ia(1),up(0))),o.pipe(it(s=>{let c={matches:!1,breakpoints:{}};return s.forEach(({matches:u,query:l})=>{c.matches=c.matches||u,c.breakpoints[l]=u}),c}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),o={observable:new Q(s=>{let c=u=>this._zone.run(()=>s.next(u));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(mp(r),it(({matches:s})=>({query:n,matches:s})),wa(this._destroySubject)),mql:r};return this._queries.set(n,o),o}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function FS(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var SB=(()=>{class t{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var bre=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=qe({type:t});static \u0275inj=Oe({providers:[SB]})}return t})();var jS=new O("liveAnnouncerElement",{providedIn:"root",factory:BS});function BS(){return null}var US=new O("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),RB=0,NB=(()=>{class t{_ngZone=S(re);_defaultOptions=S(US,{optional:!0});_liveElement;_document=S(ye);_previousTimeout;_currentPromise;_currentResolve;constructor(){let n=S(jS,{optional:!0});this._liveElement=n||this._createLiveElement()}announce(n,...r){let i=this._defaultOptions,o,s;return r.length===1&&typeof r[0]=="number"?s=r[0]:[o,s]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),s==null&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let n="cdk-live-announcer-element",r=this._document.getElementsByClassName(n),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(n),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${RB++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(n){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");s?s.indexOf(n)===-1&&o.setAttribute("aria-owns",s+" "+n):o.setAttribute("aria-owns",n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var zr=(function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t})(zr||{}),LS="cdk-high-contrast-black-on-white",VS="cdk-high-contrast-white-on-black",uv="cdk-high-contrast-active",lv=(()=>{class t{_platform=S(qt);_hasCheckedHighContrastMode;_document=S(ye);_breakpointSubscription;constructor(){this._breakpointSubscription=S(cv).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return zr.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(n):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(n.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return zr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return zr.BLACK_ON_WHITE}return zr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(uv,LS,VS),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===zr.BLACK_ON_WHITE?n.add(uv,LS):r===zr.WHITE_ON_BLACK&&n.add(uv,VS)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var dv={},MB=(()=>{class t{_appId=S(Ut);getId(n){return this._appId!=="ng"&&(n+=this._appId),dv.hasOwnProperty(n)||(dv[n]=0),`${n}${dv[n]++}`}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Wi;function zre(){if(Wi==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Wi=!1,Wi;if("scrollBehavior"in document.documentElement.style)Wi=!0;else{let t=Element.prototype.scrollTo;t?Wi=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Wi=!1}}return Wi}function Gre(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var hs,$S=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Yre(){if(hs)return hs;if(typeof document!="object"||!document)return hs=new Set($S),hs;let t=document.createElement("input");return hs=new Set($S.filter(e=>(t.setAttribute("type",e),t.type===e))),hs}var eie={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var xB=new O("MATERIAL_ANIMATIONS");var HS=null;function PB(){return S(xB,{optional:!0})?.animationsDisabled||S(bg,{optional:!0})==="NoopAnimations"?"di-disabled":(HS??=S(Kd).matchMedia("(prefers-reduced-motion)").matches,HS?"reduced-motion":"enabled")}function ps(){return PB()!=="enabled"}function sie(t){return t==null?"":typeof t=="string"?t:`${t}px`}function lie(t){return t!=null&&`${t}`!="false"}var Gt=(function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t})(Gt||{}),fv=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Gt.HIDDEN;constructor(e,n,r,i=!1){this._renderer=e,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},zS=fs({passive:!0,capture:!0}),hv=class{_events=new Map;addHandler(e,n,r,i){let o=this._events.get(n);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,zS)})}removeHandler(e,n,r){let i=this._events.get(e);if(!i)return;let o=i.get(n);o&&(o.delete(r),o.size===0&&i.delete(n),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,zS)))}_delegateEventHandler=e=>{let n=dn(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(o=>o.handleEvent(e))})}},Tc={enterDuration:225,exitDuration:150},kB=800,qS=fs({passive:!0,capture:!0}),GS=["mousedown","touchstart"],WS=["mouseup","mouseleave","touchend","touchcancel"],OB=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ht({type:t,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return t})(),Dc=class t{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new hv;constructor(e,n,r,i,o){this._target=e,this._ngZone=n,this._platform=i,i.isBrowser&&(this._containerElement=Hr(r)),o&&o.get(wc).load(OB)}fadeInRipple(e,n,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=J(J({},Tc),r.animation);r.centered&&(e=i.left+i.width/2,n=i.top+i.height/2);let s=r.radius||FB(e,n,i),c=e-i.left,u=n-i.top,l=o.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=`${c-s}px`,f.style.top=`${u-s}px`,f.style.height=`${s*2}px`,f.style.width=`${s*2}px`,r.color!=null&&(f.style.backgroundColor=r.color),f.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(f);let p=window.getComputedStyle(f),m=p.transitionProperty,y=p.transitionDuration,E=m==="none"||y==="0s"||y==="0s, 0s"||i.width===0&&i.height===0,R=new fv(this,f,r,E);f.style.transform="scale3d(1, 1, 1)",R.state=Gt.FADING_IN,r.persistent||(this._mostRecentTransientRipple=R);let A=null;return!E&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let M=()=>{A&&(A.fallbackTimer=null),clearTimeout($),this._finishRippleTransition(R)},F=()=>this._destroyRipple(R),$=setTimeout(F,l+100);f.addEventListener("transitionend",M),f.addEventListener("transitioncancel",F),A={onTransitionEnd:M,onTransitionCancel:F,fallbackTimer:$}}),this._activeRipples.set(R,A),(E||!l)&&this._finishRippleTransition(R),R}fadeOutRipple(e){if(e.state===Gt.FADING_OUT||e.state===Gt.HIDDEN)return;let n=e.element,r=J(J({},Tc),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=Gt.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=Hr(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,GS.forEach(r=>{t._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{WS.forEach(n=>{this._triggerElement.addEventListener(n,this,qS)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Gt.FADING_IN?this._startFadeOutTransition(e):e.state===Gt.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=Gt.VISIBLE,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Gt.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),e.element.remove()}_onMousedown(e){let n=_c(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+kB;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!bc(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===Gt.VISIBLE||e.config.terminateOnPointerUp&&e.state===Gt.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(GS.forEach(n=>t._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(WS.forEach(n=>e.removeEventListener(n,this,qS)),this._pointerUpEventsRegistered=!1))}};function FB(t,e,n){let r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}var pv=new O("mat-ripple-global-options"),Tie=(()=>{class t{_elementRef=S(bt);_animationsDisabled=ps();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let n=S(re),r=S(qt),i=S(pv,{optional:!0}),o=S(Ie);this._globalOptions=i||{},this._rippleRenderer=new Dc(this,n,this._elementRef,r,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:J(J(J({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,i){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,r,J(J({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,J(J({},this.rippleConfig),n))}static \u0275fac=function(r){return new(r||t)};static \u0275dir=st({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&un("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})();var LB={capture:!0},VB=["focus","mousedown","mouseenter","touchstart"],mv="mat-ripple-loader-uninitialized",gv="mat-ripple-loader-class-name",KS="mat-ripple-loader-centered",Yd="mat-ripple-loader-disabled",YS=(()=>{class t{_document=S(ye);_animationsDisabled=ps();_globalRippleOptions=S(pv,{optional:!0});_platform=S(qt);_ngZone=S(re);_injector=S(Ie);_eventCleanups;_hosts=new Map;constructor(){let n=S(on).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>VB.map(r=>n.listen(this._document,r,this._onInteraction,LB)))}ngOnDestroy(){let n=this._hosts.keys();for(let r of n)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(n,r){n.setAttribute(mv,this._globalRippleOptions?.namespace??""),(r.className||!n.hasAttribute(gv))&&n.setAttribute(gv,r.className||""),r.centered&&n.setAttribute(KS,""),r.disabled&&n.setAttribute(Yd,"")}setDisabled(n,r){let i=this._hosts.get(n);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(n))):r?n.setAttribute(Yd,""):n.removeAttribute(Yd)}_onInteraction=n=>{let r=dn(n);if(r instanceof HTMLElement){let i=r.closest(`[${mv}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(n){if(!this._document||this._hosts.has(n))return;n.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",n.getAttribute(gv)),n.append(r);let i=this._globalRippleOptions,o=this._animationsDisabled?0:i?.animation?.enterDuration??Tc.enterDuration,s=this._animationsDisabled?0:i?.animation?.exitDuration??Tc.exitDuration,c={rippleDisabled:this._animationsDisabled||i?.disabled||n.hasAttribute(Yd),rippleConfig:{centered:n.hasAttribute(KS),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},u=new Dc(c,this._ngZone,r,this._platform,this._injector),l=!c.rippleDisabled;l&&u.setupTriggerEvents(n),this._hosts.set(n,{target:c,renderer:u,hasSetUpEvents:l}),n.removeAttribute(mv)}destroyRipple(n){let r=this._hosts.get(n);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var QS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ht({type:t,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return t})();var jB=["mat-icon-button",""],BB=["*"],UB=new O("MAT_BUTTON_CONFIG");function ZS(t){return t==null?void 0:q0(t)}var yv=(()=>{class t{_elementRef=S(bt);_ngZone=S(re);_animationsDisabled=ps();_config=S(UB,{optional:!0});_focusMonitor=S(sv);_cleanupClick;_renderer=S(Td);_rippleLoader=S(YS);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(n){this.tabIndex=n}constructor(){S(wc).load(QS);let n=this._elementRef.nativeElement;this._isAnchor=n.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(n,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",n=>{this.disabled&&(n.preventDefault(),n.stopImmediatePropagation())}))}static \u0275fac=function(r){return new(r||t)};static \u0275dir=st({type:t,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(r,i){r&2&&(ac("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled())("tabindex",i._getTabIndex()),_y(i.color?"mat-"+i.color:""),un("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("mat-unthemed",!i.color)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",as],disabled:[2,"disabled","disabled",as],ariaDisabled:[2,"aria-disabled","ariaDisabled",as],disabledInteractive:[2,"disabledInteractive","disabledInteractive",as],tabIndex:[2,"tabIndex","tabIndex",ZS],_tabindex:[2,"tabindex","_tabindex",ZS]}})}return t})(),$B=(()=>{class t extends yv{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ht({type:t,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[rs],attrs:jB,ngContentSelectors:BB,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(Br(),jr(0,"span",0),zt(1),jr(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return t})();var HB=new O("cdk-dir-doc",{providedIn:"root",factory:zB});function zB(){return S(ye)}var qB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function JS(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?qB.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var GB=(()=>{class t{get value(){return this.valueSignal()}valueSignal=Fr("ltr");change=new Bt;constructor(){let n=S(HB,{optional:!0});if(n){let r=n.body?n.body.dir:null,i=n.documentElement?n.documentElement.dir:null;this.valueSignal.set(JS(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=qe({type:t});static \u0275inj=Oe({})}return t})();var sr=(()=>{class t{constructor(){S(lv)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||t)};static \u0275mod=qe({type:t});static \u0275inj=Oe({imports:[vv,vv]})}return t})();var XS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=qe({type:t});static \u0275inj=Oe({imports:[sr,sr]})}return t})();var WB=["matButton",""],KB=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],YB=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var eR=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),aoe=(()=>{class t extends yv{get appearance(){return this._appearance}set appearance(n){this.setAppearance(n||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let n=QB(this._elementRef.nativeElement);n&&this.setAppearance(n)}setAppearance(n){if(n===this._appearance)return;let r=this._elementRef.nativeElement.classList,i=this._appearance?eR.get(this._appearance):null,o=eR.get(n);i&&r.remove(...i),r.add(...o),this._appearance=n}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ht({type:t,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[rs],attrs:WB,ngContentSelectors:YB,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(Br(KB),jr(0,"span",0),zt(1),Ui(2,"span",1),zt(3,1),$i(),zt(4,2),jr(5,"span",2)(6,"span",3)),r&2&&un("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return t})();function QB(t){return t.hasAttribute("mat-raised-button")?"elevated":t.hasAttribute("mat-stroked-button")?"outlined":t.hasAttribute("mat-flat-button")?"filled":t.hasAttribute("mat-button")?"text":null}var coe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=qe({type:t});static \u0275inj=Oe({imports:[sr,XS,sr]})}return t})();var ZB=["*"];var JB=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],XB=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],eU=new O("MAT_CARD_CONFIG"),voe=(()=>{class t{appearance;constructor(){let n=S(eU,{optional:!0});this.appearance=n?.appearance||"raised"}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ht({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(r,i){r&2&&un("mat-mdc-card-outlined",i.appearance==="outlined")("mdc-card--outlined",i.appearance==="outlined")("mat-mdc-card-filled",i.appearance==="filled")("mdc-card--filled",i.appearance==="filled")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ZB,decls:1,vars:0,template:function(r,i){r&1&&(Br(),zt(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return t})(),_oe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=st({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return t})();var boe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=st({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return t})(),Eoe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=st({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return t})(),Ioe=(()=>{class t{align="start";static \u0275fac=function(r){return new(r||t)};static \u0275dir=st({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,i){r&2&&un("mat-mdc-card-actions-align-end",i.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"]})}return t})(),woe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ht({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:XB,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,i){r&1&&(Br(JB),zt(0),Ui(1,"div",0),zt(2,1),$i(),zt(3,2))},encapsulation:2,changeDetection:0})}return t})();var Toe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=qe({type:t});static \u0275inj=Oe({imports:[sr,sr]})}return t})();var tR=()=>{};var iR=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Qd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new bv;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let E=l<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},bv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},nU=function(t){let e=iR(t);return Qd.encodeByteArray(e,!0)},Ac=function(t){return nU(t).replace(/\./g,"")},Zd=function(t){try{return Qd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Iv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var rU=()=>Iv().__FIREBASE_DEFAULTS__,iU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Zd(t[1]);return e&&JSON.parse(e)},Jd=()=>{try{return tR()||rU()||iU()||oU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oR=t=>{var e,n;return(n=(e=Jd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sR=t=>{let e=oR(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wv=()=>{var t;return(t=Jd())===null||t===void 0?void 0:t.config},aR=t=>{var e;return(e=Jd())===null||e===void 0?void 0:e[`_${t}`]};var Ki=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Yi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Tv(t){return(await fetch(t,{credentials:"include"})).ok}function cR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ac(JSON.stringify(n)),Ac(JSON.stringify(s)),""].join(".")}var Cc={};function sU(){let t={prod:[],emulator:[]};for(let e of Object.keys(Cc))Cc[e]?t.emulator.push(e):t.prod.push(e);return t}function aU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var nR=!1;function Dv(t,e){if(typeof window>"u"||typeof document>"u"||!Yi(window.location.host)||Cc[t]===e||Cc[t]||nR)return;Cc[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=sU().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{nR=!0,s()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=aU(r),y=n("text"),E=document.getElementById(y)||document.createElement("span"),R=n("learnmore"),A=document.getElementById(R)||document.createElement("a"),M=n("preprendIcon"),F=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let $=m.element;c($),f(A,R);let z=l();u(F,M),$.append(F,E,A,z),document.body.appendChild($)}o?(E.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function cU(){var t;let e=(t=Jd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dR(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hR(){return!cU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sc(){try{return typeof indexedDB=="object"}catch{return!1}}function pR(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var uU="FirebaseError",Wt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fn.prototype.create)}},fn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?lU(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Wt(i,c,r)}};function lU(t,e){return t.replace(dU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var dU=/\{\$([^}]+)}/g;function Qi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(rR(o)&&rR(s)){if(!Qi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function rR(t){return t!==null&&typeof t=="object"}function Cv(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mR(t,e){let n=new Ev(t,e);return n.subscribe.bind(n)}var Ev=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_v),i.error===void 0&&(i.error=_v),i.complete===void 0&&(i.complete=_v);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function fU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _v(){}var Soe=14400*1e3;function mt(t){return t&&t._delegate?t._delegate:t}var gt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Zi="[DEFAULT]";var Av=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ki;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pU(e))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zi){return this.instances.has(e)}getOptions(e=Zi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zi){return this.component?this.component.multipleInstances?e:Zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hU(t){return t===Zi?void 0:t}function pU(t){return t.instantiationMode==="EAGER"}var Xd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Av(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var mU=[],ce=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(ce||{}),gU={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},yU=ce.INFO,vU={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},_U=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=vU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xn=class{constructor(e){this.name=e,this._logLevel=yU,this._logHandler=_U,this._userLogHandler=null,mU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var bU=(t,e)=>e.some(n=>t instanceof n),gR,yR;function EU(){return gR||(gR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IU(){return yR||(yR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var vR=new WeakMap,Rv=new WeakMap,_R=new WeakMap,Sv=new WeakMap,Mv=new WeakMap;function wU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Pn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&vR.set(n,t)}).catch(()=>{}),Mv.set(e,t),e}function TU(t){if(Rv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Rv.set(t,e)}var Nv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_R.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bR(t){Nv=t(Nv)}function DU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ef(this),e,...n);return _R.set(r,e.sort?e.sort():[e]),Pn(r)}:IU().includes(t)?function(...e){return t.apply(ef(this),e),Pn(vR.get(this))}:function(...e){return Pn(t.apply(ef(this),e))}}function CU(t){return typeof t=="function"?DU(t):(t instanceof IDBTransaction&&TU(t),bU(t,EU())?new Proxy(t,Nv):t)}function Pn(t){if(t instanceof IDBRequest)return wU(t);if(Sv.has(t))return Sv.get(t);let e=CU(t);return e!==t&&(Sv.set(t,e),Mv.set(e,t)),e}var ef=t=>Mv.get(t);function IR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=Pn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Pn(s.result),u.oldVersion,u.newVersion,Pn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var AU=["get","getKey","getAll","getAllKeys","count"],SU=["put","add","delete","clear"],xv=new Map;function ER(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xv.get(e))return xv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=SU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AU.includes(n)))return;let o=async function(s,...c){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(await Promise.all([l[n](...c),i&&u.done]))[0]};return xv.set(e,o),o}bR(t=>Ce(J({},t),{get:(e,n,r)=>ER(e,n)||t.get(e,n,r),has:(e,n)=>!!ER(e,n)||t.has(e,n)}));var kv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function RU(t){let e=t.getComponent();return e?.type==="VERSION"}var Ov="@firebase/app",wR="0.13.2";var ar=new xn("@firebase/app"),NU="@firebase/app-compat",MU="@firebase/analytics-compat",xU="@firebase/analytics",PU="@firebase/app-check-compat",kU="@firebase/app-check",OU="@firebase/auth",FU="@firebase/auth-compat",LU="@firebase/database",VU="@firebase/data-connect",jU="@firebase/database-compat",BU="@firebase/functions",UU="@firebase/functions-compat",$U="@firebase/installations",HU="@firebase/installations-compat",zU="@firebase/messaging",qU="@firebase/messaging-compat",GU="@firebase/performance",WU="@firebase/performance-compat",KU="@firebase/remote-config",YU="@firebase/remote-config-compat",QU="@firebase/storage",ZU="@firebase/storage-compat",JU="@firebase/firestore",XU="@firebase/ai",e$="@firebase/firestore-compat",t$="firebase",n$="11.10.0";var Fv="[DEFAULT]",r$={[Ov]:"fire-core",[NU]:"fire-core-compat",[xU]:"fire-analytics",[MU]:"fire-analytics-compat",[kU]:"fire-app-check",[PU]:"fire-app-check-compat",[OU]:"fire-auth",[FU]:"fire-auth-compat",[LU]:"fire-rtdb",[VU]:"fire-data-connect",[jU]:"fire-rtdb-compat",[BU]:"fire-fn",[UU]:"fire-fn-compat",[$U]:"fire-iid",[HU]:"fire-iid-compat",[zU]:"fire-fcm",[qU]:"fire-fcm-compat",[GU]:"fire-perf",[WU]:"fire-perf-compat",[KU]:"fire-rc",[YU]:"fire-rc-compat",[QU]:"fire-gcs",[ZU]:"fire-gcs-compat",[JU]:"fire-fst",[e$]:"fire-fst-compat",[XU]:"fire-vertex","fire-js":"fire-js",[t$]:"fire-js-all"};var Rc=new Map,i$=new Map,Lv=new Map;function TR(t,e){try{t.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hn(t){let e=t.name;if(Lv.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;Lv.set(e,t);for(let n of Rc.values())TR(n,t);for(let n of i$.values())TR(n,t);return!0}function tf(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cr(t){return t==null?!1:t.settings!==void 0}var o$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new fn("app","Firebase",o$);var Vv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}};var ms=n$;function Uv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Fv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=wv()),!n)throw qr.create("no-options");let o=Rc.get(i);if(o){if(Qi(n,o.options)&&Qi(r,o.config))return o;throw qr.create("duplicate-app",{appName:i})}let s=new Xd(i);for(let u of Lv.values())s.addComponent(u);let c=new Vv(n,r,s);return Rc.set(i,c),c}function gs(t=Fv){let e=Rc.get(t);if(!e&&t===Fv&&wv())return Uv();if(!e)throw qr.create("no-app",{appName:t});return e}function nf(){return Array.from(Rc.values())}function Pe(t,e,n){var r;let i=(r=r$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(c.join(" "));return}hn(new gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var s$="firebase-heartbeat-database",a$=1,Nc="firebase-heartbeat-store",Pv=null;function SR(){return Pv||(Pv=IR(s$,a$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nc)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),Pv}async function c$(t){try{let n=(await SR()).transaction(Nc),r=await n.objectStore(Nc).get(RR(t));return await n.done,r}catch(e){if(e instanceof Wt)ar.warn(e.message);else{let n=qr.create("idb-get",{originalErrorMessage:e?.message});ar.warn(n.message)}}}async function DR(t,e){try{let r=(await SR()).transaction(Nc,"readwrite");await r.objectStore(Nc).put(e,RR(t)),await r.done}catch(n){if(n instanceof Wt)ar.warn(n.message);else{let r=qr.create("idb-set",{originalErrorMessage:n?.message});ar.warn(r.message)}}}function RR(t){return`${t.name}!${t.options.appId}`}var u$=1024,l$=30,jv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Bv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=CR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>l$){let s=f$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ar.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=CR(),{heartbeatsToSend:r,unsentEntries:i}=d$(this._heartbeatsCache.heartbeats),o=Ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ar.warn(n),""}}};function CR(){return new Date().toISOString().substring(0,10)}function d$(t,e=u$){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),AR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Bv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sc()?pR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await c$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return DR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return DR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function AR(t){return Ac(JSON.stringify({version:2,heartbeats:t})).length}function f$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function h$(t){hn(new gt("platform-logger",e=>new kv(e),"PRIVATE")),hn(new gt("heartbeat",e=>new jv(e),"PRIVATE")),Pe(Ov,wR,t),Pe(Ov,wR,"esm2017"),Pe("fire-js","")}h$("");var p$="firebase",m$="11.10.0";Pe(p$,m$,"app");function NR(t){t===void 0&&(t=S(Ie));let e=t.get(An);return n=>new Q(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var Xi=new ss("ANGULARFIRE2_VERSION");function of(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var vs=(t,e)=>{let n=e?[e]:nf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ys=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(ys||{}),MR=Fy()&&typeof Zone<"u"?ys.WARN:ys.SILENT;var rf=class{zone;delegate;constructor(e,n=ip){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},eo=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=S(re);this.outsideAngular=n.runOutsideAngular(()=>new rf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new rf(typeof Zone>"u"?void 0:Zone.current,wr))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xR=!1;function g$(t,e){!xR&&(MR>ys.SILENT||Fy())&&(xR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),MR>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function y$(t){let e=S(re,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Ji(t){let e=S(re,{optional:!0});return e?e.run(()=>t()):t()}var v$=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),bn(n,()=>Ji(()=>t.apply(void 0,r)))),Kt=(t,e,n)=>(n||=e?ys.WARN:ys.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=S(eo),s=S(An),c=S(He)}catch{return g$(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Ji(()=>s.add())),i[l]=v$(i[l],r,c));let u=y$(()=>t.apply(this,i));return e?u instanceof Q?u.pipe(Dr(o.outsideAngular),Tr(o.insideAngular),NR(c)):u instanceof Promise?Ji(()=>{let l=s.add();return new Promise((f,p)=>{u.then(m=>bn(c,()=>Ji(()=>f(m))),m=>bn(c,()=>Ji(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Ji(()=>u):u instanceof Q?u.pipe(Dr(o.outsideAngular),Tr(o.insideAngular)):Ji(()=>u)});var to=class{constructor(e){return e}},Mc=class{constructor(){return nf()}};function _$(t){return t&&t.length===1?t[0]:new to(gs())}var $v=new O("angularfire2._apps"),b$={provide:to,useFactory:_$,deps:[[new Rn,$v]]},E$={provide:Mc,deps:[[new Rn,$v]]};function I$(t){return(e,n)=>{let r=n.get(Nn);Pe("angularfire",Xi.full,"core"),Pe("angularfire",Xi.full,"app"),Pe("angular",U0.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new to(i)}}function _se(t,...e){return _t([b$,E$,{provide:$v,useFactory:I$(t),multi:!0,deps:[re,Ie,eo,...e]}])}var bse=Kt(Uv,!0);var w$=new Map,T$={activated:!1,tokenObservers:[]},D$={initialized:!1,enabled:!1};function pn(t){return w$.get(t)||Object.assign({},T$)}function FR(){return D$}var C$="https://content-firebaseappcheck.googleapis.com/v1";var A$="exchangeDebugToken",PR={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Rse=1440*60*1e3;var qv=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Ki,this.pending.promise.catch(n=>{}),await S$(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Ki,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function S$(t){return new Promise(e=>{setTimeout(e,t)})}var R$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Gr=new fn("appCheck","AppCheck",R$);function LR(t){if(!pn(t).activated)throw Gr.create("use-before-activation",{appName:t.name})}async function VR({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(t,o)}catch(p){throw Gr.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw Gr.create("fetch-status-error",{httpStatus:s.status});let c;try{c=await s.json()}catch(p){throw Gr.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Gr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let l=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+l,issuedAtTimeMillis:f}}function jR(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${C$}/projects/${n}/apps/${r}:${A$}?key=${i}`,body:{debug_token:e}}}var N$="firebase-app-check-database",M$=1,Gv="firebase-app-check-store";var sf=null;function x$(){return sf||(sf=new Promise((t,e)=>{try{let n=indexedDB.open(N$,M$);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Gr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Gv,{keyPath:"compositeKey"})}}}catch(n){e(Gr.create("storage-open",{originalErrorMessage:n?.message}))}}),sf)}function P$(t,e){return k$(O$(t),e)}async function k$(t,e){let r=(await x$()).transaction(Gv,"readwrite"),o=r.objectStore(Gv).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(Gr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function O$(t){return`${t.options.appId}-${t.name}`}var xc=new xn("@firebase/app-check");function Hv(t,e){return Sc()?P$(t,e).catch(n=>{xc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function BR(){return FR().enabled}async function UR(){let t=FR();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var F$={error:"UNKNOWN_ERROR"};function L$(t){return Qd.encodeString(JSON.stringify(t),!1)}async function Wv(t,e=!1,n=!1){let r=t.app;LR(r);let i=pn(r),o=i.token,s;if(o&&!Pc(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(Pc(l)?o=l:await Hv(r,void 0))}if(!e&&o&&Pc(o))return{token:o.token};let c=!1;if(BR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=VR(jR(r,await UR()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=await i.exchangeTokenPromise;return await Hv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?xc.warn(l.message):n&&xc.error(l),zv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=await pn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?xc.warn(l.message):n&&xc.error(l),s=l}let u;return o?s?Pc(o)?u={token:o.token,internalError:s}:u=zv(s):(u={token:o.token},i.token=o,await Hv(r,o)):u=zv(s),c&&U$(r,u),u}async function V$(t){let e=t.app;LR(e);let{provider:n}=pn(e);if(BR()){let r=await UR(),{token:i}=await VR(jR(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function j$(t,e,n,r){let{app:i}=t,o=pn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Pc(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),kR(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>kR(t))}function $R(t,e){let n=pn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function kR(t){let{app:e}=t,n=pn(e),r=n.tokenRefresher;r||(r=B$(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function B$(t){let{app:e}=t;return new qv(async()=>{let n=pn(e),r;if(n.token?r=await Wv(t,!0):r=await Wv(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=pn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},PR.RETRIAL_MIN_WAIT,PR.RETRIAL_MAX_WAIT)}function U$(t,e){let n=pn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Pc(t){return t.expireTimeMillis-Date.now()>0}function zv(t){return{token:L$(F$),error:t}}var Kv=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=pn(this.app);for(let n of e)$R(this.app,n.next);return Promise.resolve()}};function $$(t,e){return new Kv(t,e)}function H$(t){return{getToken:e=>Wv(t,e),getLimitedUseToken:()=>V$(t),addTokenListener:e=>j$(t,"INTERNAL",e),removeTokenListener:e=>$R(t.app,e)}}var z$="@firebase/app-check",q$="0.10.1";var G$="app-check",OR="app-check-internal";function W$(){hn(new gt(G$,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return $$(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(OR).initialize()})),hn(new gt(OR,t=>{let e=t.getProvider("app-check").getImmediate();return H$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Pe(z$,q$)}W$();var K$="app-check";var af=class{constructor(){return vs(K$)}};var Y$=["localhost","0.0.0.0","127.0.0.1"],Use=typeof window<"u"&&Y$.includes(window.location.hostname);function QR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ZR=QR,JR=new fn("auth","Firebase",QR());var df=new xn("@firebase/auth");function Q$(t,...e){df.logLevel<=ce.WARN&&df.warn(`Auth (${ms}): ${t}`,...e)}function uf(t,...e){df.logLevel<=ce.ERROR&&df.error(`Auth (${ms}): ${t}`,...e)}function HR(t,...e){throw s_(t,...e)}function o_(t,...e){return s_(t,...e)}function XR(t,e,n){let r=Object.assign(Object.assign({},ZR()),{[e]:n});return new fn("auth","Firebase",r).create(e,{appName:t.name})}function lf(t){return XR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JR.create(t,...e)}function pe(t,e,...n){if(!t)throw s_(e,...n)}function kc(t){let e="INTERNAL ASSERTION FAILED: "+t;throw uf(e),new Error(e)}function ff(t,e){t||kc(e)}function Z$(){return zR()==="http:"||zR()==="https:"}function zR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function J$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z$()||dR()||"connection"in navigator)?navigator.onLine:!0}function X$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var io=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ff(n>e,"Short delay should be less than long delay!"),this.isMobile=uR()||fR()}get(){return J$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function eH(t,e){ff(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var hf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var tH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var nH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rH=new io(3e4,6e4);function eN(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vf(t,e,n,r,i={}){return tN(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let c=Cv(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=Object.assign({method:e,headers:u},o);return lR()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&Yi(t.emulatorConfig.host)&&(l.credentials="include"),hf.fetch()(await nN(t,t.config.apiHost,n,c),l)})}async function tN(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},tH),e);try{let i=new Zv(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw cf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw cf(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw cf(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw cf(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw XR(t,f,l);HR(t,f)}}catch(i){if(i instanceof Wt)throw i;HR(t,"network-request-failed",{message:String(i)})}}async function nN(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?eH(t.config,i):`${t.config.apiScheme}://${i}`;return nH.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var Zv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(o_(this.auth,"network-request-failed")),rH.get())})}};function cf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=o_(t,e,r);return i.customData._tokenResponse=n,i}async function iH(t,e){return vf(t,"POST","/v1/accounts:delete",e)}async function pf(t,e){return vf(t,"POST","/v1/accounts:lookup",e)}function Oc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function a_(t,e=!1){let n=mt(t),r=await n.getIdToken(e),i=rN(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Oc(Yv(i.auth_time)),issuedAtTime:Oc(Yv(i.iat)),expirationTime:Oc(Yv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Yv(t){return Number(t)*1e3}function rN(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return uf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Zd(n);return i?JSON.parse(i):(uf("Failed to decode base64 JWT payload"),null)}catch(i){return uf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function qR(t){let e=rN(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Jv(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wt&&oH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Xv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Lc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function mf(t){var e;let n=t.auth,r=await t.getIdToken(),i=await Jv(t,pf(n,{idToken:r}));pe(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?iN(o.providerUserInfo):[],c=sH(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Lc(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function c_(t){let e=mt(t);await mf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iN(t){return t.map(e=>{var{providerId:n}=e,r=sp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function aH(t,e){let n=await tN(t,{},async()=>{let r=Cv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await nN(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return t.emulatorConfig&&Yi(t.emulatorConfig.host)&&(u.credentials="include"),hf.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cH(t,e){return vf(t,"POST","/v2/accounts:revokeToken",eN(t,e))}var Fc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");let n=qR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await aH(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(pe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(pe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return kc("not implemented")}};function Wr(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var no=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=sp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lc(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await Jv(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return a_(this,e)}reload(){return c_(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(lf(this.auth));let e=await this.getIdToken();return await Jv(this,iH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,E=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(c=n.tenantId)!==null&&c!==void 0?c:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,M=(l=n.createdAt)!==null&&l!==void 0?l:void 0,F=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:$,emailVerified:z,isAnonymous:_e,providerData:se,stsTokenManager:w}=n;pe($&&w,e,"internal-error");let v=Fc.fromJSON(this.name,w);pe(typeof $=="string",e,"internal-error"),Wr(p,e.name),Wr(m,e.name),pe(typeof z=="boolean",e,"internal-error"),pe(typeof _e=="boolean",e,"internal-error"),Wr(y,e.name),Wr(E,e.name),Wr(R,e.name),Wr(A,e.name),Wr(M,e.name),Wr(F,e.name);let _=new t({uid:$,auth:e,email:m,emailVerified:z,displayName:p,isAnonymous:_e,photoURL:E,phoneNumber:y,tenantId:R,stsTokenManager:v,createdAt:M,lastLoginAt:F});return se&&Array.isArray(se)&&(_.providerData=se.map(I=>Object.assign({},I))),A&&(_._redirectEventId=A),_}static async _fromIdTokenResponse(e,n,r=!1){let i=new Fc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await mf(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];pe(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?iN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Fc;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Lc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var GR=new Map;function ro(t){ff(t instanceof Function,"Expected a class definition");let e=GR.get(t);return e?(ff(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GR.set(t,e),e)}var uH=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),e_=uH;function Qv(t,e,n){return`firebase:${t}:${e}:${n}`}var gf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Qv(this.userKey,i.apiKey,o),this.fullPersistenceKey=Qv("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await pf(this.auth,{idToken:e}).catch(()=>{});return n?no._fromGetAccountInfoResponse(this.auth,n,e):null}return no._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(ro(e_),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||ro(e_),s=Qv(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=await l._get(s);if(f){let p;if(typeof f=="string"){let m=await pf(e,{idToken:f}).catch(()=>{});if(!m)break;p=await no._fromGetAccountInfoResponse(e,m,f)}else p=no._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&await o._set(s,c.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function WR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mH(e))return"Blackberry";if(gH(e))return"Webos";if(dH(e))return"Safari";if((e.includes("chrome/")||fH(e))&&!e.includes("edge/"))return"Chrome";if(pH(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function lH(t=Mt()){return/firefox\//i.test(t)}function dH(t=Mt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fH(t=Mt()){return/crios\//i.test(t)}function hH(t=Mt()){return/iemobile/i.test(t)}function pH(t=Mt()){return/android/i.test(t)}function mH(t=Mt()){return/blackberry/i.test(t)}function gH(t=Mt()){return/webos/i.test(t)}function oN(t,e=[]){let n;switch(t){case"Browser":n=WR(Mt());break;case"Worker":n=`${WR(Mt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ms}/${r}`}var t_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function yH(t,e={}){return vf(t,"GET","/v2/passwordPolicy",eN(t,e))}var vH=6,n_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:vH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var r_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yf(this),this.idTokenSubscription=new yf(this),this.beforeStateQueue=new t_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ro(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await gf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await pf(this,{idToken:e}),r=await no._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(cr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(lf(this));let n=e?mt(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(lf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(lf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ro(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await yH(this),n=new n_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&ro(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await gf.create(this,[ro(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&Q$(`Error while retrieving App Check token: ${n.error}`),n?.token}};function _H(t){return mt(t)}var yf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=mR(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var bH={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EH(t){bH=t}function IH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function wH(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ro);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var Xse=IH("rcb"),eae=new io(3e4,6e4);var tae=new io(2e3,1e4);var nae=600*1e3;var rae=new io(3e4,6e4);var iae=new io(5e3,15e3);var oae=encodeURIComponent("fac");var KR="@firebase/auth",YR="1.10.8";var i_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function TH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DH(t){hn(new gt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;pe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oN(t)},l=new r_(r,i,o,u);return wH(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hn(new gt("auth-internal",e=>{let n=_H(e.getProvider("auth").getImmediate());return(r=>new i_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pe(KR,YR,TH(t)),Pe(KR,YR,"esm2017")}var CH=300,sae=aR("authIdTokenMaxAge")||CH;function AH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}EH({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=o_("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",AH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DH("Browser");var D4="auth";var _f=class{constructor(){return vs(D4)}};var sN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aN={};var ur,u_;(function(){var t;function e(w,v){function _(){}_.prototype=v.prototype,w.D=v.prototype,w.prototype=new _,w.prototype.constructor=w,w.C=function(I,T,C){for(var b=Array(arguments.length-2),Un=2;Un<arguments.length;Un++)b[Un-2]=arguments[Un];return v.prototype[T].apply(I,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,_){_||(_=0);var I=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)I[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;16>T;++T)I[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=w.g[0],_=w.g[1],T=w.g[2];var C=w.g[3],b=v+(C^_&(T^C))+I[0]+3614090360&4294967295;v=_+(b<<7&4294967295|b>>>25),b=C+(T^v&(_^T))+I[1]+3905402710&4294967295,C=v+(b<<12&4294967295|b>>>20),b=T+(_^C&(v^_))+I[2]+606105819&4294967295,T=C+(b<<17&4294967295|b>>>15),b=_+(v^T&(C^v))+I[3]+3250441966&4294967295,_=T+(b<<22&4294967295|b>>>10),b=v+(C^_&(T^C))+I[4]+4118548399&4294967295,v=_+(b<<7&4294967295|b>>>25),b=C+(T^v&(_^T))+I[5]+1200080426&4294967295,C=v+(b<<12&4294967295|b>>>20),b=T+(_^C&(v^_))+I[6]+2821735955&4294967295,T=C+(b<<17&4294967295|b>>>15),b=_+(v^T&(C^v))+I[7]+4249261313&4294967295,_=T+(b<<22&4294967295|b>>>10),b=v+(C^_&(T^C))+I[8]+1770035416&4294967295,v=_+(b<<7&4294967295|b>>>25),b=C+(T^v&(_^T))+I[9]+2336552879&4294967295,C=v+(b<<12&4294967295|b>>>20),b=T+(_^C&(v^_))+I[10]+4294925233&4294967295,T=C+(b<<17&4294967295|b>>>15),b=_+(v^T&(C^v))+I[11]+2304563134&4294967295,_=T+(b<<22&4294967295|b>>>10),b=v+(C^_&(T^C))+I[12]+1804603682&4294967295,v=_+(b<<7&4294967295|b>>>25),b=C+(T^v&(_^T))+I[13]+4254626195&4294967295,C=v+(b<<12&4294967295|b>>>20),b=T+(_^C&(v^_))+I[14]+2792965006&4294967295,T=C+(b<<17&4294967295|b>>>15),b=_+(v^T&(C^v))+I[15]+1236535329&4294967295,_=T+(b<<22&4294967295|b>>>10),b=v+(T^C&(_^T))+I[1]+4129170786&4294967295,v=_+(b<<5&4294967295|b>>>27),b=C+(_^T&(v^_))+I[6]+3225465664&4294967295,C=v+(b<<9&4294967295|b>>>23),b=T+(v^_&(C^v))+I[11]+643717713&4294967295,T=C+(b<<14&4294967295|b>>>18),b=_+(C^v&(T^C))+I[0]+3921069994&4294967295,_=T+(b<<20&4294967295|b>>>12),b=v+(T^C&(_^T))+I[5]+3593408605&4294967295,v=_+(b<<5&4294967295|b>>>27),b=C+(_^T&(v^_))+I[10]+38016083&4294967295,C=v+(b<<9&4294967295|b>>>23),b=T+(v^_&(C^v))+I[15]+3634488961&4294967295,T=C+(b<<14&4294967295|b>>>18),b=_+(C^v&(T^C))+I[4]+3889429448&4294967295,_=T+(b<<20&4294967295|b>>>12),b=v+(T^C&(_^T))+I[9]+568446438&4294967295,v=_+(b<<5&4294967295|b>>>27),b=C+(_^T&(v^_))+I[14]+3275163606&4294967295,C=v+(b<<9&4294967295|b>>>23),b=T+(v^_&(C^v))+I[3]+4107603335&4294967295,T=C+(b<<14&4294967295|b>>>18),b=_+(C^v&(T^C))+I[8]+1163531501&4294967295,_=T+(b<<20&4294967295|b>>>12),b=v+(T^C&(_^T))+I[13]+2850285829&4294967295,v=_+(b<<5&4294967295|b>>>27),b=C+(_^T&(v^_))+I[2]+4243563512&4294967295,C=v+(b<<9&4294967295|b>>>23),b=T+(v^_&(C^v))+I[7]+1735328473&4294967295,T=C+(b<<14&4294967295|b>>>18),b=_+(C^v&(T^C))+I[12]+2368359562&4294967295,_=T+(b<<20&4294967295|b>>>12),b=v+(_^T^C)+I[5]+4294588738&4294967295,v=_+(b<<4&4294967295|b>>>28),b=C+(v^_^T)+I[8]+2272392833&4294967295,C=v+(b<<11&4294967295|b>>>21),b=T+(C^v^_)+I[11]+1839030562&4294967295,T=C+(b<<16&4294967295|b>>>16),b=_+(T^C^v)+I[14]+4259657740&4294967295,_=T+(b<<23&4294967295|b>>>9),b=v+(_^T^C)+I[1]+2763975236&4294967295,v=_+(b<<4&4294967295|b>>>28),b=C+(v^_^T)+I[4]+1272893353&4294967295,C=v+(b<<11&4294967295|b>>>21),b=T+(C^v^_)+I[7]+4139469664&4294967295,T=C+(b<<16&4294967295|b>>>16),b=_+(T^C^v)+I[10]+3200236656&4294967295,_=T+(b<<23&4294967295|b>>>9),b=v+(_^T^C)+I[13]+681279174&4294967295,v=_+(b<<4&4294967295|b>>>28),b=C+(v^_^T)+I[0]+3936430074&4294967295,C=v+(b<<11&4294967295|b>>>21),b=T+(C^v^_)+I[3]+3572445317&4294967295,T=C+(b<<16&4294967295|b>>>16),b=_+(T^C^v)+I[6]+76029189&4294967295,_=T+(b<<23&4294967295|b>>>9),b=v+(_^T^C)+I[9]+3654602809&4294967295,v=_+(b<<4&4294967295|b>>>28),b=C+(v^_^T)+I[12]+3873151461&4294967295,C=v+(b<<11&4294967295|b>>>21),b=T+(C^v^_)+I[15]+530742520&4294967295,T=C+(b<<16&4294967295|b>>>16),b=_+(T^C^v)+I[2]+3299628645&4294967295,_=T+(b<<23&4294967295|b>>>9),b=v+(T^(_|~C))+I[0]+4096336452&4294967295,v=_+(b<<6&4294967295|b>>>26),b=C+(_^(v|~T))+I[7]+1126891415&4294967295,C=v+(b<<10&4294967295|b>>>22),b=T+(v^(C|~_))+I[14]+2878612391&4294967295,T=C+(b<<15&4294967295|b>>>17),b=_+(C^(T|~v))+I[5]+4237533241&4294967295,_=T+(b<<21&4294967295|b>>>11),b=v+(T^(_|~C))+I[12]+1700485571&4294967295,v=_+(b<<6&4294967295|b>>>26),b=C+(_^(v|~T))+I[3]+2399980690&4294967295,C=v+(b<<10&4294967295|b>>>22),b=T+(v^(C|~_))+I[10]+4293915773&4294967295,T=C+(b<<15&4294967295|b>>>17),b=_+(C^(T|~v))+I[1]+2240044497&4294967295,_=T+(b<<21&4294967295|b>>>11),b=v+(T^(_|~C))+I[8]+1873313359&4294967295,v=_+(b<<6&4294967295|b>>>26),b=C+(_^(v|~T))+I[15]+4264355552&4294967295,C=v+(b<<10&4294967295|b>>>22),b=T+(v^(C|~_))+I[6]+2734768916&4294967295,T=C+(b<<15&4294967295|b>>>17),b=_+(C^(T|~v))+I[13]+1309151649&4294967295,_=T+(b<<21&4294967295|b>>>11),b=v+(T^(_|~C))+I[4]+4149444226&4294967295,v=_+(b<<6&4294967295|b>>>26),b=C+(_^(v|~T))+I[11]+3174756917&4294967295,C=v+(b<<10&4294967295|b>>>22),b=T+(v^(C|~_))+I[2]+718787259&4294967295,T=C+(b<<15&4294967295|b>>>17),b=_+(C^(T|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(T+(b<<21&4294967295|b>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var _=v-this.blockSize,I=this.B,T=this.h,C=0;C<v;){if(T==0)for(;C<=_;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(I[T++]=w.charCodeAt(C++),T==this.blockSize){i(this,I),T=0;break}}else for(;C<v;)if(I[T++]=w[C++],T==this.blockSize){i(this,I),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var _=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=_&255,_/=256;for(this.u(w),w=Array(16),v=_=0;4>v;++v)for(var I=0;32>I;I+=8)w[_++]=this.g[v]>>>I&255;return w};function o(w,v){var _=c;return Object.prototype.hasOwnProperty.call(_,w)?_[w]:_[w]=v(w)}function s(w,v){this.h=v;for(var _=[],I=!0,T=w.length-1;0<=T;T--){var C=w[T]|0;I&&C==v||(_[T]=C,I=!1)}this.g=_}var c={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return A(l(-w));for(var v=[],_=1,I=0;w>=_;I++)v[I]=w/_|0,_*=4294967296;return new s(v,0)}function f(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return A(f(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),I=p,T=0;T<w.length;T+=8){var C=Math.min(8,w.length-T),b=parseInt(w.substring(T,T+C),v);8>C?(C=l(Math.pow(v,C)),I=I.j(C).add(l(b))):(I=I.j(_),I=I.add(l(b)))}return I}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-A(this).m();for(var w=0,v=1,_=0;_<this.g.length;_++){var I=this.i(_);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(E(this))return"0";if(R(this))return"-"+A(this).toString(w);for(var v=l(Math.pow(w,6)),_=this,I="";;){var T=z(_,v).g;_=M(_,T.j(v));var C=((0<_.g.length?_.g[0]:_.h)>>>0).toString(w);if(_=T,E(_))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function E(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function R(w){return w.h==-1}t.l=function(w){return w=M(this,w),R(w)?-1:E(w)?0:1};function A(w){for(var v=w.g.length,_=[],I=0;I<v;I++)_[I]=~w.g[I];return new s(_,~w.h).add(m)}t.abs=function(){return R(this)?A(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],I=0,T=0;T<=v;T++){var C=I+(this.i(T)&65535)+(w.i(T)&65535),b=(C>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);I=b>>>16,C&=65535,b&=65535,_[T]=b<<16|C}return new s(_,_[_.length-1]&-2147483648?-1:0)};function M(w,v){return w.add(A(v))}t.j=function(w){if(E(this)||E(w))return p;if(R(this))return R(w)?A(this).j(A(w)):A(A(this).j(w));if(R(w))return A(this.j(A(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,_=[],I=0;I<2*v;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<w.g.length;T++){var C=this.i(I)>>>16,b=this.i(I)&65535,Un=w.i(T)>>>16,Ks=w.i(T)&65535;_[2*I+2*T]+=b*Ks,F(_,2*I+2*T),_[2*I+2*T+1]+=C*Ks,F(_,2*I+2*T+1),_[2*I+2*T+1]+=b*Un,F(_,2*I+2*T+1),_[2*I+2*T+2]+=C*Un,F(_,2*I+2*T+2)}for(I=0;I<v;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=v;I<2*v;I++)_[I]=0;return new s(_,0)};function F(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function $(w,v){this.g=w,this.h=v}function z(w,v){if(E(v))throw Error("division by zero");if(E(w))return new $(p,p);if(R(w))return v=z(A(w),v),new $(A(v.g),A(v.h));if(R(v))return v=z(w,A(v)),new $(A(v.g),v.h);if(30<w.g.length){if(R(w)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,I=v;0>=I.l(w);)_=_e(_),I=_e(I);var T=se(_,1),C=se(I,1);for(I=se(I,2),_=se(_,2);!E(I);){var b=C.add(I);0>=b.l(w)&&(T=T.add(_),C=b),I=se(I,1),_=se(_,1)}return v=M(w,T.j(v)),new $(T,v)}for(T=p;0<=w.l(v);){for(_=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=l(_),b=C.j(v);R(b)||0<b.l(w);)_-=I,C=l(_),b=C.j(v);E(C)&&(C=m),T=T.add(C),w=M(w,b)}return new $(T,w)}t.A=function(w){return z(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)&w.i(I);return new s(_,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)|w.i(I);return new s(_,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)^w.i(I);return new s(_,this.h^w.h)};function _e(w){for(var v=w.g.length+1,_=[],I=0;I<v;I++)_[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(_,w.h)}function se(w,v){var _=v>>5;v%=32;for(var I=w.g.length-_,T=[],C=0;C<I;C++)T[C]=0<v?w.i(C+_)>>>v|w.i(C+_+1)<<32-v:w.i(C+_);return new s(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,u_=aN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,ur=aN.Integer=s}).apply(typeof sN<"u"?sN:typeof self<"u"?self:typeof window<"u"?window:{});var bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lr={};var l_,C4,_s,d_,Vc,Ef,f_,h_,p_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof bf=="object"&&bf];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var D=a[g];if(!(D in h))break e;h=h[D]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,D={next:function(){if(!g&&h<a.length){var N=h++;return{value:d(N,a[N]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function y(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function E(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,D,N){for(var k=Array(arguments.length-2),be=2;be<arguments.length;be++)k[be-2]=arguments[be];return d.prototype[D].apply(g,k)}}function R(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function A(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let D=a.length||0,N=g.length||0;a.length=D+N;for(let k=0;k<N;k++)a[D+k]=g[k]}else a.push(g)}}class M{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function F(a){return/^[\s\xa0]*$/.test(a)}function $(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function z(a){return z[" "](a),a}z[" "]=function(){};var _e=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function se(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function w(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function v(a){let d={};for(let h in a)d[h]=a[h];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let h,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(h in g)a[h]=g[h];for(let N=0;N<_.length;N++)h=_[N],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function T(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function b(){var a=ph;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Un{constructor(){this.h=this.g=null}add(d,h){let g=Ks.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Ks=new M(()=>new Nx,a=>a.reset());class Nx{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Ys,Qs=!1,ph=new Un,RE=()=>{let a=c.Promise.resolve(void 0);Ys=()=>{a.then(Mx)}};var Mx=()=>{for(var a;a=b();){try{a.h.call(a.g)}catch(h){C(h)}var d=Ks;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Qs=!1};function yr(){this.s=this.s,this.C=this.C}yr.prototype.s=!1,yr.prototype.ma=function(){this.s||(this.s=!0,this.N())},yr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Xe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var xx=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a})();function Zs(a,d){if(Xe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(_e){e:{try{z(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Px[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Zs.aa.h.call(this)}}E(Zs,Xe);var Px={2:"touch",3:"pen",4:"mouse"};Zs.prototype.h=function(){Zs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Js="closure_listenable_"+(1e6*Math.random()|0),kx=0;function Ox(a,d,h,g,D){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=D,this.key=++kx,this.da=this.fa=!1}function ou(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function su(a){this.src=a,this.g={},this.h=0}su.prototype.add=function(a,d,h,g,D){var N=a.toString();a=this.g[N],a||(a=this.g[N]=[],this.h++);var k=gh(a,d,g,D);return-1<k?(d=a[k],h||(d.fa=!1)):(d=new Ox(d,this.src,N,!!g,D),d.fa=h,a.push(d)),d};function mh(a,d){var h=d.type;if(h in a.g){var g=a.g[h],D=Array.prototype.indexOf.call(g,d,void 0),N;(N=0<=D)&&Array.prototype.splice.call(g,D,1),N&&(ou(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function gh(a,d,h,g){for(var D=0;D<a.length;++D){var N=a[D];if(!N.da&&N.listener==d&&N.capture==!!h&&N.ha==g)return D}return-1}var yh="closure_lm_"+(1e6*Math.random()|0),vh={};function NE(a,d,h,g,D){if(g&&g.once)return xE(a,d,h,g,D);if(Array.isArray(d)){for(var N=0;N<d.length;N++)NE(a,d[N],h,g,D);return null}return h=Ih(h),a&&a[Js]?a.K(d,h,l(g)?!!g.capture:!!g,D):ME(a,d,h,!1,g,D)}function ME(a,d,h,g,D,N){if(!d)throw Error("Invalid event type");var k=l(D)?!!D.capture:!!D,be=bh(a);if(be||(a[yh]=be=new su(a)),h=be.add(d,h,g,k,N),h.proxy)return h;if(g=Fx(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)xx||(D=k),D===void 0&&(D=!1),a.addEventListener(d.toString(),g,D);else if(a.attachEvent)a.attachEvent(kE(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function Fx(){function a(h){return d.call(a.src,a.listener,h)}let d=Lx;return a}function xE(a,d,h,g,D){if(Array.isArray(d)){for(var N=0;N<d.length;N++)xE(a,d[N],h,g,D);return null}return h=Ih(h),a&&a[Js]?a.L(d,h,l(g)?!!g.capture:!!g,D):ME(a,d,h,!0,g,D)}function PE(a,d,h,g,D){if(Array.isArray(d))for(var N=0;N<d.length;N++)PE(a,d[N],h,g,D);else g=l(g)?!!g.capture:!!g,h=Ih(h),a&&a[Js]?(a=a.i,d=String(d).toString(),d in a.g&&(N=a.g[d],h=gh(N,h,g,D),-1<h&&(ou(N[h]),Array.prototype.splice.call(N,h,1),N.length==0&&(delete a.g[d],a.h--)))):a&&(a=bh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=gh(d,h,g,D)),(h=-1<a?d[a]:null)&&_h(h))}function _h(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Js])mh(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(kE(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=bh(d))?(mh(h,a),h.h==0&&(h.src=null,d[yh]=null)):ou(a)}}}function kE(a){return a in vh?vh[a]:vh[a]="on"+a}function Lx(a,d){if(a.da)a=!0;else{d=new Zs(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&_h(a),a=h.call(g,d)}return a}function bh(a){return a=a[yh],a instanceof su?a:null}var Eh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ih(a){return typeof a=="function"?a:(a[Eh]||(a[Eh]=function(d){return a.handleEvent(d)}),a[Eh])}function et(){yr.call(this),this.i=new su(this),this.M=this,this.F=null}E(et,yr),et.prototype[Js]=!0,et.prototype.removeEventListener=function(a,d,h,g){PE(this,a,d,h,g)};function ut(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Xe(d,a);else if(d instanceof Xe)d.target=d.target||a;else{var D=d;d=new Xe(g,a),I(d,D)}if(D=!0,h)for(var N=h.length-1;0<=N;N--){var k=d.g=h[N];D=au(k,g,!0,d)&&D}if(k=d.g=a,D=au(k,g,!0,d)&&D,D=au(k,g,!1,d)&&D,h)for(N=0;N<h.length;N++)k=d.g=h[N],D=au(k,g,!1,d)&&D}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)ou(h[g]);delete a.g[d],a.h--}}this.F=null},et.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},et.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function au(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,N=0;N<d.length;++N){var k=d[N];if(k&&!k.da&&k.capture==h){var be=k.listener,Qe=k.ha||k.src;k.fa&&mh(a.i,k),D=be.call(Qe,g)!==!1&&D}}return D&&!g.defaultPrevented}function OE(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function FE(a){a.g=OE(()=>{a.g=null,a.i&&(a.i=!1,FE(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class Vx extends yr{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:FE(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(a){yr.call(this),this.h=a,this.g={}}E(Xs,yr);var LE=[];function VE(a){se(a.g,function(d,h){this.g.hasOwnProperty(h)&&_h(d)},a),a.g={}}Xs.prototype.N=function(){Xs.aa.N.call(this),VE(this)},Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wh=c.JSON.stringify,jx=c.JSON.parse,Bx=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Th(){}Th.prototype.h=null;function jE(a){return a.h||(a.h=a.i())}function BE(){}var ea={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dh(){Xe.call(this,"d")}E(Dh,Xe);function Ch(){Xe.call(this,"c")}E(Ch,Xe);var ri={},UE=null;function cu(){return UE=UE||new et}ri.La="serverreachability";function $E(a){Xe.call(this,ri.La,a)}E($E,Xe);function ta(a){let d=cu();ut(d,new $E(d))}ri.STAT_EVENT="statevent";function HE(a,d){Xe.call(this,ri.STAT_EVENT,a),this.stat=d}E(HE,Xe);function lt(a){let d=cu();ut(d,new HE(d,a))}ri.Ma="timingevent";function zE(a,d){Xe.call(this,ri.Ma,a),this.size=d}E(zE,Xe);function na(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function ra(){this.g=!0}ra.prototype.xa=function(){this.g=!1};function Ux(a,d,h,g,D,N){a.info(function(){if(a.g)if(N)for(var k="",be=N.split("&"),Qe=0;Qe<be.length;Qe++){var de=be[Qe].split("=");if(1<de.length){var tt=de[0];de=de[1];var nt=tt.split("_");k=2<=nt.length&&nt[1]=="type"?k+(tt+"="+de+"&"):k+(tt+"=redacted&")}}else k=null;else k=N;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+h+`
`+k})}function $x(a,d,h,g,D,N,k){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+h+`
`+N+" "+k})}function yo(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+zx(a,h)+(g?" "+g:"")})}function Hx(a,d){a.info(function(){return"TIMEOUT: "+d})}ra.prototype.info=function(){};function zx(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var N=D[0];if(N!="noop"&&N!="stop"&&N!="close")for(var k=1;k<D.length;k++)D[k]=""}}}}return wh(h)}catch{return d}}var uu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ah;function lu(){}E(lu,Th),lu.prototype.g=function(){return new XMLHttpRequest},lu.prototype.i=function(){return{}},Ah=new lu;function vr(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new Xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new GE}function GE(){this.i=null,this.g="",this.h=!1}var WE={},Sh={};function Rh(a,d,h){a.L=1,a.v=pu($n(d)),a.m=h,a.P=!0,KE(a,null)}function KE(a,d){a.F=Date.now(),du(a),a.A=$n(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),cI(h.i,"t",g),a.C=0,h=a.j.J,a.h=new GE,a.g=CI(a.j,h?d:null,!a.m),0<a.O&&(a.M=new Vx(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(LE[0]=D.toString()),D=LE);for(var N=0;N<D.length;N++){var k=NE(h,D[N],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ta(),Ux(a.i,a.u,a.A,a.l,a.R,a.m)}vr.prototype.ca=function(a){a=a.target;let d=this.M;d&&Hn(a)==3?d.j():this.Y(a)},vr.prototype.Y=function(a){try{if(a==this.g)e:{let nt=Hn(this.g);var d=this.g.Ba();let bo=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||mI(this.g)))){this.J||nt!=4||d==7||(d==8||0>=bo?ta(3):ta(2)),Nh(this);var h=this.g.Z();this.X=h;t:if(YE(this)){var g=mI(this.g);a="";var D=g.length,N=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ii(this),ia(this);var k="";break t}this.h.i=new c.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(N&&d==D-1)});g.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=h==200,$x(this.i,this.u,this.A,this.l,this.R,nt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var be,Qe=this.g;if((be=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(be)){var de=be;break t}}de=null}if(h=de)yo(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mh(this,h);else{this.o=!1,this.s=3,lt(12),ii(this),ia(this);break e}}if(this.P){h=!0;let Zt;for(;!this.J&&this.C<k.length;)if(Zt=qx(this,k),Zt==Sh){nt==4&&(this.s=4,lt(14),h=!1),yo(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==WE){this.s=4,lt(15),yo(this.i,this.l,k,"[Invalid Chunk]"),h=!1;break}else yo(this.i,this.l,Zt,null),Mh(this,Zt);if(YE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||k.length!=0||this.h.h||(this.s=1,lt(16),h=!1),this.o=this.o&&h,!h)yo(this.i,this.l,k,"[Invalid Chunked Response]"),ii(this),ia(this);else if(0<k.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Lh(tt),tt.M=!0,lt(11))}}else yo(this.i,this.l,k,null),Mh(this,k);nt==4&&ii(this),this.o&&!this.J&&(nt==4?II(this.j,this):(this.o=!1,du(this)))}else cP(this.g),h==400&&0<k.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),ii(this),ia(this)}}}catch{}finally{}};function YE(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function qx(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?Sh:(h=Number(d.substring(h,g)),isNaN(h)?WE:(g+=1,g+h>d.length?Sh:(d=d.slice(g,g+h),a.C=g+h,d)))}vr.prototype.cancel=function(){this.J=!0,ii(this)};function du(a){a.S=Date.now()+a.I,QE(a,a.I)}function QE(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=na(m(a.ba,a),d)}function Nh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}vr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(Hx(this.i,this.A),this.L!=2&&(ta(),lt(17)),ii(this),this.s=2,ia(this)):QE(this,this.S-a)};function ia(a){a.j.G==0||a.J||II(a.j,a)}function ii(a){Nh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,VE(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Mh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||xh(h.h,a))){if(!a.K&&xh(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)_u(h),yu(h);else break e;Fh(h),lt(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=na(m(h.Za,h),6e3));if(1>=XE(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else si(h,11)}else if((a.K||h.g==a)&&_u(h),!F(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let de=D[d];if(h.T=de[0],de=de[1],h.G==2)if(de[0]=="c"){h.K=de[1],h.ia=de[2];let tt=de[3];tt!=null&&(h.la=tt,h.j.info("VER="+h.la));let nt=de[4];nt!=null&&(h.Aa=nt,h.j.info("SVER="+h.Aa));let bo=de[5];bo!=null&&typeof bo=="number"&&0<bo&&(g=1.5*bo,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Zt=a.g;if(Zt){let Eu=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eu){var N=g.h;N.g||Eu.indexOf("spdy")==-1&&Eu.indexOf("quic")==-1&&Eu.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Ph(N,N.h),N.h=null))}if(g.D){let Vh=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Vh&&(g.ya=Vh,we(g.I,g.D,Vh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var k=a;if(g.qa=DI(g,g.J?g.ia:null,g.W),k.K){eI(g.h,k);var be=k,Qe=g.L;Qe&&(be.I=Qe),be.B&&(Nh(be),du(be)),g.g=k}else bI(g);0<h.i.length&&vu(h)}else de[0]!="stop"&&de[0]!="close"||si(h,7);else h.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?si(h,7):Oh(h):de[0]!="noop"&&h.l&&h.l.ta(de),h.v=0)}}ta(4)}catch{}}var Gx=class{constructor(a,d){this.g=a,this.map=d}};function ZE(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function JE(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function XE(a){return a.h?1:a.g?a.g.size:0}function xh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Ph(a,d){a.g?a.g.add(d):a.h=d}function eI(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}ZE.prototype.cancel=function(){if(this.i=tI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function tI(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return R(a.i)}function Wx(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function Kx(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function nI(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=Kx(a),g=Wx(a),D=g.length,N=0;N<D;N++)d.call(void 0,g[N],h&&h[N],a)}var rI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yx(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),D=null;if(0<=g){var N=a[h].substring(0,g);D=a[h].substring(g+1)}else N=a[h];d(N,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function oi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof oi){this.h=a.h,fu(this,a.j),this.o=a.o,this.g=a.g,hu(this,a.s),this.l=a.l;var d=a.i,h=new aa;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),iI(this,h),this.m=a.m}else a&&(d=String(a).match(rI))?(this.h=!1,fu(this,d[1]||"",!0),this.o=oa(d[2]||""),this.g=oa(d[3]||"",!0),hu(this,d[4]),this.l=oa(d[5]||"",!0),iI(this,d[6]||"",!0),this.m=oa(d[7]||"")):(this.h=!1,this.i=new aa(null,this.h))}oi.prototype.toString=function(){var a=[],d=this.j;d&&a.push(sa(d,oI,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(sa(d,oI,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(sa(h,h.charAt(0)=="/"?Jx:Zx,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",sa(h,eP)),a.join("")};function $n(a){return new oi(a)}function fu(a,d,h){a.j=h?oa(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function hu(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function iI(a,d,h){d instanceof aa?(a.i=d,tP(a.i,a.h)):(h||(d=sa(d,Xx)),a.i=new aa(d,a.h))}function we(a,d,h){a.i.set(d,h)}function pu(a){return we(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function oa(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function sa(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,Qx),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Qx(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var oI=/[#\/\?@]/g,Zx=/[#\?:]/g,Jx=/[#\?]/g,Xx=/[#\?@]/g,eP=/#/g;function aa(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function _r(a){a.g||(a.g=new Map,a.h=0,a.i&&Yx(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=aa.prototype,t.add=function(a,d){_r(this),this.i=null,a=vo(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function sI(a,d){_r(a),d=vo(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function aI(a,d){return _r(a),d=vo(a,d),a.g.has(d)}t.forEach=function(a,d){_r(this),this.g.forEach(function(h,g){h.forEach(function(D){a.call(d,D,g,this)},this)},this)},t.na=function(){_r(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let D=a[g];for(let N=0;N<D.length;N++)h.push(d[g])}return h},t.V=function(a){_r(this);let d=[];if(typeof a=="string")aI(this,a)&&(d=d.concat(this.g.get(vo(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return _r(this),this.i=null,a=vo(this,a),aI(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function cI(a,d,h){sI(a,d),0<h.length&&(a.i=null,a.g.set(vo(a,d),R(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let N=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var D=N;k[g]!==""&&(D+="="+encodeURIComponent(String(k[g]))),a.push(D)}}return this.i=a.join("&")};function vo(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function tP(a,d){d&&!a.j&&(_r(a),a.i=null,a.g.forEach(function(h,g){var D=g.toLowerCase();g!=D&&(sI(this,g),cI(this,D,h))},a)),a.j=d}function nP(a,d){let h=new ra;if(c.Image){let g=new Image;g.onload=y(br,h,"TestLoadImage: loaded",!0,d,g),g.onerror=y(br,h,"TestLoadImage: error",!1,d,g),g.onabort=y(br,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(br,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function rP(a,d){let h=new ra,g=new AbortController,D=setTimeout(()=>{g.abort(),br(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(N=>{clearTimeout(D),N.ok?br(h,"TestPingServer: ok",!0,d):br(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),br(h,"TestPingServer: error",!1,d)})}function br(a,d,h,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(h)}catch{}}function iP(){this.g=new Bx}function oP(a,d,h){let g=h||"";try{nI(a,function(D,N){let k=D;l(D)&&(k=wh(D)),d.push(g+N+"="+encodeURIComponent(k))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function ca(a){this.l=a.Ub||null,this.j=a.eb||!1}E(ca,Th),ca.prototype.g=function(){return new mu(this.l,this.j)},ca.prototype.i=(function(a){return function(){return a}})({});function mu(a,d){et.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(mu,et),t=mu.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,la(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,la(this)),this.g&&(this.readyState=3,la(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uI(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function uI(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ua(this):la(this),this.readyState==3&&uI(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ua(this))},t.Qa=function(a){this.g&&(this.response=a,ua(this))},t.ga=function(){this.g&&ua(this)};function ua(a){a.readyState=4,a.l=null,a.j=null,a.v=null,la(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function la(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function lI(a){let d="";return se(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function kh(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=lI(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):we(a,d,h))}function Se(a){et.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Se,et);var sP=/^https?$/i,aP=["POST","PUT"];t=Se.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ah.g(),this.v=this.o?jE(this.o):jE(Ah),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(N){dI(this,N);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)h.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let N of g.keys())h.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(N=>N.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(aP,d,void 0))||g||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,k]of h)this.g.setRequestHeader(N,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pI(this),this.u=!0,this.g.send(a),this.u=!1}catch(N){dI(this,N)}};function dI(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,fI(a),gu(a)}function fI(a){a.A||(a.A=!0,ut(a,"complete"),ut(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ut(this,"complete"),ut(this,"abort"),gu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gu(this,!0)),Se.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hI(this):this.bb())},t.bb=function(){hI(this)};function hI(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Hn(a)!=4||a.Z()!=2)){if(a.u&&Hn(a)==4)OE(a.Ea,0,a);else if(ut(a,"readystatechange"),Hn(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=k===0){var D=String(a.D).match(rI)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),g=!sP.test(D?D.toLowerCase():"")}h=g}if(h)ut(a,"complete"),ut(a,"success");else{a.m=6;try{var N=2<Hn(a)?a.g.statusText:""}catch{N=""}a.l=N+" ["+a.Z()+"]",fI(a)}}finally{gu(a)}}}}function gu(a,d){if(a.g){pI(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ut(a,"ready");try{h.onreadystatechange=g}catch{}}}function pI(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Hn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),jx(d)}};function mI(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function cP(a){let d={};a=(a.g&&2<=Hn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(F(a[g]))continue;var h=T(a[g]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let N=d[D]||[];d[D]=N,N.push(h)}w(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function da(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function gI(a){this.Aa=0,this.i=[],this.j=new ra,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=da("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=da("baseRetryDelayMs",5e3,a),this.cb=da("retryDelaySeedMs",1e4,a),this.Wa=da("forwardChannelMaxRetries",2,a),this.wa=da("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ZE(a&&a.concurrentRequestLimit),this.Da=new iP,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gI.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){lt(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=DI(this,null,this.W),vu(this)};function Oh(a){if(yI(a),a.G==3){var d=a.U++,h=$n(a.I);if(we(h,"SID",a.K),we(h,"RID",d),we(h,"TYPE","terminate"),fa(a,h),d=new vr(a,a.j,d),d.L=2,d.v=pu($n(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=CI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),du(d)}TI(a)}function yu(a){a.g&&(Lh(a),a.g.cancel(),a.g=null)}function yI(a){yu(a),a.u&&(c.clearTimeout(a.u),a.u=null),_u(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function vu(a){if(!JE(a.h)&&!a.s){a.s=!0;var d=a.Ga;Ys||RE(),Qs||(Ys(),Qs=!0),ph.add(d,a),a.B=0}}function uP(a,d){return XE(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=na(m(a.Ga,a,d),wI(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new vr(this,this.j,a),N=this.o;if(this.S&&(N?(N=v(N),I(N,this.S)):N=this.S),this.m!==null||this.O||(D.H=N,N=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=_I(this,D,d),h=$n(this.I),we(h,"RID",a),we(h,"CVER",22),this.D&&we(h,"X-HTTP-Session-Id",this.D),fa(this,h),N&&(this.O?d="headers="+encodeURIComponent(String(lI(N)))+"&"+d:this.m&&kh(h,this.m,N)),Ph(this.h,D),this.Ua&&we(h,"TYPE","init"),this.P?(we(h,"$req",d),we(h,"SID","null"),D.T=!0,Rh(D,h,null)):Rh(D,h,d),this.G=2}}else this.G==3&&(a?vI(this,a):this.i.length==0||JE(this.h)||vI(this))};function vI(a,d){var h;d?h=d.l:h=a.U++;let g=$n(a.I);we(g,"SID",a.K),we(g,"RID",h),we(g,"AID",a.T),fa(a,g),a.m&&a.o&&kh(g,a.m,a.o),h=new vr(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=_I(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ph(a.h,h),Rh(h,g,d)}function fa(a,d){a.H&&se(a.H,function(h,g){we(d,g,h)}),a.l&&nI({},function(h,g){we(d,g,h)})}function _I(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var D=a.i;let N=-1;for(;;){let k=["count="+h];N==-1?0<h?(N=D[0].g,k.push("ofs="+N)):N=0:k.push("ofs="+N);let be=!0;for(let Qe=0;Qe<h;Qe++){let de=D[Qe].g,tt=D[Qe].map;if(de-=N,0>de)N=Math.max(0,D[Qe].g-100),be=!1;else try{oP(tt,k,"req"+de+"_")}catch{g&&g(tt)}}if(be){g=k.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function bI(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Ys||RE(),Qs||(Ys(),Qs=!0),ph.add(d,a),a.v=0}}function Fh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=na(m(a.Fa,a),wI(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,EI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=na(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),yu(this),EI(this))};function Lh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function EI(a){a.g=new vr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=$n(a.qa);we(d,"RID","rpc"),we(d,"SID",a.K),we(d,"AID",a.T),we(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&we(d,"TO",a.ja),we(d,"TYPE","xmlhttp"),fa(a,d),a.m&&a.o&&kh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=pu($n(d)),h.m=null,h.P=!0,KE(h,a)}t.Za=function(){this.C!=null&&(this.C=null,yu(this),Fh(this),lt(19))};function _u(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function II(a,d){var h=null;if(a.g==d){_u(a),Lh(a),a.g=null;var g=2}else if(xh(a.h,d))h=d.D,eI(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;g=cu(),ut(g,new zE(g,h)),vu(a)}else bI(a);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&uP(a,d)||g==2&&Fh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),D){case 1:si(a,5);break;case 4:si(a,10);break;case 3:si(a,6);break;default:si(a,2)}}}function wI(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function si(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let D=!g;g=new oi(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||fu(g,"https"),pu(g),D?nP(g.toString(),h):rP(g.toString(),h)}else lt(2);a.G=0,a.l&&a.l.sa(d),TI(a),yI(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function TI(a){if(a.G=0,a.ka=[],a.l){let d=tI(a.h);(d.length!=0||a.i.length!=0)&&(A(a.ka,d),A(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function DI(a,d,h){var g=h instanceof oi?$n(h):new oi(h);if(g.g!="")d&&(g.g=d+"."+g.g),hu(g,g.s);else{var D=c.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var N=new oi(null);g&&fu(N,g),d&&(N.g=d),D&&hu(N,D),h&&(N.l=h),g=N}return h=a.D,d=a.ya,h&&d&&we(g,h,d),we(g,"VER",a.la),fa(a,g),g}function CI(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Se(new ca({eb:h})):new Se(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function AI(){}t=AI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bu(){}bu.prototype.g=function(a,d){return new It(a,d)};function It(a,d){et.call(this),this.g=new gI(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!F(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!F(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new _o(this)}E(It,et),It.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){Oh(this.g)},It.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=wh(a),a=h);d.i.push(new Gx(d.Ya++,a)),d.G==3&&vu(d)},It.prototype.N=function(){this.g.l=null,delete this.j,Oh(this.g),delete this.g,It.aa.N.call(this)};function SI(a){Dh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}E(SI,Dh);function RI(){Ch.call(this),this.status=1}E(RI,Ch);function _o(a){this.g=a}E(_o,AI),_o.prototype.ua=function(){ut(this.g,"a")},_o.prototype.ta=function(a){ut(this.g,new SI(a))},_o.prototype.sa=function(a){ut(this.g,new RI)},_o.prototype.ra=function(){ut(this.g,"b")},bu.prototype.createWebChannel=bu.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,p_=lr.createWebChannelTransport=function(){return new bu},h_=lr.getStatEventTarget=function(){return cu()},f_=lr.Event=ri,Ef=lr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uu.NO_ERROR=0,uu.TIMEOUT=8,uu.HTTP_ERROR=6,Vc=lr.ErrorCode=uu,qE.COMPLETE="complete",d_=lr.EventType=qE,BE.EventType=ea,ea.OPEN="a",ea.CLOSE="b",ea.ERROR="c",ea.MESSAGE="d",et.prototype.listen=et.prototype.K,_s=lr.WebChannel=BE,C4=lr.FetchXmlHttpFactory=ca,Se.prototype.listenOnce=Se.prototype.L,Se.prototype.getLastError=Se.prototype.Ka,Se.prototype.getLastErrorCode=Se.prototype.Ba,Se.prototype.getStatus=Se.prototype.Z,Se.prototype.getResponseJson=Se.prototype.Oa,Se.prototype.getResponseText=Se.prototype.oa,Se.prototype.send=Se.prototype.ea,Se.prototype.setWithCredentials=Se.prototype.Ha,l_=lr.XhrIo=Se}).apply(typeof bf<"u"?bf:typeof self<"u"?self:typeof window<"u"?window:{});var cN="@firebase/firestore",uN="4.8.0";var Ke=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");var zs="11.10.0";var ao=new xn("@firebase/firestore");function bs(){return ao.logLevel}function L(t,...e){if(ao.logLevel<=ce.DEBUG){let n=e.map(nE);ao.debug(`Firestore (${zs}): ${t}`,...n)}}function fr(t,...e){if(ao.logLevel<=ce.ERROR){let n=e.map(nE);ao.error(`Firestore (${zs}): ${t}`,...n)}}function Jr(t,...e){if(ao.logLevel<=ce.WARN){let n=e.map(nE);ao.warn(`Firestore (${zs}): ${t}`,...n)}}function nE(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function G(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZN(t,r,n)}function ZN(t,e,n){let r=`FIRESTORE (${zs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fr(r),new Error(r)}function ve(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||ZN(e,i,r)}function te(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends Wt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var kn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Sf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},__=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}},b_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},E_=class{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new kn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new kn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new kn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new Sf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}},I_=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},w_=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new I_(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Rf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},T_=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ve(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Rf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function A4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function JN(){return new TextEncoder}var zc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=A4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ae(t,e){return t<e?-1:t>e?1:0}function D_(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ae(r,i);{let o=JN(),s=S4(o.encode(lN(t,n)),o.encode(lN(e,n)));return s!==0?s:ae(r,i)}}n+=r>65535?2:1}return ae(t.length,e.length)}function lN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function S4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ae(t[n],e[n]);return ae(t.length,e.length)}function Ns(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var dN="__name__",Nf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&G(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ae(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):D_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ur.fromString(e.substring(4,e.length-2))}},Ae=class t extends Nf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},R4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pt=class t extends Nf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return R4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dN}static keyField(){return new t([dN])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new j(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new j(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new j(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ae.fromString(e))}static fromName(e){return new t(Ae.fromString(e).popFirst(5))}static empty(){return new t(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ae(e.slice()))}};function XN(t,e,n){if(!n)throw new j(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function N4(t,e,n,r){if(e===!0&&r===!0)throw new j(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fN(t){if(!q.isDocumentKey(t))throw new j(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hN(t){if(q.isDocumentKey(t))throw new j(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function eM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G(12329,{type:typeof t})}function co(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=rE(t);throw new j(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function je(t,e){let n={typeString:t};return e&&(n.value=e),n}function tu(t,e){if(!eM(t))throw new j(x.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new j(x.INVALID_ARGUMENT,n);return!0}var pN=-62135596800,mN=1e6,Be=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*mN);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pN)throw new j(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mN}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tu(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-pN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:je("string",Be._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};var ie=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Be(0,0))}static max(){return new t(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var qc=-1,C_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};C_.UNKNOWN_ID=-1;function M4(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new uo(i,q.empty(),e)}function x4(t){return new uo(t.readTime,t.key,qc)}var uo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ie.min(),q.empty(),qc)}static max(){return new t(ie.max(),q.empty(),qc)}};function P4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}var k4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",A_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function qs(t){if(t.code!==x.FAILED_PRECONDITION||t.message!==k4)throw t;L("LocalStore","Unexpectedly lost primary lease")}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function O4(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gs(t){return t.name==="IndexedDbTransactionError"}var iE=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),oE=-1;function sh(t){return t==null}function Gc(t){return t===0&&1/t==-1/0}function F4(t){return typeof t=="number"&&Number.isInteger(t)&&!Gc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var tM="";function L4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gN(e)),e=V4(t.get(n),e);return gN(e)}function V4(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case tM:n+="";break;default:n+=o}}return n}function gN(t){return t+tM+""}var j4="remoteDocuments",nM="owner";var rM="mutationQueues";var iM="mutations";var oM="documentMutations",B4="remoteDocumentsV14";var sM="remoteDocumentGlobal";var aM="targets";var cM="targetDocuments";var uM="targetGlobal",lM="collectionParents";var dM="clientMetadata";var fM="bundles";var hM="namedQueries";var U4="indexConfiguration";var $4="indexState";var H4="indexEntries";var pM="documentOverlays";var z4="globals";var q4=[rM,iM,oM,j4,aM,nM,uM,cM,dM,sM,lM,fM,hM],uce=[...q4,pM],G4=[rM,iM,oM,B4,aM,nM,uM,cM,dM,sM,lM,fM,hM,pM],W4=G4,K4=[...W4,U4,$4,H4];var lce=[...K4,z4];function yN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ni(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ne=class t{constructor(e,n){this.comparator=e,this.root=n||On.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ts(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ts(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ts(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ts(this.root,e,this.comparator,!0)}},Ts=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},On=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw G(43730,{key:this.key,value:this.value});if(this.right.isRed())throw G(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw G(27949);return e+(this.isRed()?0:1)}};On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw G(57766)}get value(){throw G(16141)}get color(){throw G(16727)}get left(){throw G(29726)}get right(){throw G(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new On(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ye=class t{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mf(this.data.getIterator())}getIteratorFrom(e){return new Mf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Mf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Qt=class t{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ye(Pt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ns(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var xf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ct=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xf("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ct.EMPTY_BYTE_STRING=new ct("");var Y4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(t){if(ve(!!t,39018),typeof t=="string"){let e=0,n=Y4.exec(t);if(ve(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pr(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}var gM="server_timestamp",yM="__type__",vM="__previous_value__",_M="__local_write_time__";function sE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[yM])===null||n===void 0?void 0:n.stringValue)===gM}function ah(t){let e=t.mapValue.fields[vM];return sE(e)?ah(e):e}function Wc(t){let e=hr(t.mapValue.fields[_M].timestampValue);return new Be(e.seconds,e.nanos)}var S_=class{constructor(e,n,r,i,o,s,c,u,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},Pf="(default)",kf=class t{constructor(e,n){this.projectId=e,this.database=n||Pf}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Pf}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var aE="__type__",bM="__max__",If={mapValue:{fields:{__type__:{stringValue:bM}}}},cE="__vector__",Ms="value";function Xr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sE(t)?4:IM(t)?9007199254740991:EM(t)?10:11:G(28295,{value:t})}function Vn(t,e){if(t===e)return!0;let n=Xr(t);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wc(t).isEqual(Wc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=hr(i.timestampValue),c=hr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return pr(i.bytesValue).isEqual(pr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return De(i.geoPointValue.latitude)===De(o.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return De(i.integerValue)===De(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=De(i.doubleValue),c=De(o.doubleValue);return s===c?Gc(s)===Gc(c):isNaN(s)&&isNaN(c)}return!1})(t,e);case 9:return Ns(t.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(yN(s)!==yN(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Vn(s[u],c[u])))return!1;return!0})(t,e);default:return G(52216,{left:t})}}function Kc(t,e){return(t.values||[]).find(n=>Vn(n,e))!==void 0}function xs(t,e){if(t===e)return 0;let n=Xr(t),r=Xr(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=De(o.integerValue||o.doubleValue),u=De(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return vN(t.timestampValue,e.timestampValue);case 4:return vN(Wc(t),Wc(e));case 5:return D_(t.stringValue,e.stringValue);case 6:return(function(o,s){let c=pr(o),u=pr(s);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=ae(c[l],u[l]);if(f!==0)return f}return ae(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=ae(De(o.latitude),De(s.latitude));return c!==0?c:ae(De(o.longitude),De(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return _N(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,l,f;let p=o.fields||{},m=s.fields||{},y=(c=p[Ms])===null||c===void 0?void 0:c.arrayValue,E=(u=m[Ms])===null||u===void 0?void 0:u.arrayValue,R=ae(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((f=E?.values)===null||f===void 0?void 0:f.length)||0);return R!==0?R:_N(y,E)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===If.mapValue&&s===If.mapValue)return 0;if(o===If.mapValue)return 1;if(s===If.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=D_(u[p],f[p]);if(m!==0)return m;let y=xs(c[u[p]],l[f[p]]);if(y!==0)return y}return ae(u.length,f.length)})(t.mapValue,e.mapValue);default:throw G(23264,{le:n})}}function vN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);let n=hr(t),r=hr(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function _N(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=xs(n[i],r[i]);if(o)return o}return ae(n.length,r.length)}function Ps(t){return R_(t)}function R_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=hr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return pr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return q.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=R_(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${R_(n.fields[s])}`;return i+"}"})(t.mapValue):G(61005,{value:t})}function Df(t){switch(Xr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ah(t);return e?16+Df(e):16;case 5:return 2*t.stringValue.length;case 6:return pr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Df(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ni(r.fields,(o,s)=>{i+=o.length+Df(s)}),i})(t.mapValue);default:throw G(13486,{value:t})}}function N_(t){return!!t&&"integerValue"in t}function uE(t){return!!t&&"arrayValue"in t}function bN(t){return!!t&&"nullValue"in t}function EN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cf(t){return!!t&&"mapValue"in t}function EM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[aE])===null||n===void 0?void 0:n.stringValue)===cE}function Bc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ni(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bM}var fce={mapValue:{fields:{[aE]:{stringValue:cE},[Ms]:{arrayValue:{}}}}};var xt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=Bc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ni(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Bc(this.value))}};function wM(t){let e=[];return ni(t.fields,(n,r)=>{let i=new Pt([n]);if(Cf(r)){let o=wM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Qt(e)}var mn=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,ie.min(),ie.min(),ie.min(),xt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ie.min(),ie.min(),xt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ie.min(),ie.min(),xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ks=class{constructor(e,n){this.position=e,this.inclusive=n}};function IN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),n.key):r=xs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function wN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vn(t.position[n],e.position[n]))return!1;return!0}var Os=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Q4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Of=class{},Ge=class t extends Of{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new x_(e,n,r):n==="array-contains"?new O_(e,r):n==="in"?new F_(e,r):n==="not-in"?new L_(e,r):n==="array-contains-any"?new V_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new P_(e,r):new k_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xs(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(xs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},jn=class t extends Of{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return TM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function TM(t){return t.op==="and"}function DM(t){return Z4(t)&&TM(t)}function Z4(t){for(let e of t.filters)if(e instanceof jn)return!1;return!0}function M_(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+Ps(t.value);if(DM(t))return t.filters.map(e=>M_(e)).join(",");{let e=t.filters.map(n=>M_(n)).join(",");return`${t.op}(${e})`}}function CM(t,e){return t instanceof Ge?(function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&Vn(r.value,i.value)})(t,e):t instanceof jn?(function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&CM(s,i.filters[c]),!0):!1})(t,e):void G(19439)}function AM(t){return t instanceof Ge?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ps(n.value)}`})(t):t instanceof jn?(function(n){return n.op.toString()+" {"+n.getFilters().map(AM).join(" ,")+"}"})(t):"Filter"}var x_=class extends Ge{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},P_=class extends Ge{constructor(e,n){super(e,"in",n),this.keys=SM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},k_=class extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=SM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function SM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var O_=class extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return uE(n)&&Kc(n.arrayValue,this.value)}},F_=class extends Ge{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Kc(this.value.arrayValue,n)}},L_=class extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kc(this.value.arrayValue,n)}},V_=class extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!uE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Kc(this.value.arrayValue,r))}};var j_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function TN(t,e=null,n=[],r=[],i=null,o=null,s=null){return new j_(t,e,n,r,i,o,s)}function lE(t){let e=te(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>M_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ps(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ps(r)).join(",")),e.Pe=n}return e.Pe}function dE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Q4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wN(t.startAt,e.startAt)&&wN(t.endAt,e.endAt)}function B_(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Fs=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function J4(t,e,n,r,i,o,s,c){return new Fs(t,e,n,r,i,o,s,c)}function RM(t){return new Fs(t)}function DN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function X4(t){return t.collectionGroup!==null}function Uc(t){let e=te(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Ye(Pt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Os(o,r))}),n.has(Pt.keyField().canonicalString())||e.Te.push(new Os(Pt.keyField(),r))}return e.Te}function Fn(t){let e=te(t);return e.Ie||(e.Ie=ez(e,Uc(t))),e.Ie}function ez(t,e){if(t.limitType==="F")return TN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Os(i.field,o)});let n=t.endAt?new ks(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ks(t.startAt.position,t.startAt.inclusive):null;return TN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function U_(t,e,n){return new Fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ch(t,e){return dE(Fn(t),Fn(e))&&t.limitType===e.limitType}function NM(t){return`${lE(Fn(t))}|lt:${t.limitType}`}function Es(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AM(i)).join(", ")}]`),sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ps(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ps(i)).join(",")),`Target(${r})`})(Fn(t))}; limitType=${t.limitType})`}function uh(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of Uc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let l=IN(s,c,u);return s.inclusive?l<=0:l<0})(r.startAt,Uc(r),i)||r.endAt&&!(function(s,c,u){let l=IN(s,c,u);return s.inclusive?l>=0:l>0})(r.endAt,Uc(r),i))})(t,e)}function tz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MM(t){return(e,n)=>{let r=!1;for(let i of Uc(t)){let o=nz(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function nz(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):(function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?xs(u,l):G(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G(19790,{direction:t.dir})}}var mr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ni(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return mM(this.inner)}size(){return this.innerSize}};var rz=new Ne(q.comparator);function gr(){return rz}var xM=new Ne(q.comparator);function jc(...t){let e=xM;for(let n of t)e=e.insert(n.key,n);return e}function PM(t){let e=xM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oo(){return $c()}function kM(){return $c()}function $c(){return new mr(t=>t.toString(),(t,e)=>t.isEqual(e))}var iz=new Ne(q.comparator),oz=new Ye(q.comparator);function ue(...t){let e=oz;for(let n of t)e=e.add(n);return e}var sz=new Ye(ae);function az(){return sz}function fE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function OM(t){return{integerValue:""+t}}function cz(t,e){return F4(e)?OM(e):fE(t,e)}var Ls=class{constructor(){this._=void 0}};function uz(t,e,n){return t instanceof Vs?(function(i,o){let s={fields:{[yM]:{stringValue:gM},[_M]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&sE(o)&&(o=ah(o)),o&&(s.fields[vM]=o),{mapValue:s}})(n,e):t instanceof lo?LM(t,e):t instanceof fo?VM(t,e):(function(i,o){let s=FM(i,o),c=CN(s)+CN(i.Ee);return N_(s)&&N_(i.Ee)?OM(c):fE(i.serializer,c)})(t,e)}function lz(t,e,n){return t instanceof lo?LM(t,e):t instanceof fo?VM(t,e):n}function FM(t,e){return t instanceof js?(function(r){return N_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Vs=class extends Ls{},lo=class extends Ls{constructor(e){super(),this.elements=e}};function LM(t,e){let n=jM(e);for(let r of t.elements)n.some(i=>Vn(i,r))||n.push(r);return{arrayValue:{values:n}}}var fo=class extends Ls{constructor(e){super(),this.elements=e}};function VM(t,e){let n=jM(e);for(let r of t.elements)n=n.filter(i=>!Vn(i,r));return{arrayValue:{values:n}}}var js=class extends Ls{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function CN(t){return De(t.integerValue||t.doubleValue)}function jM(t){return uE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function dz(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof lo&&i instanceof lo||r instanceof fo&&i instanceof fo?Ns(r.elements,i.elements,Vn):r instanceof js&&i instanceof js?Vn(r.Ee,i.Ee):r instanceof Vs&&i instanceof Vs})(t.transform,e.transform)}var $_=class{constructor(e,n){this.version=e,this.transformResults=n}},dr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Af(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Bs=class{};function BM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yc(t.key,dr.none()):new ho(t.key,t.data,dr.none());{let n=t.data,r=xt.empty(),i=new Ye(Pt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Bn(t.key,r,new Qt(i.toArray()),dr.none())}}function fz(t,e,n){t instanceof ho?(function(i,o,s){let c=i.value.clone(),u=SN(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Bn?(function(i,o,s){if(!Af(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=SN(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(UM(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function Hc(t,e,n,r){return t instanceof ho?(function(o,s,c,u){if(!Af(o.precondition,s))return c;let l=o.value.clone(),f=RN(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof Bn?(function(o,s,c,u){if(!Af(o.precondition,s))return c;let l=RN(o.fieldTransforms,u,s),f=s.data;return f.setAll(UM(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,c){return Af(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(t,e,n)}function hz(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=FM(r.transform,i||null);o!=null&&(n===null&&(n=xt.empty()),n.set(r.field,o))}return n||null}function AN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ns(r,i,(o,s)=>dz(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ho=class extends Bs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Bn=class extends Bs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function UM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function SN(t,e,n){let r=new Map;ve(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,lz(s,c,n[i]))}return r}function RN(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,uz(o,s,e))}return r}var Yc=class extends Bs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},H_=class extends Bs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var z_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&fz(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Hc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=kM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=BM(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Ns(this.mutations,e.mutations,(n,r)=>AN(n,r))&&Ns(this.baseMutations,e.baseMutations,(n,r)=>AN(n,r))}},q_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return iz})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var G_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var W_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Le,le;function pz(t){switch(t){case x.OK:return G(64938);case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return G(15467,{code:t})}}function $M(t){if(t===void 0)return fr("GRPC error has no .code"),x.UNKNOWN;switch(t){case Le.OK:return x.OK;case Le.CANCELLED:return x.CANCELLED;case Le.UNKNOWN:return x.UNKNOWN;case Le.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Le.INTERNAL:return x.INTERNAL;case Le.UNAVAILABLE:return x.UNAVAILABLE;case Le.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Le.NOT_FOUND:return x.NOT_FOUND;case Le.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Le.ABORTED:return x.ABORTED;case Le.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Le.DATA_LOSS:return x.DATA_LOSS;default:return G(39323,{code:t})}}(le=Le||(Le={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";var NN=null;var mz=new ur([4294967295,4294967295],0);function MN(t){let e=JN().encode(t),n=new u_;return n.update(e),new Uint8Array(n.digest())}function xN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ur([n,r],0),new ur([i,o],0)]}var K_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new so(`Invalid padding: ${n}`);if(r<0)throw new so(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new so(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new so(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ur.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(ur.fromNumber(r)));return i.compare(mz)===1&&(i=new ur([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=MN(e),[r,i]=xN(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let n=MN(e),[r,i]=xN(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},so=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ff=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Qc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ie.min(),i,new Ne(ae),gr(),ue())}},Qc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var Cs=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},Lf=class{constructor(e,n){this.targetId=e,this.De=n}},Vf=class{constructor(e,n,r=ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},jf=class{constructor(){this.ve=0,this.Ce=PN(),this.Fe=ct.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ue(),n=ue(),r=ue();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G(38017,{changeType:o})}}),new Qc(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=PN()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ve(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Y_=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=gr(),this.je=wf(),this.Je=wf(),this.He=new Ne(ae)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:G(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(B_(o))if(r===0){let s=new q(o.path);this.Xe(n,s,mn.newNoDocument(s,ie.min()))}else ve(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}NN?.ct((function(f,p,m,y,E){var R,A,M,F,$,z;let _e={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},se=p.unchangedNames;return se&&(_e.bloomFilter={applied:E===0,hashCount:(R=se?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(F=(M=(A=se?.bits)===null||A===void 0?void 0:A.bitmap)===null||M===void 0?void 0:M.length)!==null&&F!==void 0?F:0,padding:(z=($=se?.bits)===null||$===void 0?void 0:$.padding)!==null&&z!==void 0?z:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),_e})(s,e.De,this.We.lt(),c,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=pr(r).toUint8Array()}catch(u){if(u instanceof xf)return Jr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new K_(s,i,o)}catch(u){return Jr(u instanceof so?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&B_(c.target)){let u=new q(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,mn.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=ue();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Ff(e,n,this.He,this.ze,r);return this.ze=gr(),this.je=wf(),this.Je=wf(),this.He=new Ne(ae),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new jf,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Ye(ae),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Ye(ae),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new jf),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function wf(){return new Ne(q.comparator)}function PN(){return new Ne(q.comparator)}var gz={asc:"ASCENDING",desc:"DESCENDING"},yz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vz={and:"AND",or:"OR"},Q_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Z_(t,e){return t.useProto3Json||sh(e)?e:{value:e}}function Bf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _z(t,e){return Bf(t,e.toTimestamp())}function Ln(t){return ve(!!t,49232),ie.fromTimestamp((function(n){let r=hr(n);return new Be(r.seconds,r.nanos)})(t))}function hE(t,e){return J_(t,e).canonicalString()}function J_(t,e){let n=(function(i){return new Ae(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function zM(t){let e=Ae.fromString(t);return ve(YM(e),10190,{key:e.toString()}),e}function X_(t,e){return hE(t.databaseId,e.path)}function m_(t,e){let n=zM(e);if(n.get(1)!==t.databaseId.projectId)throw new j(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(GM(n))}function qM(t,e){return hE(t.databaseId,e)}function bz(t){let e=zM(t);return e.length===4?Ae.emptyPath():GM(e)}function eb(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GM(t){return ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kN(t,e,n){return{name:X_(t,e),fields:n.value.mapValue.fields}}function Ez(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(ve(f===void 0||typeof f=="string",58123),ct.fromBase64String(f||"")):(ve(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ct.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(l){let f=l.code===void 0?x.UNKNOWN:$M(l.code);return new j(f,l.message||"")})(s);n=new Vf(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=m_(t,r.document.name),o=Ln(r.document.updateTime),s=r.document.createTime?Ln(r.document.createTime):ie.min(),c=new xt({mapValue:{fields:r.document.fields}}),u=mn.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Cs(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=m_(t,r.document),o=r.readTime?Ln(r.readTime):ie.min(),s=mn.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Cs([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=m_(t,r.document),o=r.removedTargetIds||[];n=new Cs([],o,i,null)}else{if(!("filter"in e))return G(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new W_(i,o),c=r.targetId;n=new Lf(c,s)}}return n}function Iz(t,e){let n;if(e instanceof ho)n={update:kN(t,e.key,e.value)};else if(e instanceof Yc)n={delete:X_(t,e.key)};else if(e instanceof Bn)n={update:kN(t,e.key,e.data),updateMask:Mz(e.fieldMask)};else{if(!(e instanceof H_))return G(16599,{Rt:e.type});n={verify:X_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let c=s.transform;if(c instanceof Vs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof lo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof fo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof js)return{fieldPath:s.field.canonicalString(),increment:c.Ee};throw G(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:_z(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:G(27497)})(t,e.precondition)),n}function wz(t,e){return t&&t.length>0?(ve(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?Ln(i.updateTime):Ln(o);return s.isEqual(ie.min())&&(s=Ln(o)),new $_(s,i.transformResults||[])})(n,e))):[]}function Tz(t,e){return{documents:[qM(t,e.path)]}}function Dz(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qM(t,i);let o=(function(l){if(l.length!==0)return KM(jn.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(m){return{field:Is(m.field),direction:Sz(m.dir)}})(f))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=Z_(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:n,parent:i}}function Cz(t){let e=bz(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ve(r===1,65062);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=(function(p){let m=WM(p);return m instanceof jn&&DM(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(E){return new Os(ws(E.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(m))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,sh(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new ks(y,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new ks(y,m)})(n.endAt)),J4(e,i,s,o,c,"F",u,l)}function Az(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WM(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ws(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ws(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ws(n.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ws(n.unaryFilter.field);return Ge.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return G(61313);default:return G(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ge.create(ws(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return G(58110);default:return G(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return jn.create(n.compositeFilter.filters.map(r=>WM(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G(1026)}})(n.compositeFilter.op))})(t):G(30097,{filter:t})}function Sz(t){return gz[t]}function Rz(t){return yz[t]}function Nz(t){return vz[t]}function Is(t){return{fieldPath:t.canonicalString()}}function ws(t){return Pt.fromServerFormat(t.fieldPath)}function KM(t){return t instanceof Ge?(function(n){if(n.op==="=="){if(EN(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NAN"}};if(bN(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EN(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NOT_NAN"}};if(bN(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(n.field),op:Rz(n.op),value:n.value}}})(t):t instanceof jn?(function(n){let r=n.getFilters().map(i=>KM(i));return r.length===1?r[0]:{compositeFilter:{op:Nz(n.op),filters:r}}})(t):G(54877,{filter:t})}function Mz(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Zc=class t{constructor(e,n,r,i,o=ie.min(),s=ie.min(),c=ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var tb=class{constructor(e){this.gt=e}};function xz(t){let e=Cz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?U_(e,e.limit,"L"):e}var Uf=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(De(e.integerValue));else if("doubleValue"in e){let r=De(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Gc(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=hr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(pr(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?IM(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):EM(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):G(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=Ms,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(De(c)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),q.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};Uf.Ut=new Uf;var nb=class{constructor(){this.Dn=new rb}addToCollectionParentIndex(e,n){return this.Dn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(uo.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(uo.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},rb=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ye(Ae.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(Ae.comparator)).toArray()}};var hce=new Uint8Array(0);var ON={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QM=41943040,Yt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(QM,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);var Jc=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var FN="LruGarbageCollector",Pz=1048576;function LN([t,e],[n,r]){let i=ae(t,n);return i===0?ae(e,r):i}var ib=class{constructor(e){this.Tr=e,this.buffer=new Ye(LN),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();LN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},ob=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){L(FN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gs(n)?L(FN,"Ignoring IndexedDB error during garbage collection: ",n):await qs(n)}await this.Rr(3e5)})}},sb=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(iE.ue);let r=new ib(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(ON)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ON):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),bs()<=ce.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function kz(t,e){return new sb(t,e)}var ab=class{constructor(){this.changes=new mr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var cb=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var ub=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hc(r.mutation,i,Qt.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=oo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=jc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=oo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=gr(),s=$c(),c=(function(){return $c()})();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Bn)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Hc(f.mutation,l,f.mutation.getFieldMask(),Be.now())):s.set(l.key,Qt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var p;return c.set(l,new cb(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=$c(),i=new Ne((s,c)=>s-c),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||Qt.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||ue()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=kM();f.forEach(m=>{if(!o.has(m)){let y=BM(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):X4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(oo()),c=qc,u=o;return s.next(l=>P.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ue())).next(f=>({batchId:c,changes:PM(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=jc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=jc();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,u=>{let l=(function(p,m){return new Fs(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,mn.newInvalidDocument(f)))});let c=jc();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&Hc(f.mutation,l,Qt.empty(),Be.now()),uh(n,l)&&(c=c.insert(u,l))}),c})}};var lb=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return P.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ln(i.createTime)}})(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:xz(i.bundledQuery),readTime:Ln(i.readTime)}})(n)),P.resolve()}};var db=class{constructor(){this.overlays=new Ne(q.comparator),this.kr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=oo();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=oo(),o=n.length+1,s=new q(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ne((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=oo(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=oo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return P.resolve(c)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new G_(n,r));let o=this.kr.get(n);o===void 0&&(o=ue(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var fb=class{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Xc=class{constructor(){this.qr=new Ye(Ve.Qr),this.$r=new Ye(Ve.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Ve(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ve(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new q(new Ae([])),r=new Ve(n,e),i=new Ve(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new q(new Ae([])),r=new Ve(n,e),i=new Ve(n,e+1),o=ue();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ve(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ve=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return q.comparator(e.key,n.key)||ae(e.Hr,n.Hr)}static Ur(e,n){return ae(e.Hr,n.Hr)||q.comparator(e.key,n.key)}};var hb=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ye(Ve.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new z_(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Ve(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?oE:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ve(n,0),i=new Ve(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(ae);return n.forEach(i=>{let o=new Ve(i,0),s=new Ve(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new Ve(new q(o),0),c=new Ye(ae);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),P.resolve(this.ei(c))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(n.mutations,i=>{let o=new Ve(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Ve(n,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var pb=class{constructor(e){this.ni=e,this.docs=(function(){return new Ne(q.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=gr(),s=n.path,c=new q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||P4(x4(f),r)<=0||(i.has(f.key)||uh(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){G(9500)}ri(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mb(this)}getSize(e){return P.resolve(this.size)}},mb=class extends ab{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var gb=class{constructor(e){this.persistence=e,this.ii=new mr(n=>lE(n),dE),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.si=0,this.oi=new Xc,this.targetCount=0,this._i=Jc.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),P.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new Jc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.hr(n),P.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.oi.containsKey(n))}};var $f=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new iE(0),this.ci=!1,this.ci=!0,this.li=new fb,this.referenceDelegate=e(this),this.hi=new gb(this),this.indexManager=new nb,this.remoteDocumentCache=(function(i){return new pb(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new tb(n),this.Ti=new lb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new db,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new hb(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new yb(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},yb=class extends A_{constructor(e){super(),this.currentSequenceNumber=e}},vb=class t{constructor(e){this.persistence=e,this.Ai=new Xc,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw G(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=q.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return P.or([()=>P.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Hf=class t{constructor(e,n){this.persistence=e,this.gi=new mr(r=>L4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=kz(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Df(e.data.value)),n}Sr(e,n,r){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var _b=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ue(),i=ue();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var bb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Eb=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return hR()?8:O4(Mt())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new bb;return this.ws(e,n,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,s,c.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(bs()<=ce.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Es(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(bs()<=ce.DEBUG&&L("QueryEngine","Query:",Es(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(bs()<=ce.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Es(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fn(n))):P.resolve())}ps(e,n){if(DN(n))return P.resolve(null);let r=Fn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=U_(n,null,"F"),r=Fn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,c);return this.Ds(n,l,s,u.readTime)?this.ps(e,U_(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return DN(n)||i.isEqual(ie.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?P.resolve(null):(bs()<=ce.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Es(n)),this.vs(e,s,n,M4(i,qc)).next(c=>c))})}bs(e,n){let r=new Ye(MM(e));return n.forEach((i,o)=>{uh(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return bs()<=ce.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Es(n)),this.gs.getDocumentsMatchingQuery(e,n,uo.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var pE="LocalStore",Oz=3e8,Ib=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Ne(ae),this.Ms=new mr(o=>lE(o),dE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ub(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function Fz(t,e,n,r){return new Ib(t,e,n,r)}async function ZM(t,e){let n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ue();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})}function Lz(t,e){let n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(c,u,l,f){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(E=>{y=y.next(()=>f.getEntry(u,E)).next(R=>{let A=l.docVersions.get(E);ve(A!==null,48541),R.version.compareTo(A)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),f.addEntry(R)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=ue();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function JM(t){let e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function Vz(t,e){let n=te(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let c=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(n.hi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,f.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ct.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),(function(R,A,M){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=Oz?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(m,y,f)&&c.push(n.hi.updateTargetData(o,y))});let u=gr(),l=ue();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(jz(o,s,e.documentUpdates).next(f=>{u=f.Ls,l=f.ks})),!r.isEqual(ie.min())){let f=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return P.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function jz(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=gr();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):L(pE,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function Bz(t,e){let n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=oE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Uz(t,e){let n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new Zc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function wb(t,e,n){let r=te(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Gs(s))throw s;L(pE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function VN(t,e,n){let r=te(t),i=ie.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=te(u),m=p.Ms.get(f);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,f)})(r,s,Fn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:ue())).next(c=>($z(r,tz(e),c),{documents:c,qs:o})))}function $z(t,e,n){let r=t.xs.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var zf=class{constructor(){this.activeTargetIds=az()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Tb=class{constructor(){this.Fo=new zf,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new zf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Db=class{xo(e){}shutdown(){}};var jN="ConnectivityMonitor",qf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){L(jN,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){L(jN,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Tf=null;function Cb(){return Tf===null?Tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tf++,"0x"+Tf.toString(16)}var g_="RestConnection",Hz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Ab=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Pf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=Cb(),c=this.Go(e,n.toUriEncodedString());L(g_,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),f=Yi(l);return this.jo(e,c,u,r,f).then(p=>(L(g_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Jr(g_,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=Hz[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var Sb=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var at="WebChannelConnection",Rb=class extends Ab{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=Cb();return new Promise((c,u)=>{let l=new l_;l.setWithCredentials(!0),l.listenOnce(d_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Vc.NO_ERROR:let p=l.getResponseJson();L(at,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case Vc.TIMEOUT:L(at,`RPC '${e}' ${s} timed out`),u(new j(x.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:let m=l.getStatus();if(L(at,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let E=y?.error;if(E&&E.status&&E.message){let R=(function(M){let F=M.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(F)>=0?F:x.UNKNOWN})(E.status);u(new j(R,E.message))}else u(new j(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new j(x.UNAVAILABLE,"Connection failed."));break;default:G(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{L(at,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);L(at,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",f,r,15)})}P_(e,n,r){let i=Cb(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=p_(),c=h_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");L(at,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.T_(p);let m=!1,y=!1,E=new Sb({Ho:A=>{y?L(at,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(L(at,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(at,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Yo:()=>p.close()}),R=(A,M,F)=>{A.listen(M,$=>{try{F($)}catch(z){setTimeout(()=>{throw z},0)}})};return R(p,_s.EventType.OPEN,()=>{y||(L(at,`RPC '${e}' stream ${i} transport opened.`),E.s_())}),R(p,_s.EventType.CLOSE,()=>{y||(y=!0,L(at,`RPC '${e}' stream ${i} transport closed`),E.__(),this.I_(p))}),R(p,_s.EventType.ERROR,A=>{y||(y=!0,Jr(at,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),E.__(new j(x.UNAVAILABLE,"The operation could not be completed")))}),R(p,_s.EventType.MESSAGE,A=>{var M;if(!y){let F=A.data[0];ve(!!F,16349);let $=F,z=$?.error||((M=$[0])===null||M===void 0?void 0:M.error);if(z){L(at,`RPC '${e}' stream ${i} received error:`,z);let _e=z.status,se=(function(_){let I=Le[_];if(I!==void 0)return $M(I)})(_e),w=z.message;se===void 0&&(se=x.INTERNAL,w="Unknown error status: "+_e+" with message "+z.message),y=!0,E.__(new j(se,w)),p.close()}else L(at,`RPC '${e}' stream ${i} received:`,F),E.a_(F)}}),R(c,f_.STAT_EVENT,A=>{A.stat===Ef.PROXY?L(at,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Ef.NOPROXY&&L(at,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function y_(){return typeof document<"u"?document:null}function lh(t){return new Q_(t,!0)}var Gf=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var BN="PersistentStream",Wf=class{constructor(e,n,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Gf(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new j(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return L(BN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(L(BN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Nb=class extends Wf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=Ez(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?Ln(s.readTime):ie.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=eb(this.serializer),n.addTarget=(function(o,s){let c,u=s.target;if(c=B_(u)?{documents:Tz(o,u)}:{query:Dz(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=HM(o,s.resumeToken);let l=Z_(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){c.readTime=Bf(o,s.snapshotVersion.toTimestamp());let l=Z_(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,e);let r=Az(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=eb(this.serializer),n.removeTarget=e,this.k_(n)}},Mb=class extends Wf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=wz(e.writeResults,e.commitTime),r=Ln(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=eb(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Iz(this.serializer,r))};this.k_(n)}};var xb=class{},Pb=class extends xb{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new j(x.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,J_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(x.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,J_(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(x.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},kb=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(fr(n),this._a=!1):L("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var po="RemoteStore",Ob=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{go(this)&&(L(po,"Restarting streams for network reachability change."),await(async function(u){let l=te(u);l.Ia.add(4),await nu(l),l.Aa.set("Unknown"),l.Ia.delete(4),await dh(l)})(this))})}),this.Aa=new kb(r,i)}};async function dh(t){if(go(t))for(let e of t.da)await e(!0)}async function nu(t){for(let e of t.da)await e(!1)}function XM(t,e){let n=te(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),vE(n)?yE(n):Ws(n).x_()&&gE(n,e))}function mE(t,e){let n=te(t),r=Ws(n);n.Ta.delete(e),r.x_()&&ex(n,e),n.Ta.size===0&&(r.x_()?r.B_():go(n)&&n.Aa.set("Unknown"))}function gE(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ws(t).H_(e)}function ex(t,e){t.Ra.$e(e),Ws(t).Y_(e)}function yE(t){t.Ra=new Y_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Ws(t).start(),t.Aa.aa()}function vE(t){return go(t)&&!Ws(t).M_()&&t.Ta.size>0}function go(t){return te(t).Ia.size===0}function tx(t){t.Ra=void 0}async function zz(t){t.Aa.set("Online")}async function qz(t){t.Ta.forEach((e,n)=>{gE(t,e)})}async function Gz(t,e){tx(t),vE(t)?(t.Aa.la(e),yE(t)):t.Aa.set("Unknown")}async function Wz(t,e,n){if(t.Aa.set("Online"),e instanceof Vf&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(await i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})(t,e)}catch(r){L(po,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kf(t,r)}else if(e instanceof Cs?t.Ra.Ye(e):e instanceof Lf?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ie.min()))try{let r=await JM(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ta.get(l);f&&o.Ta.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.Ta.get(u);if(!f)return;o.Ta.set(u,f.withResumeToken(ct.EMPTY_BYTE_STRING,f.snapshotVersion)),ex(o,u);let p=new Zc(f.target,u,l,f.sequenceNumber);gE(o,p)}),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){L(po,"Failed to raise snapshot:",r),await Kf(t,r)}}async function Kf(t,e,n){if(!Gs(e))throw e;t.Ia.add(1),await nu(t),t.Aa.set("Offline"),n||(n=()=>JM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{L(po,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await dh(t)})}function nx(t,e){return e().catch(n=>Kf(t,n,e))}async function fh(t){let e=te(t),n=ei(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:oE;for(;Kz(e);)try{let i=await Bz(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Yz(e,i)}catch(i){await Kf(e,i)}rx(e)&&ix(e)}function Kz(t){return go(t)&&t.Pa.length<10}function Yz(t,e){t.Pa.push(e);let n=ei(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function rx(t){return go(t)&&!ei(t).M_()&&t.Pa.length>0}function ix(t){ei(t).start()}async function Qz(t){ei(t).na()}async function Zz(t){let e=ei(t);for(let n of t.Pa)e.X_(n.mutations)}async function Jz(t,e,n){let r=t.Pa.shift(),i=q_.from(r,e,n);await nx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await fh(t)}async function Xz(t,e){e&&ei(t).Z_&&await(async function(r,i){if((function(s){return pz(s)&&s!==x.ABORTED})(i.code)){let o=r.Pa.shift();ei(r).N_(),await nx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await fh(r)}})(t,e),rx(t)&&ix(t)}async function UN(t,e){let n=te(t);n.asyncQueue.verifyOperationInProgress(),L(po,"RemoteStore received new credentials");let r=go(n);n.Ia.add(3),await nu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await dh(n)}async function e3(t,e){let n=te(t);e?(n.Ia.delete(2),await dh(n)):e||(n.Ia.add(2),await nu(n),n.Aa.set("Unknown"))}function Ws(t){return t.Va||(t.Va=(function(n,r,i){let o=te(n);return o.ia(),new Nb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:zz.bind(null,t),e_:qz.bind(null,t),n_:Gz.bind(null,t),J_:Wz.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),vE(t)?yE(t):t.Aa.set("Unknown")):(await t.Va.stop(),tx(t))})),t.Va}function ei(t){return t.ma||(t.ma=(function(n,r,i){let o=te(n);return o.ia(),new Mb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Qz.bind(null,t),n_:Xz.bind(null,t),ea:Zz.bind(null,t),ta:Jz.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await fh(t)):(await t.ma.stop(),t.Pa.length>0&&(L(po,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}var Fb=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function _E(t,e){if(fr("AsyncQueue",`${e}: ${t}`),Gs(t))return new j(x.UNAVAILABLE,`${e}: ${t}`);throw t}var Yf=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=jc(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Qf=class{constructor(){this.fa=new Ne(q.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):G(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},Us=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,Yf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Lb=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Vb=class{constructor(){this.queries=$N(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=te(n),o=i.queries;i.queries=$N(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new j(x.ABORTED,"Firestore shutting down"))}};function $N(){return new mr(t=>NM(t),ch)}async function t3(t,e){let n=te(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Lb,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let c=_E(s,`Initialization of query '${Es(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&bE(n)}async function n3(t,e){let n=te(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function r3(t,e){let n=te(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&bE(n)}function i3(t,e,n){let r=te(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function bE(t){t.Da.forEach(e=>{e.next()})}var jb,HN;(HN=jb||(jb={})).Fa="default",HN.Cache="cache";var Bb=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Us(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==jb.Cache}};var Zf=class{constructor(e){this.key=e}},Jf=class{constructor(e){this.key=e}},Ub=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=MM(e),this.eu=new Yf(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Qf,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),y=uh(this.query,p)?p:null,E=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;m&&y?m.data.isEqual(y.data)?E!==R&&(r.track({type:3,doc:y}),A=!0):this.iu(m,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),A=!0):m&&!y&&(r.track({type:1,doc:m}),A=!0,(u||l)&&(c=!0)),A&&(y?(s=s.add(y),o=R?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((f,p)=>(function(y,E){let R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G(20277,{At:A})}};return R(y)-R(E)})(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),i=i!=null&&i;let c=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Us(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Qf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ue(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Jf(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Zf(r))}),n}uu(e){this.Ha=e.qs,this.Za=ue();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Us.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},EE="SyncEngine",$b=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Hb=class{constructor(e){this.key=e,this.lu=!1}},zb=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new mr(c=>NM(c),ch),this.Tu=new Map,this.Iu=new Set,this.du=new Ne(q.comparator),this.Eu=new Map,this.Au=new Xc,this.Ru={},this.Vu=new Map,this.mu=Jc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function o3(t,e,n=!0){let r=lx(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await ox(r,e,n,!0),i}async function s3(t,e){let n=lx(t);await ox(n,e,!0,!1)}async function ox(t,e,n,r){let i=await Uz(t.localStore,Fn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=await a3(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&XM(t.remoteStore,i),c}async function a3(t,e,n,r,i){t.gu=(p,m,y)=>(async function(R,A,M,F){let $=A.view.nu(M);$.Ds&&($=await VN(R.localStore,A.query,!1).then(({documents:w})=>A.view.nu(w,$)));let z=F&&F.targetChanges.get(A.targetId),_e=F&&F.targetMismatches.get(A.targetId)!=null,se=A.view.applyChanges($,R.isPrimaryClient,z,_e);return qN(R,A.targetId,se._u),se.snapshot})(t,p,m,y);let o=await VN(t.localStore,e,!0),s=new Ub(e,o.qs),c=s.nu(o.documents),u=Qc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);qN(t,n,l._u);let f=new $b(e,n,s);return t.Pu.set(e,f),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot}async function c3(t,e,n){let r=te(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!ch(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mE(r.remoteStore,i.targetId),qb(r,i.targetId)}).catch(qs)):(qb(r,i.targetId),await wb(r.localStore,i.targetId,!0))}async function u3(t,e){let n=te(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mE(n.remoteStore,r.targetId))}async function l3(t,e,n){let r=y3(t);try{let i=await(function(s,c){let u=te(s),l=Be.now(),f=c.reduce((y,E)=>y.add(E.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=gr(),R=ue();return u.Os.getEntries(y,f).next(A=>{E=A,E.forEach((M,F)=>{F.isValidDocument()||(R=R.add(M))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,E)).next(A=>{p=A;let M=[];for(let F of c){let $=hz(F,p.get(F.key).overlayedDocument);$!=null&&M.push(new Bn(F.key,$,wM($.value.mapValue),dr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,M,c)}).next(A=>{m=A;let M=A.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,A.batchId,M)})}).then(()=>({batchId:m.batchId,changes:PM(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,c,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Ne(ae)),l=l.insert(c,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,n),await ru(r,i.changes),await fh(r.remoteStore)}catch(i){let o=_E(i,"Failed to persist write");n.reject(o)}}async function sx(t,e){let n=te(t);try{let r=await Vz(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?ve(s.lu,14607):i.removedDocuments.size>0&&(ve(s.lu,42227),s.lu=!1))}),await ru(n,r,e)}catch(r){await qs(r)}}function zN(t,e,n){let r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=te(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&bE(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function d3(t,e,n){let r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ne(q.comparator);s=s.insert(o,mn.newNoDocument(o,ie.min()));let c=ue().add(o),u=new Ff(ie.min(),new Map,new Ne(ae),s,c);await sx(r,u),r.du=r.du.remove(o),r.Eu.delete(e),IE(r)}else await wb(r.localStore,e,!1).then(()=>qb(r,e,n)).catch(qs)}async function f3(t,e){let n=te(t),r=e.batch.batchId;try{let i=await Lz(n.localStore,e);cx(n,r,null),ax(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ru(n,i)}catch(i){await qs(i)}}async function h3(t,e,n){let r=te(t);try{let i=await(function(s,c){let u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(ve(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})})(r.localStore,e);cx(r,e,n),ax(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ru(r,i)}catch(i){await qs(i)}}function ax(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function cx(t,e,n){let r=te(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function qb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||ux(t,r)})}function ux(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(mE(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),IE(t))}function qN(t,e,n){for(let r of n)r instanceof Zf?(t.Au.addReference(r.key,e),p3(t,r)):r instanceof Jf?(L(EE,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||ux(t,r.key)):G(19791,{yu:r})}function p3(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(L(EE,"New document in limbo: "+n),t.Iu.add(r),IE(t))}function IE(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new q(Ae.fromString(e)),r=t.mu.next();t.Eu.set(r,new Hb(n)),t.du=t.du.insert(n,r),XM(t.remoteStore,new Zc(Fn(RM(n.path)),r,"TargetPurposeLimboResolution",iE.ue))}}async function ru(t,e,n){let r=te(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=_b.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let f=te(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Gs(p))throw p;L(pE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=f.Fs.get(m),E=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(E);f.Fs=f.Fs.insert(m,R)}}})(r.localStore,o))}async function m3(t,e){let n=te(t);if(!n.currentUser.isEqual(e)){L(EE,"User change. New user:",e.toKey());let r=await ZM(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new j(x.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ru(n,r.Bs)}}function g3(t,e){let n=te(t),r=n.Eu.get(e);if(r&&r.lu)return ue().add(r.key);{let i=ue(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let c=n.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function lx(t){let e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d3.bind(null,e),e.hu.J_=r3.bind(null,e.eventManager),e.hu.pu=i3.bind(null,e.eventManager),e}function y3(t){let e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h3.bind(null,e),e}var dx=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=lh(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)}Cu(n,r){return null}Fu(n,r){return null}vu(n){return Fz(this.persistence,new Eb,n.initialUser,this.serializer)}Du(n){return new $f(vb.Vi,this.serializer)}bu(n){return new Tb}async terminate(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),Gb=class extends dx{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ve(this.persistence.referenceDelegate instanceof Hf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new ob(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new $f(r=>Hf.Vi(r,n),this.serializer)}};var v3=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>zN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=m3.bind(null,this.syncEngine),await e3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new Vb})()}createDatastore(n){let r=lh(n.databaseInfo.databaseId),i=(function(s){return new Rb(s)})(n.databaseInfo);return(function(s,c,u,l){return new Pb(s,c,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,c,u){return new Ob(i,o,s,c,u)})(this.localStore,this.datastore,n.asyncQueue,r=>zN(this.syncEngine,r,0),(function(){return qf.C()?new qf:new Db})())}createSyncEngine(n,r){return(function(o,s,c,u,l,f,p){let m=new zb(o,s,c,u,l,f);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){var n,r;await(async function(o){let s=te(o);L(po,"RemoteStore shutting down."),s.Ia.add(5),await nu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return t.provider={build:()=>new t},t})();var Wb=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var ti="FirestoreClient",Kb=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ke.UNAUTHENTICATED,this.clientId=zc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{L(ti,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(L(ti,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=_E(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function v_(t,e){t.asyncQueue.verifyOperationInProgress(),L(ti,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ZM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Jr("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{L("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Jr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function GN(t,e){t.asyncQueue.verifyOperationInProgress();let n=await _3(t);L(ti,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>UN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>UN(e.remoteStore,i)),t._onlineComponents=e}async function _3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L(ti,"Using user provided OfflineComponentProvider");try{await v_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Jr("Error using user provided cache. Falling back to memory cache: "+n),await v_(t,new dx)}}else L(ti,"Using default OfflineComponentProvider"),await v_(t,new Gb(void 0));return t._offlineComponents}async function fx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(L(ti,"Using user provided OnlineComponentProvider"),await GN(t,t._uninitializedComponentsProvider._online)):(L(ti,"Using default OnlineComponentProvider"),await GN(t,new v3))),t._onlineComponents}function b3(t){return fx(t).then(e=>e.syncEngine)}async function E3(t){let e=await fx(t),n=e.eventManager;return n.onListen=o3.bind(null,e.syncEngine),n.onUnlisten=c3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=u3.bind(null,e.syncEngine),n}function I3(t,e,n={}){let r=new kn;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,c,u,l){let f=new Wb({next:m=>{f.Ou(),s.enqueueAndForget(()=>n3(o,p)),m.fromCache&&u.source==="server"?l.reject(new j(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Bb(c,f,{includeMetadataChanges:!0,ka:!0});return t3(o,p)})(await E3(t),t.asyncQueue,e,n,r)),r.promise}function hx(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var WN=new Map;var px="firestore.googleapis.com",KN=!0,Xf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=px,this.ssl=KN}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:KN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Pz)throw new j(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new j(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new j(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new j(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},$s=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new j(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new __;switch(r.type){case"firstParty":return new w_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=WN.get(n);r&&(L("ComponentProvider","Removing Datastore"),WN.delete(n),r.terminate())})(this),Promise.resolve()}};function mx(t,e,n,r={}){var i;t=co(t,$s);let o=Yi(e),s=t._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Tv(`https://${u}`),Dv("Firestore",!0)),s.host!==px&&s.host!==u&&Jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Qi(l,c)&&(t._setSettings(l),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Ke.MOCK_USER;else{f=cR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new j(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ke(m)}t._authCredentials=new b_(new Sf(f,p))}}var eh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},yt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(tu(n,t._jsonSchema))return new t(e,r||null,new q(Ae.fromString(n.referencePath)))}};yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:je("string",yt._jsonSchemaVersion),referencePath:je("string")};var Kr=class t extends eh{constructor(e,n,r){super(e,n,RM(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function gx(t,e,...n){if(t=mt(t),XN("collection","path",e),t instanceof $s){let r=Ae.fromString(e,...n);return hN(r),new Kr(t,null,r)}{if(!(t instanceof yt||t instanceof Kr))throw new j(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return hN(r),new Kr(t.firestore,null,r)}}function wE(t,e,...n){if(t=mt(t),arguments.length===1&&(e=zc.newId()),XN("doc","path",e),t instanceof $s){let r=Ae.fromString(e,...n);return fN(r),new yt(t,null,new q(r))}{if(!(t instanceof yt||t instanceof Kr))throw new j(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return fN(r),new yt(t.firestore,t instanceof Kr?t.converter:null,new q(r))}}var YN="AsyncQueue",th=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Gf(this,"async_queue_retry"),this.oc=()=>{let r=y_();r&&L(YN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=y_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=y_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new kn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Gs(e))throw e;L(YN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,fr("INTERNAL UNHANDLED ERROR: ",QN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=Fb.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&G(47125,{hc:QN(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function QN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var mo=class extends $s{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new th,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new th(e),this._firestoreClient=void 0,await e}}};function yx(t,e){let n=typeof t=="object"?t:gs(),r=typeof t=="string"?t:e||Pf,i=tf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=sR("firestore");o&&mx(i,...o)}return i}function vx(t){if(t._terminated)throw new j(x.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||w3(t),t._firestoreClient}function w3(t){var e,n,r;let i=t._freezeSettings(),o=(function(c,u,l,f){return new S_(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,hx(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Kb(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(t._componentsProvider))}var Yr=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ct.fromBase64String(e))}catch(n){throw new j(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tu(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Yr._jsonSchemaVersion="firestore/bytes/1.0",Yr._jsonSchema={type:je("string",Yr._jsonSchemaVersion),bytes:je("string")};var Hs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var eu=class{constructor(e){this._methodName=e}};var Qr=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(tu(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Qr._jsonSchemaVersion="firestore/geoPoint/1.0",Qr._jsonSchema={type:je("string",Qr._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};var Zr=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tu(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new j(x.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Zr._jsonSchemaVersion="firestore/vectorValue/1.0",Zr._jsonSchema={type:je("string",Zr._jsonSchemaVersion),vectorValues:je("object")};var T3=/^__.*__$/,Yb=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ho(e,this.data,n,this.fieldTransforms)}},nh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function _x(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G(40011,{Ec:t})}}var Qb=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return ih(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(_x(this.Ec)&&T3.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Zb=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lh(e)}Dc(e,n,r,i=!1){return new Qb({Ec:e,methodName:n,bc:r,path:Pt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function bx(t){let e=t._freezeSettings(),n=lh(t._databaseId);return new Zb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function D3(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);TE("Data must be an object, but it was:",s,r);let c=Ex(r,s),u,l;if(o.merge)u=new Qt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let m=Jb(e,p,n);if(!s.contains(m))throw new j(x.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);wx(f,m)||f.push(m)}u=new Qt(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Yb(new xt(c),u,l)}var rh=class t extends eu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function C3(t,e,n,r){let i=t.Dc(1,e,n);TE("Data must be an object, but it was:",i,r);let o=[],s=xt.empty();ni(r,(u,l)=>{let f=DE(e,u,n);l=mt(l);let p=i.gc(f);if(l instanceof rh)o.push(f);else{let m=hh(l,p);m!=null&&(o.push(f),s.set(f,m))}});let c=new Qt(o);return new nh(s,c,i.fieldTransforms)}function A3(t,e,n,r,i,o){let s=t.Dc(1,e,n),c=[Jb(e,r,n)],u=[i];if(o.length%2!=0)throw new j(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)c.push(Jb(e,o[m])),u.push(o[m+1]);let l=[],f=xt.empty();for(let m=c.length-1;m>=0;--m)if(!wx(l,c[m])){let y=c[m],E=u[m];E=mt(E);let R=s.gc(y);if(E instanceof rh)l.push(y);else{let A=hh(E,R);A!=null&&(l.push(y),f.set(y,A))}}let p=new Qt(l);return new nh(f,p,s.fieldTransforms)}function hh(t,e){if(Ix(t=mt(t)))return TE("Unsupported field value:",e,t),Ex(t,e);if(t instanceof eu)return(function(r,i){if(!_x(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let c of r){let u=hh(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Be.fromDate(r);return{timestampValue:Bf(i.serializer,o)}}if(r instanceof Be){let o=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bf(i.serializer,o)}}if(r instanceof Qr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yr)return{bytesValue:HM(i.serializer,r._byteString)};if(r instanceof yt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Zr)return(function(s,c){return{mapValue:{fields:{[aE]:{stringValue:cE},[Ms]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return fE(c.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${rE(r)}`)})(t,e)}function Ex(t,e){let n={};return mM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ni(t,(r,i)=>{let o=hh(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Ix(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof Qr||t instanceof Yr||t instanceof yt||t instanceof eu||t instanceof Zr)}function TE(t,e,n){if(!Ix(n)||!eM(n)){let r=rE(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Jb(t,e,n){if((e=mt(e))instanceof Hs)return e._internalPath;if(typeof e=="string")return DE(t,e);throw ih("Field path arguments must be of type string or ",t,!1,void 0,n)}var S3=new RegExp("[~\\*/\\[\\]]");function DE(t,e,n){if(e.search(S3)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hs(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ih(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new j(x.INVALID_ARGUMENT,c+t+u)}function wx(t,e){return t.some(n=>n.isEqual(e))}var oh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Xb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Tx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Xb=class extends oh{data(){return super.data()}};function Tx(t,e){return typeof e=="string"?DE(t,e):e instanceof Hs?e._internalPath:e._delegate._internalPath}function R3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new j(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var eE=class{convertValue(e,n="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw G(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ni(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Ms].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>De(s.doubleValue));return new Zr(o)}convertGeoPoint(e){return new Qr(De(e.latitude),De(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ah(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){let n=hr(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ae.fromString(e);ve(YM(r),9688,{name:e});let i=new kf(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(n)||fr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function N3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ds=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},As=class t extends oh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ss(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Tx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new j(x.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};As._jsonSchemaVersion="firestore/documentSnapshot/1.0",As._jsonSchema={type:je("string",As._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};var Ss=class extends As{data(e={}){return super.data(e)}},Rs=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ds(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ss(this._firestore,this._userDataWriter,r.key,r,new Ds(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Ss(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ds(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Ss(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ds(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:M3(c.type),doc:u,oldIndex:l,newIndex:f}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new j(x.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function M3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G(61501,{type:t})}}Rs._jsonSchemaVersion="firestore/querySnapshot/1.0",Rs._jsonSchema={type:je("string",Rs._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};var tE=class extends eE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}};function Dx(t){t=co(t,eh);let e=co(t.firestore,mo),n=vx(e),r=new tE(e);return R3(t._query),I3(n,t._query).then(i=>new Rs(e,r,t,i))}function Cx(t,e,n,...r){t=co(t,yt);let i=co(t.firestore,mo),o=bx(i),s;return s=typeof(e=mt(e))=="string"||e instanceof Hs?A3(o,"updateDoc",t._key,e,n,r):C3(o,"updateDoc",t._key,e),CE(i,[s.toMutation(t._key,dr.exists(!0))])}function Ax(t){return CE(co(t.firestore,mo),[new Yc(t._key,dr.none())])}function Sx(t,e){let n=co(t.firestore,mo),r=wE(t),i=N3(t.converter,e);return CE(n,[D3(bx(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,dr.exists(!1))]).then(()=>r)}function CE(t,e){return(function(r,i){let o=new kn;return r.asyncQueue.enqueueAndForget(async()=>l3(await b3(r),i,o)),o.promise})(vx(t),e)}(function(e,n=!0){(function(i){zs=i})(ms),hn(new gt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new mo(new E_(r.getProvider("auth-internal")),new T_(s,r.getProvider("app-check-internal")),(function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kf(l.options.projectId,f)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Pe(cN,uN,e),Pe(cN,uN,"esm2017")})();var iu=class{constructor(e){return e}},Rx="firestore",AE=class{constructor(){return vs(Rx)}};var SE=new O("angularfire2.firestore-instances");function x3(t,e){let n=of(Rx,t,e);return n&&new iu(n)}function P3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new iu(r)}}var k3={provide:AE,deps:[[new Rn,SE]]},O3={provide:iu,useFactory:x3,deps:[[new Rn,SE],to]};function Eue(t,...e){return Pe("angularfire",Xi.full,"fst"),_t([O3,k3,{provide:SE,useFactory:P3(t),multi:!0,deps:[re,Ie,eo,Mc,[new Rn,_f],[new Rn,af],...e]}])}var Iue=Kt(Sx,!0,2);var wue=Kt(gx,!0,2);var Tue=Kt(Ax,!0,2);var Due=Kt(wE,!0,2);var Cue=Kt(Dx,!0);var Aue=Kt(yx,!0);var Sue=Kt(Cx,!0,2);export{J as a,Ce as b,PI as c,ke as d,wP as e,Q as f,tp as g,np as h,$e as i,pi as j,mi as k,vn as l,Cr as m,PP as n,kP as o,yi as p,it as q,ap as r,vi as s,Mo as t,HP as u,zP as v,qP as w,qn as x,GP as y,dw as z,cp as A,ba as B,Ea as C,dp as D,YP as E,fp as F,QP as G,ZP as H,JP as I,pp as J,XP as K,mp as L,gp as M,wa as N,ek as O,U as P,ul as Q,V as R,Oe as S,rk as T,O as U,W as V,S as W,_t as X,He as Y,bn as Z,Gw as _,Ww as $,Ie as aa,ye as ba,jt as ca,kt as da,Cn as ea,Sk as fa,hm as ga,Fr as ha,Zn as ia,sd as ja,oO as ka,yg as la,bt as ma,bg as na,cn as oa,GO as pa,m1 as qa,Go as ra,on as sa,Td as ta,ts as ua,ns as va,$t as wa,Wo as xa,vA as ya,ry as za,Ht as Aa,qe as Ba,st as Ca,rs as Da,IA as Ea,Bt as Fa,re as Ga,uy as Ha,MA as Ia,dy as Ja,os as Ka,Et as La,ac as Ma,QL as Na,ZL as Oa,JL as Pa,XL as Qa,eV as Ra,VA as Sa,gy as Ta,yy as Ua,jA as Va,Ui as Wa,$i as Xa,jr as Ya,sV as Za,$A as _a,zA as $a,cV as ab,Br as bb,zt as cb,dV as db,fV as eb,hV as fb,pV as gb,mV as hb,gV as ib,yV as jb,vV as kb,KA as lb,un as mb,_y as nb,jV as ob,n0 as pb,by as qb,r0 as rb,o0 as sb,HV as tb,s0 as ub,c0 as vb,KV as wb,YV as xb,JV as yb,e2 as zb,d0 as Ab,t2 as Bb,x0 as Cb,VX as Db,jX as Eb,BX as Fb,uj as Gb,as as Hb,q0 as Ib,UX as Jb,W0 as Kb,rr as Lb,Od as Mb,tS as Nb,Ij as Ob,nS as Pb,Wy as Qb,Fj as Rb,ES as Sb,uB as Tb,lB as Ub,Rne as Vb,wB as Wb,Nne as Xb,Mne as Yb,_se as Zb,bse as _b,iu as $b,Eue as ac,Iue as bc,wue as cc,Tue as dc,Due as ec,Cue as fc,Aue as gc,Sue as hc,dn as ic,qt as jc,Hr as kc,sv as lc,wc as mc,av as nc,cv as oc,bre as pc,NB as qc,MB as rc,zre as sc,Gre as tc,Yre as uc,eie as vc,PB as wc,ps as xc,sie as yc,lie as zc,Tie as Ac,QS as Bc,$B as Cc,GB as Dc,vv as Ec,sr as Fc,XS as Gc,aoe as Hc,coe as Ic,voe as Jc,_oe as Kc,boe as Lc,Eoe as Mc,Ioe as Nc,woe as Oc,Toe as Pc};
