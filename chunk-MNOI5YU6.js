import{$ as C,$b as d,Cb as s,Db as i,Gc as b,Ib as _,Kb as E,Lb as p,Qc as T,Ra as o,Yb as g,Zb as r,_b as v,bb as x,sb as c,tb as m,ub as h,wb as l,xb as u}from"./chunk-SXMPOHV7.js";var y=(t,n)=>n.operation,F=(t,n)=>n.id;function Q(t,n){t&1&&(s(0,"div",3),r(1,"Testing..."),i())}function M(t,n){if(t&1&&(s(0,"div")(1,"strong"),r(2),i(),r(3),i()),t&2){let e=n.$implicit;g(e.success?"success":"error"),o(2),d("",e.operation,":"),o(),d(" ",e.message," ")}}function P(t,n){if(t&1&&(s(0,"div",1)(1,"h3"),r(2,"Test Results"),i(),l(3,M,4,4,"div",4,y),i()),t&2){let e=p();o(3),u(e.testResults)}}function w(t,n){if(t&1&&(s(0,"li"),r(1),i()),t&2){let e=n.$implicit,a=n.$index,f=p().$implicit;g(a.toString()===f.correctAnswer?"correct":""),o(),d(" ",e," ")}}function q(t,n){if(t&1&&(s(0,"div",5)(1,"strong"),r(2),i(),s(3,"ul"),l(4,w,2,3,"li",4,h),i()()),t&2){let e=n.$implicit;o(2),v(e.question),o(2),u(e.options)}}function O(t,n){if(t&1&&(s(0,"div",1)(1,"h3"),r(2),i(),l(3,q,6,1,"div",5,F),i()),t&2){let e=p();o(2),d("Questions from Firestore (",e.questions.length,")"),o(),u(e.questions)}}var S=class t{firebaseService=C(T);connectionStatus="Testing...";isLoading=!1;testResults=[];questions=[];ngOnInit(){this.testConnection()}async testConnection(){try{this.connectionStatus="Testing connection...",await this.firebaseService.getQuestions("ms-word").toPromise(),this.connectionStatus="Connected"}catch(n){this.connectionStatus=`Connection failed: ${n.message}`}}async testReadQuestions(){this.isLoading=!0;try{this.questions=await this.firebaseService.getQuestions("ms-word").toPromise()||[],this.testResults.push({operation:"Read Questions",success:!0,message:`Successfully retrieved ${this.questions.length} questions`})}catch(n){this.testResults.push({operation:"Read Questions",success:!1,message:`Error: ${n.message}`})}this.isLoading=!1}async testAddQuestion(){this.isLoading=!0;let n={question:"What is 2 + 2?",options:["3","4","5","6"],correctAnswer:"1"};try{let e=await this.firebaseService.addQuestion("ms-word",n).toPromise();this.testResults.push({operation:"Add Question",success:!0,message:`Successfully added question with ID: ${e}`}),await this.testReadQuestions()}catch(e){this.testResults.push({operation:"Add Question",success:!1,message:`Error: ${e.message}`})}this.isLoading=!1}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=x({type:t,selectors:[["app-firestore-test"]],decls:18,vars:8,consts:[[1,"test-container"],[1,"test-section"],[3,"click","disabled"],[1,"loading"],[3,"class"],[1,"question-item"]],template:function(e,a){e&1&&(s(0,"div",0)(1,"h2"),r(2,"Firestore Connection Test"),i(),s(3,"div",1)(4,"h3"),r(5,"Connection Status"),i(),s(6,"p"),r(7),i()(),s(8,"div",1)(9,"h3"),r(10,"Test Operations"),i(),s(11,"button",2),E("click",function(){return a.testReadQuestions()}),r(12," Test Read Questions "),i(),s(13,"button",2),E("click",function(){return a.testAddQuestion()}),r(14," Test Add Question "),i(),c(15,Q,2,0,"div",3),i(),c(16,P,5,0,"div",1),c(17,O,5,1,"div",1),i()),e&2&&(o(6),g(a.connectionStatus==="Connected"?"success":"error"),o(),d(" Status: ",a.connectionStatus," "),o(4),_("disabled",a.isLoading),o(2),_("disabled",a.isLoading),o(2),m(a.isLoading?15:-1),o(),m(a.testResults.length>0?16:-1),o(),m(a.questions.length>0?17:-1))},dependencies:[b],styles:[".test-container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;font-family:Arial,sans-serif}.test-section[_ngcontent-%COMP%]{margin:20px 0;padding:15px;border:1px solid #ddd;border-radius:5px}.success[_ngcontent-%COMP%]{color:#28a745;font-weight:700}.error[_ngcontent-%COMP%]{color:#dc3545;font-weight:700}.loading[_ngcontent-%COMP%]{color:#007bff;font-style:italic;margin:10px 0}button[_ngcontent-%COMP%]{margin:5px 10px 5px 0;padding:8px 16px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed}button[_ngcontent-%COMP%]:hover:not(:disabled){background:#0056b3}.question-item[_ngcontent-%COMP%]{margin:10px 0;padding:10px;background:#f8f9fa;border-radius:4px}.question-item[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%]{background-color:#d4edda;font-weight:700}ul[_ngcontent-%COMP%]{margin:5px 0}"],changeDetection:0})};export{S as FirestoreTestComponent};
