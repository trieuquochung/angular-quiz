var pN=Object.defineProperty,gN=Object.defineProperties;var mN=Object.getOwnPropertyDescriptors;var pc=Object.getOwnPropertySymbols;var OE=Object.prototype.hasOwnProperty,FE=Object.prototype.propertyIsEnumerable;var xE=(t,e,n)=>e in t?pN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pe=(t,e)=>{for(var n in e||={})OE.call(e,n)&&xE(t,n,e[n]);if(pc)for(var n of pc(e))FE.call(e,n)&&xE(t,n,e[n]);return t},ye=(t,e)=>gN(t,mN(e));var U$=(t,e)=>{var n={};for(var r in t)OE.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&pc)for(var r of pc(t))e.indexOf(r)<0&&FE.call(t,r)&&(n[r]=t[r]);return n};function Q(t){return typeof t=="function"}function Li(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var gc=Li(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ar(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Re=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(o){e=o instanceof gc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{LE(o)}catch(s){e=e??[],s instanceof gc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new gc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)LE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ar(n,e)}remove(e){let{_finalizers:n}=this;n&&Ar(n,e),e instanceof t&&e._removeParent(this)}};Re.EMPTY=(()=>{let t=new Re;return t.closed=!0,t})();var bf=Re.EMPTY;function mc(t){return t instanceof Re||t&&"closed"in t&&Q(t.remove)&&Q(t.add)&&Q(t.unsubscribe)}function LE(t){Q(t)?t():t.unsubscribe()}var Ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vi={setTimeout(t,e,...n){let{delegate:r}=Vi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Vi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function yc(t){Vi.setTimeout(()=>{let{onUnhandledError:e}=Ft;if(e)e(t);else throw t})}function ws(){}var VE=Cf("C",void 0,void 0);function jE(t){return Cf("E",void 0,t)}function BE(t){return Cf("N",t,void 0)}function Cf(t,e,n){return{kind:t,value:e,error:n}}var Rr=null;function ji(t){if(Ft.useDeprecatedSynchronousErrorHandling){let e=!Rr;if(e&&(Rr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Rr;if(Rr=null,n)throw r}}else t()}function UE(t){Ft.useDeprecatedSynchronousErrorHandling&&Rr&&(Rr.errorThrown=!0,Rr.error=t)}var Nr=class extends Re{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mc(e)&&e.add(this)):this.destination=_N}static create(e,n,r){return new En(e,n,r)}next(e){this.isStopped?Af(BE(e),this):this._next(e)}error(e){this.isStopped?Af(jE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Af(VE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yN=Function.prototype.bind;function Sf(t,e){return yN.call(t,e)}var Rf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){vc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){vc(r)}else vc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){vc(n)}}},En=class extends Nr{constructor(e,n,r){super();let i;if(Q(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ft.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Sf(e.next,o),error:e.error&&Sf(e.error,o),complete:e.complete&&Sf(e.complete,o)}):i=e}this.destination=new Rf(i)}};function vc(t){Ft.useDeprecatedSynchronousErrorHandling?UE(t):yc(t)}function vN(t){throw t}function Af(t,e){let{onStoppedNotification:n}=Ft;n&&Vi.setTimeout(()=>n(t,e))}var _N={closed:!0,next:ws,error:vN,complete:ws};var Bi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function it(t){return t}function EN(...t){return Nf(t)}function Nf(t){return t.length===0?it:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var X=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=wN(n)?n:new En(n,r,i);return ji(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=$E(r),new r((i,o)=>{let s=new En({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Bi](){return this}pipe(...n){return Nf(n)(this)}toPromise(n){return n=$E(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function $E(t){var e;return(e=t??Ft.Promise)!==null&&e!==void 0?e:Promise}function IN(t){return t&&Q(t.next)&&Q(t.error)&&Q(t.complete)}function wN(t){return t&&t instanceof Nr||IN(t)&&mc(t)}function Pf(t){return Q(t?.lift)}function G(t){return e=>{if(Pf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function q(t,e,n,r,i){return new Mf(t,e,n,r,i)}var Mf=class extends Nr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function kf(){return G((t,e)=>{let n=null;t._refCount++;let r=q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var xf=class extends X{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Pf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Re;let n=this.getSubject();e.add(this.source.subscribe(q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Re.EMPTY)}return e}refCount(){return kf()(this)}};var HE=Li(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ft=(()=>{class t extends X{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new _c(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new HE}next(n){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?bf:(this.currentObservers=null,o.push(n),new Re(()=>{this.currentObservers=null,Ar(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new X;return n.source=this,n}}return t.create=(e,n)=>new _c(e,n),t})(),_c=class extends ft{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:bf}};var Ts=class extends ft{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ds={now(){return(Ds.delegate||Date).now()},delegate:void 0};var bs=class extends ft{constructor(e=1/0,n=1/0,r=Ds){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),c=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)c=u;c&&r.splice(0,c+1)}}};var Ec=class extends Re{constructor(e,n){super()}schedule(e,n=0){return this}};var Cs={setInterval(t,e,...n){let{delegate:r}=Cs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Cs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ui=class extends Ec{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Cs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Cs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ar(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var $i=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};$i.now=Ds.now;var Hi=class extends $i{constructor(e,n=$i.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Wn=new Hi(Ui),Of=Wn;var Ic=class extends Ui{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var wc=class extends Hi{};var Ff=new wc(Ic);var Pr=new X(t=>t.complete());function Tc(t){return t&&Q(t.schedule)}function Lf(t){return t[t.length-1]}function Dc(t){return Q(Lf(t))?t.pop():void 0}function Qt(t){return Tc(Lf(t))?t.pop():void 0}function qE(t,e){return typeof Lf(t)=="number"?t.pop():e}function Vf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function GE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function zE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mr(t){return this instanceof Mr?(this.v=t,this):new Mr(t)}function WE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(b){return Promise.resolve(b).then(y,p)}}function c(y,b){r[y]&&(i[y]=function(A){return new Promise(function(R,k){o.push([y,A,R,k])>1||u(y,A)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(A){m(o[0][3],A)}}function l(y){y.value instanceof Mr?Promise.resolve(y.value.v).then(f,p):m(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function m(y,b){y(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}function KE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof zE=="function"?zE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var bc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Cc(t){return Q(t?.then)}function Sc(t){return Q(t[Bi])}function Ac(t){return Symbol.asyncIterator&&Q(t?.[Symbol.asyncIterator])}function Rc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function TN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nc=TN();function Pc(t){return Q(t?.[Nc])}function Mc(t){return WE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Mr(n.read());if(i)return yield Mr(void 0);yield yield Mr(r)}}finally{n.releaseLock()}})}function kc(t){return Q(t?.getReader)}function ve(t){if(t instanceof X)return t;if(t!=null){if(Sc(t))return DN(t);if(bc(t))return bN(t);if(Cc(t))return CN(t);if(Ac(t))return QE(t);if(Pc(t))return SN(t);if(kc(t))return AN(t)}throw Rc(t)}function DN(t){return new X(e=>{let n=t[Bi]();if(Q(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bN(t){return new X(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function CN(t){return new X(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,yc)})}function SN(t){return new X(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function QE(t){return new X(e=>{RN(t,e).catch(n=>e.error(n))})}function AN(t){return QE(Mc(t))}function RN(t,e){var n,r,i,o;return GE(this,void 0,void 0,function*(){try{for(n=KE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function ht(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Kn(t,e=0){return G((n,r)=>{n.subscribe(q(r,i=>ht(r,t,()=>r.next(i),e),()=>ht(r,t,()=>r.complete(),e),i=>ht(r,t,()=>r.error(i),e)))})}function Qn(t,e=0){return G((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function YE(t,e){return ve(t).pipe(Qn(e),Kn(e))}function ZE(t,e){return ve(t).pipe(Qn(e),Kn(e))}function JE(t,e){return new X(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function XE(t,e){return new X(n=>{let r;return ht(n,e,()=>{r=t[Nc](),ht(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Q(r?.return)&&r.return()})}function xc(t,e){if(!t)throw new Error("Iterable cannot be null");return new X(n=>{ht(n,e,()=>{let r=t[Symbol.asyncIterator]();ht(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function eI(t,e){return xc(Mc(t),e)}function tI(t,e){if(t!=null){if(Sc(t))return YE(t,e);if(bc(t))return JE(t,e);if(Cc(t))return ZE(t,e);if(Ac(t))return xc(t,e);if(Pc(t))return XE(t,e);if(kc(t))return eI(t,e)}throw Rc(t)}function qe(t,e){return e?tI(t,e):ve(t)}function NN(...t){let e=Qt(t);return qe(t,e)}function PN(t,e){let n=Q(t)?t:()=>t,r=i=>i.error(n());return new X(e?i=>e.schedule(r,0,i):r)}function MN(t){return!!t&&(t instanceof X||Q(t.lift)&&Q(t.subscribe))}var kr=Li(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function nI(t){return t instanceof Date&&!isNaN(t)}function gt(t,e){return G((n,r)=>{let i=0;n.subscribe(q(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:kN}=Array;function xN(t,e){return kN(e)?t(...e):t(e)}function Oc(t){return gt(e=>xN(t,e))}var{isArray:ON}=Array,{getPrototypeOf:FN,prototype:LN,keys:VN}=Object;function Fc(t){if(t.length===1){let e=t[0];if(ON(e))return{args:e,keys:null};if(jN(e)){let n=VN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function jN(t){return t&&typeof t=="object"&&FN(t)===LN}function Lc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function BN(...t){let e=Qt(t),n=Dc(t),{args:r,keys:i}=Fc(t);if(r.length===0)return qe([],e);let o=new X(UN(r,e,i?s=>Lc(i,s):it));return n?o.pipe(Oc(n)):o}function UN(t,e,n=it){return r=>{rI(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)rI(e,()=>{let l=qe(t[u],e),f=!1;l.subscribe(q(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function rI(t,e,n){t?ht(n,t,e):e()}function iI(t,e,n,r,i,o,s,c){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=A=>l<r?b(A):u.push(A),b=A=>{o&&e.next(A),l++;let R=!1;ve(n(A,f++)).subscribe(q(e,k=>{i?.(k),o?y(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();s?ht(e,s,()=>b(k)):b(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(q(e,y,()=>{p=!0,m()})),()=>{c?.()}}function xr(t,e,n=1/0){return Q(e)?xr((r,i)=>gt((o,s)=>e(r,o,i,s))(ve(t(r,i))),n):(typeof e=="number"&&(n=e),G((r,i)=>iI(r,i,t,n)))}function Ss(t=1/0){return xr(it,t)}function oI(){return Ss(1)}function Vc(...t){return oI()(qe(t,Qt(t)))}function $N(t){return new X(e=>{ve(t()).subscribe(e)})}function HN(...t){let e=Dc(t),{args:n,keys:r}=Fc(t),i=new X(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let p=!1;ve(n[f]).subscribe(q(o,m=>{p||(p=!0,l--),c[f]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Lc(r,c):c),o.complete())}))}});return e?i.pipe(Oc(e)):i}function sI(t=0,e,n=Of){let r=-1;return e!=null&&(Tc(e)?n=e:r=e),new X(i=>{let o=nI(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function qN(...t){let e=Qt(t),n=qE(t,1/0),r=t;return r.length?r.length===1?ve(r[0]):Ss(n)(qe(r,e)):Pr}function Or(t,e){return G((n,r)=>{let i=0;n.subscribe(q(r,o=>t.call(e,o,i++)&&r.next(o)))})}function aI(t){return G((e,n)=>{let r=!1,i=null,o=null,s=!1,c=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},u=()=>{o=null,s&&n.complete()};e.subscribe(q(n,l=>{r=!0,i=l,o||ve(t(l)).subscribe(o=q(n,c,u))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function zN(t,e=Wn){return aI(()=>sI(t,e))}function cI(t){return G((e,n)=>{let r=null,i=!1,o;r=e.subscribe(q(n,void 0,void 0,s=>{o=ve(t(s,cI(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function uI(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(q(s,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function GN(t,e){return Q(e)?xr(t,e,1):xr(t,1)}function WN(t,e=Wn){return G((n,r)=>{let i=null,o=null,s=null,c=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+t,f=e.now();if(f<l){i=this.schedule(void 0,l-f),r.add(i);return}c()}n.subscribe(q(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{c(),r.complete()},void 0,()=>{o=i=null}))})}function As(t){return G((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function jf(t){return t<=0?()=>Pr:G((e,n)=>{let r=0;e.subscribe(q(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function KN(t,e=it){return t=t??QN,G((n,r)=>{let i,o=!0;n.subscribe(q(r,s=>{let c=e(s);(o||!t(i,c))&&(o=!1,i=c,r.next(s))}))})}function QN(t,e){return t===e}function jc(t=YN){return G((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function YN(){return new kr}function ZN(t){return G((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function JN(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Or((i,o)=>t(i,o,r)):it,jf(1),n?As(e):jc(()=>new kr))}function Bf(t){return t<=0?()=>Pr:G((e,n)=>{let r=[];e.subscribe(q(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function XN(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Or((i,o)=>t(i,o,r)):it,Bf(1),n?As(e):jc(()=>new kr))}function eP(){return G((t,e)=>{let n,r=!1;t.subscribe(q(e,i=>{let o=n;n=i,r&&e.next([o,i]),r=!0}))})}function tP(t,e){return G(uI(t,e,arguments.length>=2,!0))}function $f(t={}){let{connector:e=()=>new ft,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,c,u,l=0,f=!1,p=!1,m=()=>{c?.unsubscribe(),c=void 0},y=()=>{m(),s=u=void 0,f=p=!1},b=()=>{let A=s;y(),A?.unsubscribe()};return G((A,R)=>{l++,!p&&!f&&m();let k=u=u??e();R.add(()=>{l--,l===0&&!p&&!f&&(c=Uf(b,i))}),k.subscribe(R),!s&&l>0&&(s=new En({next:V=>k.next(V),error:V=>{p=!0,m(),c=Uf(y,n,V),k.error(V)},complete:()=>{f=!0,m(),c=Uf(y,r),k.complete()}}),ve(A).subscribe(s))})(o)}}function Uf(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new En({next:()=>{r.unsubscribe(),t()}});return ve(e(...n)).subscribe(r)}function nP(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,$f({connector:()=>new bs(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function rP(t){return Or((e,n)=>t<=n)}function iP(...t){let e=Qt(t);return G((n,r)=>{(e?Vc(t,n,e):Vc(t,n)).subscribe(r)})}function oP(t,e){return G((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(q(r,u=>{i?.unsubscribe();let l=0,f=o++;ve(t(u,f)).subscribe(i=q(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function sP(t){return G((e,n)=>{ve(t).subscribe(q(n,()=>n.complete(),ws)),!n.closed&&e.subscribe(n)})}function aP(t,e=!1){return G((n,r)=>{let i=0;n.subscribe(q(r,o=>{let s=t(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}function cP(t,e,n){let r=Q(t)||e||n?{next:t,error:e,complete:n}:t;return r?G((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(q(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):it}var Hf;function Bc(){return Hf}function Yt(t){let e=Hf;return Hf=t,e}var lI=Symbol("NotFound");function qi(t){return t===lI||t?.name==="\u0275NotFound"}function zc(t,e){return Object.is(t,e)}var Ze=null,Uc=!1,qf=1,uP=null,Oe=Symbol("SIGNAL");function z(t){let e=Ze;return Ze=t,e}function Gc(){return Ze}var Fr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Lr(t){if(Uc)throw new Error("");if(Ze===null)return;Ze.consumerOnSignalRead(t);let e=Ze.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Ze.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Ze.producers,n!==void 0&&n.producer===t)){Ze.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===Ze&&(!r||dP(i,Ze)))return;let o=zi(Ze),s={producer:t,consumer:Ze,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};Ze.producersTail=s,e!==void 0?e.nextProducer=s:Ze.producers=s,o&&fI(t,s)}function dI(){qf++}function Wc(t){if(!(zi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===qf)){if(!t.producerMustRecompute(t)&&!jr(t)){qc(t);return}t.producerRecomputeValue(t),qc(t)}}function zf(t){if(t.consumers===void 0)return;let e=Uc;Uc=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||lP(r)}}finally{Uc=e}}function Gf(){return Ze?.consumerAllowSignalWrites!==!1}function lP(t){t.dirty=!0,zf(t),t.consumerMarkedDirty?.(t)}function qc(t){t.dirty=!1,t.lastCleanEpoch=qf}function Yn(t){return t&&(t.producersTail=void 0,t.recomputing=!0),z(t)}function Vr(t,e){if(z(e),!t)return;t.recomputing=!1;let n=t.producersTail,r=n!==void 0?n.nextProducer:t.producers;if(r!==void 0){if(zi(t))do r=Wf(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function jr(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Wc(n),r!==n.version))return!0}return!1}function Zn(t){if(zi(t)){let e=t.producers;for(;e!==void 0;)e=Wf(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function fI(t,e){let n=t.consumersTail,r=zi(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)fI(i.producer,i)}function Wf(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!zi(e)){let o=e.producers;for(;o!==void 0;)o=Wf(o)}return n}function zi(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Kc(t){uP?.(t)}function dP(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ns(t,e){let n=Object.create(fP);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Wc(n),Lr(n),n.value===Rs)throw n.error;return n.value};return r[Oe]=n,Kc(n),r}var $c=Symbol("UNSET"),Hc=Symbol("COMPUTING"),Rs=Symbol("ERRORED"),fP=ye(pe({},Fr),{value:$c,dirty:!0,error:null,equal:zc,kind:"computed",producerMustRecompute(t){return t.value===$c||t.value===Hc},producerRecomputeValue(t){if(t.value===Hc)throw new Error("");let e=t.value;t.value=Hc;let n=Yn(t),r,i=!1;try{r=t.computation(),z(null),i=e!==$c&&e!==Rs&&r!==Rs&&t.equal(e,r)}catch(o){r=Rs,t.error=o}finally{Vr(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function hP(){throw new Error}var hI=hP;function pI(t){hI(t)}function Kf(t){hI=t}var pP=null;function Qf(t,e){let n=Object.create(Ps);n.value=t,e!==void 0&&(n.equal=e);let r=()=>gI(n);return r[Oe]=n,Kc(n),[r,s=>Gi(n,s),s=>Yf(n,s)]}function gI(t){return Lr(t),t.value}function Gi(t,e){Gf()||pI(t),t.equal(t.value,e)||(t.value=e,gP(t))}function Yf(t,e){Gf()||pI(t),Gi(t,e(t.value))}var Ps=ye(pe({},Fr),{equal:zc,value:void 0,kind:"signal"});function gP(t){t.version++,dI(),zf(t),pP?.(t)}function mI(t){let e=z(null);try{return t()}finally{z(e)}}var yI=ye(pe({},Fr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,kind:"effect"});function vI(t){if(t.dirty=!1,t.hasRun&&!jr(t))return;t.hasRun=!0;let e=Yn(t);try{t.cleanup(),t.fn()}finally{Vr(t,e)}}var Xc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ee=class extends Error{code;constructor(e,n){super(zr(e,n)),this.code=e}};function mP(t){return`NG0${Math.abs(t)}`}function zr(t,e){return`${mP(t)}${e?": "+e:""}`}var Ki=globalThis;function de(t){for(let e in t)if(t[e]===de)return e;throw Error("")}function II(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(wn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function eu(t,e){return t?e?`${t} ${e}`:t:e||""}var yP=de({__forward_ref__:de});function tu(t){return t.__forward_ref__=tu,t.toString=function(){return wn(this())},t}function ze(t){return ch(t)?t():t}function ch(t){return typeof t=="function"&&t.hasOwnProperty(yP)&&t.__forward_ref__===tu}function wI(t,e){t==null&&uh(e,t,null,"!=")}function uh(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function ie(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function nu(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ls(t){return _P(t,ru)}function vP(t){return Ls(t)!==null}function _P(t,e){return t.hasOwnProperty(e)&&t[e]||null}function EP(t){let e=t?.[ru]??null;return e||null}function Jf(t){return t&&t.hasOwnProperty(Yc)?t[Yc]:null}var ru=de({\u0275prov:de}),Yc=de({\u0275inj:de}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ie({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lh(t){return t&&!!t.\u0275providers}var dh=de({\u0275cmp:de}),fh=de({\u0275dir:de}),hh=de({\u0275pipe:de}),ph=de({\u0275mod:de}),xs=de({\u0275fac:de}),Gr=de({__NG_ELEMENT_ID__:de}),_I=de({__NG_ENV_ID__:de});function Wr(t){return typeof t=="string"?t:t==null?"":String(t)}function Zc(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Wr(t)}var gh=de({ngErrorCode:de}),TI=de({ngErrorMessage:de}),ks=de({ngTokenPath:de});function mh(t,e){return DI("",-200,e)}function iu(t,e){throw new ee(-201,!1)}function IP(t,e){t[ks]??=[];let n=t[ks],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(wI(e.provide,"Token with multi: true should have a provide property"),r=Zc(e.provide)):r=Zc(e),n[0]!==r&&t[ks].unshift(r)}function wP(t,e){let n=t[ks],r=t[gh],i=t[TI]||t.message;return t.message=DP(i,r,n,e),t}function DI(t,e,n){let r=new ee(e,t);return r[gh]=e,r[TI]=t,n&&(r[ks]=n),r}function TP(t){return t[gh]}function DP(t,e,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return zr(e,`${t}${o}${i}`)}var Xf;function bI(){return Xf}function mt(t){let e=Xf;return Xf=t,e}function yh(t,e,n){let r=Ls(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;iu(t,"Injector")}var bP={},Br=bP,eh="__NG_DI_FLAG__",th=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Ur(n)||0;try{return this.injector.get(e,r&8?null:Br,r)}catch(i){if(qi(i))return i;throw i}}};function CP(t,e=0){let n=Bc();if(n===void 0)throw new ee(-203,!1);if(n===null)return yh(t,void 0,e);{let r=SP(e),i=n.retrieve(t,r);if(qi(i)){if(r.optional)return null;throw i}return i}}function Fe(t,e=0){return(bI()||CP)(ze(t),e)}function x(t,e){return Fe(t,Ur(e))}function Ur(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function SP(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function nh(t){let e=[];for(let n=0;n<t.length;n++){let r=ze(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ee(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=AP(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(Fe(i,o))}else e.push(Fe(r))}return e}function CI(t,e){return t[eh]=e,t.prototype[eh]=e,t}function AP(t){return t[eh]}function $r(t,e){let n=t.hasOwnProperty(xs);return n?t[xs]:null}function SI(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function AI(t){return t.flat(Number.POSITIVE_INFINITY)}function ou(t,e){t.forEach(n=>Array.isArray(n)?ou(n,e):e(n))}function vh(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vs(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function RI(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function NI(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function su(t,e,n){let r=Qi(t,e);return r>=0?t[r|1]=n:(r=~r,NI(t,r,e,n)),r}function au(t,e){let n=Qi(t,e);if(n>=0)return t[n|1]}function Qi(t,e){return RP(t,e,1)}function RP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Xn={},Je=[],Zt=new $(""),_h=new $("",-1),Eh=new $(""),Os=class{get(e,n=Br){if(n===Br){let i=DI("",-201);throw i.name="\u0275NotFound",i}return n}};function Ih(t){return t[ph]||null}function Lt(t){return t[dh]||null}function cu(t){return t[fh]||null}function wh(t){return t[hh]||null}function Vt(t){return{\u0275providers:t}}function PI(t){return Vt([{provide:Zt,multi:!0,useValue:t}])}function MI(...t){return{\u0275providers:uu(!0,t),\u0275fromNgModule:!0}}function uu(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return ou(e,s=>{let c=s;Jc(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&kI(i,o),n}function kI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Th(i,o=>{e(o,r)})}}function Jc(t,e,n,r){if(t=ze(t),!t)return!1;let i=null,o=Jf(t),s=!o&&Lt(t);if(!o&&!s){let u=t.ngModule;if(o=Jf(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Jc(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{ou(o.imports,f=>{Jc(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&kI(l,e)}if(!c){let l=$r(i)||(()=>new i);e({provide:i,useFactory:l,deps:Je},i),e({provide:Eh,useValue:i,multi:!0},i),e({provide:Zt,useValue:()=>Fe(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;Th(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Th(t,e){for(let n of t)lh(n)&&(n=n.\u0275providers),Array.isArray(n)?Th(n,e):e(n)}var NP=de({provide:String,useValue:de});function xI(t){return t!==null&&typeof t=="object"&&NP in t}function PP(t){return!!(t&&t.useExisting)}function MP(t){return!!(t&&t.useFactory)}function Hr(t){return typeof t=="function"}function OI(t){return!!t.useClass}var Dh=new $(""),Qc={},EI={},Zf;function Yi(){return Zf===void 0&&(Zf=new Os),Zf}var ot=class{},qr=class extends ot{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,ih(e,s=>this.processProvider(s)),this.records.set(_h,Wi(void 0,this)),i.has("environment")&&this.records.set(ot,Wi(void 0,this));let o=this.records.get(Dh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Eh,Je,{self:!0}))}retrieve(e,n){let r=Ur(n)||0;try{return this.get(e,Br,r)}catch(i){if(qi(i))return i;throw i}}destroy(){Ms(this),this._destroyed=!0;let e=z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),z(e)}}onDestroy(e){return Ms(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ms(this);let n=Yt(this),r=mt(void 0),i;try{return e()}finally{Yt(n),mt(r)}}get(e,n=Br,r){if(Ms(this),e.hasOwnProperty(_I))return e[_I](this);let i=Ur(r),o,s=Yt(this),c=mt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=LP(e)&&Ls(e);f&&this.injectableDefInScope(f)?l=Wi(rh(e),Qc):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Yi():this.parent;return n=i&8&&n===Br?null:n,u.get(e,n)}catch(u){let l=TP(u);throw l===-200||l===-201?new ee(l,null):u}finally{mt(c),Yt(s)}}resolveInjectorInitializers(){let e=z(null),n=Yt(this),r=mt(void 0),i;try{let o=this.get(Zt,Je,{self:!0});for(let s of o)s()}finally{Yt(n),mt(r),z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(wn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ze(e);let n=Hr(e)?e:ze(e&&e.provide),r=xP(e);if(!Hr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Wi(void 0,Qc,!0),i.factory=()=>nh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=z(null);try{if(n.value===EI)throw mh(wn(e));return n.value===Qc&&(n.value=EI,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&FP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{z(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ze(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function rh(t){let e=Ls(t),n=e!==null?e.factory:$r(t);if(n!==null)return n;if(t instanceof $)throw new ee(204,!1);if(t instanceof Function)return kP(t);throw new ee(204,!1)}function kP(t){if(t.length>0)throw new ee(204,!1);let n=EP(t);return n!==null?()=>n.factory(t):()=>new t}function xP(t){if(xI(t))return Wi(void 0,t.useValue);{let e=bh(t);return Wi(e,Qc)}}function bh(t,e,n){let r;if(Hr(t)){let i=ze(t);return $r(i)||rh(i)}else if(xI(t))r=()=>ze(t.useValue);else if(MP(t))r=()=>t.useFactory(...nh(t.deps||[]));else if(PP(t))r=(i,o)=>Fe(ze(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=ze(t&&(t.useClass||t.provide));if(OP(t))r=()=>new i(...nh(t.deps));else return $r(i)||rh(i)}return r}function Ms(t){if(t.destroyed)throw new ee(205,!1)}function Wi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function OP(t){return!!t.deps}function FP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function LP(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function ih(t,e){for(let n of t)Array.isArray(n)?ih(n,e):n&&lh(n)?ih(n.\u0275providers,e):e(n)}function er(t,e){let n;t instanceof qr?(Ms(t),n=t):n=new th(t);let r,i=Yt(n),o=mt(void 0);try{return e()}finally{Yt(i),mt(o)}}function FI(){return bI()!==void 0||Bc()!=null}var st=0,L=1,H=2,Ce=3,St=4,at=5,ct=6,Zi=7,Se=8,jt=9,Jt=10,ae=11,Ji=12,Ch=13,Kr=14,Ge=15,tr=16,Qr=17,Xt=18,js=19,Sh=20,In=21,lu=22,Dn=23,vt=24,Yr=25,ce=26,LI=1,Bt=6,en=7,Bs=8,Zr=9,Le=10;function _t(t){return Array.isArray(t)&&typeof t[LI]=="object"}function Et(t){return Array.isArray(t)&&t[LI]===!0}function Ah(t){return(t.flags&4)!==0}function bn(t){return t.componentOffset>-1}function Xi(t){return(t.flags&1)===1}function tn(t){return!!t.template}function Jr(t){return(t[H]&512)!==0}function nr(t){return(t[H]&256)===256}var Rh="svg",VI="math";function It(t){for(;Array.isArray(t);)t=t[st];return t}function Nh(t,e){return It(e[t])}function At(t,e){return It(e[t.index])}function Xr(t,e){return t.data[e]}function jI(t,e){return t[e]}function Rt(t,e){let n=e[t];return _t(n)?n:n[st]}function BI(t){return(t[H]&4)===4}function du(t){return(t[H]&128)===128}function UI(t){return Et(t[Ce])}function Nt(t,e){return e==null?null:t[e]}function Ph(t){t[Qr]=0}function Mh(t){t[H]&1024||(t[H]|=1024,du(t)&&rr(t))}function $I(t,e){for(;t>0;)e=e[Kr],t--;return e}function Us(t){return!!(t[H]&9216||t[vt]?.dirty)}function fu(t){t[Jt].changeDetectionScheduler?.notify(8),t[H]&64&&(t[H]|=1024),Us(t)&&rr(t)}function rr(t){t[Jt].changeDetectionScheduler?.notify(0);let e=Jn(t);for(;e!==null&&!(e[H]&8192||(e[H]|=8192,!du(e)));)e=Jn(e)}function kh(t,e){if(nr(t))throw new ee(911,!1);t[In]===null&&(t[In]=[]),t[In].push(e)}function HI(t,e){if(t[In]===null)return;let n=t[In].indexOf(e);n!==-1&&t[In].splice(n,1)}function Jn(t){let e=t[Ce];return Et(e)?e[Ce]:e}function xh(t){return t[Zi]??=[]}function Oh(t){return t.cleanup??=[]}function qI(t,e,n,r){let i=xh(e);i.push(n),t.firstCreatePass&&Oh(t).push(r,i.length-1)}var Z={lFrame:ow(null),bindingsEnabled:!0,skipHydrationRootTNode:null},$s=(function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t})($s||{}),VP=0,oh=!1;function zI(){return Z.lFrame.elementDepthCount}function GI(){Z.lFrame.elementDepthCount++}function Fh(){Z.lFrame.elementDepthCount--}function hu(){return Z.bindingsEnabled}function pu(){return Z.skipHydrationRootTNode!==null}function Lh(t){return Z.skipHydrationRootTNode===t}function WI(t){Z.skipHydrationRootTNode=t}function Vh(){Z.skipHydrationRootTNode=null}function W(){return Z.lFrame.lView}function De(){return Z.lFrame.tView}function KI(t){return Z.lFrame.contextLView=t,t[Se]}function QI(t){return Z.lFrame.contextLView=null,t}function Ve(){let t=jh();for(;t!==null&&t.type===64;)t=t.parent;return t}function jh(){return Z.lFrame.currentTNode}function YI(){let t=Z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function eo(t,e){let n=Z.lFrame;n.currentTNode=t,n.isParent=e}function Bh(){return Z.lFrame.isParent}function Uh(){Z.lFrame.isParent=!1}function ZI(){return Z.lFrame.contextLView}function $h(t){uh("Must never be called in production mode"),VP=t}function Hh(){return oh}function to(t){let e=oh;return oh=t,e}function JI(){return Z.lFrame.bindingIndex}function XI(t){return Z.lFrame.bindingIndex=t}function ei(){return Z.lFrame.bindingIndex++}function gu(t){let e=Z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ew(){return Z.lFrame.inI18n}function tw(t,e){let n=Z.lFrame;n.bindingIndex=n.bindingRootIndex=t,mu(e)}function nw(){return Z.lFrame.currentDirectiveIndex}function mu(t){Z.lFrame.currentDirectiveIndex=t}function rw(t){let e=Z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function yu(){return Z.lFrame.currentQueryIndex}function Hs(t){Z.lFrame.currentQueryIndex=t}function jP(t){let e=t[L];return e.type===2?e.declTNode:e.type===1?t[at]:null}function qh(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=jP(o),i===null||(o=o[Kr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Z.lFrame=iw();return r.currentTNode=e,r.lView=t,!0}function vu(t){let e=iw(),n=t[L];Z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function iw(){let t=Z.lFrame,e=t===null?null:t.child;return e===null?ow(t):e}function ow(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function sw(){let t=Z.lFrame;return Z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var zh=sw;function _u(){let t=sw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function aw(t){return(Z.lFrame.contextLView=$I(t,Z.lFrame.contextLView))[Se]}function nn(){return Z.lFrame.selectedIndex}function ir(t){Z.lFrame.selectedIndex=t}function Eu(){let t=Z.lFrame;return Xr(t.tView,t.selectedIndex)}function cw(){Z.lFrame.currentNamespace=Rh}function Gh(){return Z.lFrame.currentNamespace}var uw=!0;function Iu(){return uw}function Cn(t){uw=t}var BP={elements:void 0};function lw(){return BP}function sh(t,e=null,n=null,r){let i=Wh(t,e,n,r);return i.resolveInjectorInitializers(),i}function Wh(t,e=null,n=null,r,i=new Set){let o=[n||Je,MI(t)];return r=r||(typeof t=="object"?void 0:wn(t)),new qr(o,e||Yi(),r||null,i)}var Be=class t{static THROW_IF_NOT_FOUND=Br;static NULL=new Os;static create(e,n){if(Array.isArray(e))return sh({name:""},n,e,"");{let r=e.name??"";return sh({name:r},e.parent,e.providers,r)}}static \u0275prov=ie({token:t,providedIn:"any",factory:()=>Fe(_h)});static __NG_ELEMENT_ID__=-1},or=new $(""),rn=(()=>{class t{static __NG_ELEMENT_ID__=UP;static __NG_ENV_ID__=n=>n}return t})(),Fs=class extends rn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return nr(this._lView)}onDestroy(e){let n=this._lView;return kh(n,e),()=>HI(n,e)}};function UP(){return new Fs(W())}var Tn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},on=new $("",{providedIn:"root",factory:()=>{let t=x(ot),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Tn),e.handleError(n))}}}),dw={provide:Zt,useValue:()=>void x(Tn),multi:!0},$P=new $("",{providedIn:"root",factory:()=>{let t=x(or).defaultView;if(!t)return;let e=x(on),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),x(rn).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function HP(){return Vt([PI(()=>void x($P))])}function fw(t){return typeof t=="function"&&t[Oe]!==void 0}function qs(t,e){let[n,r,i]=Qf(t,e?.equal),o=n,s=o[Oe];return o.set=r,o.update=i,o.asReadonly=Kh.bind(o),o}function Kh(){let t=this[Oe];if(t.readonlyFn===void 0){let e=()=>this();e[Oe]=t,t.readonlyFn=e}return t.readonlyFn}var yt=class{},zs=new $("",{providedIn:"root",factory:()=>!1});var Qh=new $(""),wu=new $("");var ti=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=qP}return t})();function qP(){return new ti(W(),Ve())}var Sn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ts(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new X(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ie({token:t,providedIn:"root",factory:()=>new t})}return t})(),sr=(()=>{class t{internalPendingTasks=x(Sn);scheduler=x(yt);errorHandler=x(on);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=ie({token:t,providedIn:"root",factory:()=>new t})}return t})();function ni(...t){}var Gs=(()=>{class t{static \u0275prov=ie({token:t,providedIn:"root",factory:()=>new ah})}return t})(),ah=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};var Tu={JSACTION:"jsaction"};function ho(t){return{toString:t}.toString()}var Du="__parameters__";function XP(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function eM(t,e,n){return ho(()=>{let r=XP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(Du)?u[Du]:Object.defineProperty(u,Du,{value:[]})[Du];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Nn=CI(eM("Optional"),8);function tM(t){return typeof t=="function"}var Fu=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function tT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Kp=(()=>{let t=()=>nT;return t.ngInherit=!0,t})();function nT(t){return t.type.prototype.ngOnChanges&&(t.setInput=rM),nM}function nM(){let t=iT(this),e=t?.current;if(e){let n=t.previous;if(n===Xn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function rM(t,e,n,r,i){let o=this.declaredInputs[r],s=iT(t)||iM(t,{previous:Xn,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Fu(l&&l.currentValue,n,u===Xn),tT(t,e,i,n)}var rT="__ngSimpleChanges__";function iT(t){return t[rT]||null}function iM(t,e){return t[rT]=e}var hw=[];var ue=function(t,e=null,n){for(let r=0;r<hw.length;r++){let i=hw[r];i(t,e,n)}};function oM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=nT(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function oT(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Ru(t,e,n){sT(t,e,3,n)}function Nu(t,e,n,r){(t[H]&3)===n&&sT(t,e,n,r)}function Yh(t,e){let n=t[H];(n&3)===e&&(n&=16383,n+=1,t[H]=n)}function sT(t,e,n,r){let i=r!==void 0?t[Qr]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Qr]+=65536),(c<o||o==-1)&&(sM(t,n,e,u),t[Qr]=(t[Qr]&4294901760)+u+2),u++}function pw(t,e){ue(4,t,e);let n=z(null);try{e.call(t)}finally{z(n),ue(5,t,e)}}function sM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[H]>>14<t[Qr]>>16&&(t[H]&3)===e&&(t[H]+=16384,pw(c,o)):pw(c,o)}var ro=-1,oi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function aM(t){return(t.flags&8)!==0}function cM(t){return(t.flags&16)!==0}function uM(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];lM(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function aT(t){return t===3||t===4||t===6}function lM(t){return t.charCodeAt(0)===64}function so(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?gw(t,n,i,null,e[++r]):gw(t,n,i,null,null))}}return t}function gw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function cT(t){return t!==ro}function Lu(t){return t&32767}function dM(t){return t>>16}function Vu(t,e){let n=dM(t),r=e;for(;n>0;)r=r[Kr],n--;return r}var up=!0;function mw(t){let e=up;return up=t,e}var fM=256,uT=fM-1,lT=5,hM=0,sn={};function pM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Gr)&&(r=n[Gr]),r==null&&(r=n[Gr]=hM++);let i=r&uT,o=1<<i;e.data[t+(i>>lT)]|=o}function ju(t,e){let n=dT(t,e);if(n!==-1)return n;let r=e[L];r.firstCreatePass&&(t.injectorIndex=e.length,Zh(r.data,t),Zh(e,null),Zh(r.blueprint,null));let i=Qp(t,e),o=t.injectorIndex;if(cT(i)){let s=Lu(i),c=Vu(i,e),u=c[L].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Zh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function dT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Qp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=mT(i),r===null)return ro;if(n++,i=i[Kr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ro}function lp(t,e,n){pM(t,e,n)}function gM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(aT(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function fT(t,e,n){if(n&8||t!==void 0)return t;iu(e,"NodeInjector")}function hT(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[jt],o=mt(void 0);try{return i?i.get(e,r,n&8):yh(e,r,n&8)}finally{mt(o)}}return fT(r,e,n)}function pT(t,e,n,r=0,i){if(t!==null){if(e[H]&2048&&!(r&2)){let s=EM(t,e,n,r,sn);if(s!==sn)return s}let o=gT(t,e,n,r,sn);if(o!==sn)return o}return hT(e,n,r,i)}function gT(t,e,n,r,i){let o=yM(n);if(typeof o=="function"){if(!qh(e,t,r))return r&1?fT(i,n,r):hT(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))iu(n);else return s}finally{zh()}}else if(typeof o=="number"){let s=null,c=dT(t,e),u=ro,l=r&1?e[Ge][at]:null;for((c===-1||r&4)&&(u=c===-1?Qp(t,e):e[c+8],u===ro||!vw(r,!1)?c=-1:(s=e[L],c=Lu(u),e=Vu(u,e)));c!==-1;){let f=e[L];if(yw(o,c,f.data)){let p=mM(c,e,n,s,r,l);if(p!==sn)return p}u=e[c+8],u!==ro&&vw(r,e[L].data[c+8]===l)&&yw(o,c,e)?(s=f,c=Lu(u),e=Vu(u,e)):c=-1}}return i}function mM(t,e,n,r,i,o){let s=e[L],c=s.data[t+8],u=r==null?bn(c)&&up:r!=s&&(c.type&3)!==0,l=i&1&&o===c,f=Pu(c,s,n,u,l);return f!==null?Qs(e,s,f,c,i):sn}function Pu(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?c:c+f,m=i?c+f:l;for(let y=p;y<m;y++){let b=s[y];if(y<u&&n===b||y>=u&&b.type===n)return y}if(i){let y=s[u];if(y&&tn(y)&&y.type===n)return u}return null}function Qs(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof oi){let c=o;if(c.resolving){let y=Zc(s[n]);throw mh(y)}let u=mw(c.canSeeViewProviders);c.resolving=!0;let l=s[n].type||s[n],f,p=c.injectImpl?mt(c.injectImpl):null,m=qh(t,r,0);try{o=t[n]=c.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&oM(n,s[n],e)}finally{p!==null&&mt(p),mw(u),c.resolving=!1,zh()}}return o}function yM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Gr)?t[Gr]:void 0;return typeof e=="number"?e>=0?e&uT:vM:e}function yw(t,e,n){let r=1<<t;return!!(n[e+(t>>lT)]&r)}function vw(t,e){return!(t&2)&&!(t&1&&e)}var ii=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return pT(this._tNode,this._lView,e,Ur(r),n)}};function vM(){return new ii(Ve(),W())}function _M(t){return ho(()=>{let e=t.prototype.constructor,n=e[xs]||dp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[xs]||dp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function dp(t){return ch(t)?()=>{let e=dp(ze(t));return e&&e()}:$r(t)}function EM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[H]&2048&&!Jr(s);){let c=gT(o,s,n,r|2,sn);if(c!==sn)return c;let u=o.parent;if(!u){let l=s[Sh];if(l){let f=l.get(n,sn,r);if(f!==sn)return f}u=mT(s),s=s[Kr]}o=u}return i}function mT(t){let e=t[L],n=e.type;return n===2?e.declTNode:n===1?t[at]:null}function Yp(t){return gM(Ve(),t)}function IM(){return po(Ve(),W())}function po(t,e){return new ur(At(t,e))}var ur=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=IM}return t})();function yT(t){return t instanceof ur?t.nativeElement:t}function wM(){return this._results[Symbol.iterator]()}var Bu=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ft}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=AI(e);(this._changesDetected=!SI(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=wM},vT="ngSkipHydration",TM="ngskiphydration";function _T(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===TM)return!0}return!1}function ET(t){return t.hasAttribute(vT)}function Uu(t){return(t.flags&128)===128}function IT(t){if(Uu(t))return!0;let e=t.parent;for(;e;){if(Uu(t)||_T(e))return!0;e=e.parent}return!1}var Zp=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Zp||{}),wT=new Map,DM=0;function bM(){return DM++}function CM(t){wT.set(t[js],t)}function fp(t){wT.delete(t[js])}var _w="__ngContext__";function ao(t,e){_t(e)?(t[_w]=e[js],CM(e)):t[_w]=e}function TT(t){return bT(t[Ji])}function DT(t){return bT(t[St])}function bT(t){for(;t!==null&&!Et(t);)t=t[St];return t}var hp;function SM(t){hp=t}function sa(){if(hp!==void 0)return hp;if(typeof document<"u")return document;throw new ee(210,!1)}var ci=new $("",{providedIn:"root",factory:()=>AM}),AM="ng",CT=new $(""),Jp=new $("",{providedIn:"platform",factory:()=>"unknown"});var RM=new $(""),NM=new $("",{providedIn:"root",factory:()=>sa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function PM(){let t=new aa;return t.store=MM(sa(),x(ci)),t}var aa=(()=>{class t{static \u0275prov=ie({token:t,providedIn:"root",factory:PM});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function MM(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var ST="h",AT="b",kM="f",xM="n",RT="e",NT="t",nl="c",Xp="x",Ys="r",PT="i",MT="n",eg="d";var kT="di",xT="s",OT="p";var ca=new $(""),FT=!1,tg=new $("",{providedIn:"root",factory:()=>FT});var ng=new $(""),LT=!1,VT=new $(""),rg=new $("",{providedIn:"root",factory:()=>new Map}),OM=new $("");var ua="ngb";var jT=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},BT=(t,e)=>{let n=t,r=n.getAttribute(ua)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var UT=t=>{t.removeAttribute(Tu.JSACTION),t.removeAttribute(ua),t.__jsaction_fns=void 0},$T=new $("",{providedIn:"root",factory:()=>({})});function ig(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var pp=new Map;function HT(t,e){return pp.set(t,e),()=>pp.delete(t)}var Ew=!1,qT=(t,e,n,r)=>{};function FM(t,e,n,r){qT(t,e,n,r)}function zT(){Ew||(qT=(t,e,n,r)=>{let i=t[jt].get(ci);pp.get(i)?.(e,n,r)},Ew=!0)}var rl=new $("");function la(t){return(t.flags&32)===32}var LM="__nghData__",og=LM,VM="__nghDeferData__",GT=VM;var Mu="ngh",WT="nghm",KT=()=>null;function jM(t,e,n=!1){let r=t.getAttribute(Mu);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",c=n?i:s,u={};if(r!==""){let f=e.get(aa,null,{optional:!0});f!==null&&(u=f.get(og,[])[Number(r)])}let l={data:u,firstChild:t.firstChild??null};return n&&(l.firstChild=t,il(l,0,t.nextSibling)),c?t.setAttribute(Mu,c):t.removeAttribute(Mu),l}function QT(){KT=jM}function YT(t,e,n=!1){return KT(t,e,n)}function ZT(t){let e=t._lView;return e[L].type===2?null:(Jr(e)&&(e=e[ce]),e)}function BM(t){return t.textContent?.replace(/\s/gm,"")}function UM(t){let e=sa(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=BM(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function il(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function gp(t,e){return t.segmentHeads?.[e]??null}function JT(t){return t.get(VT,!1,{optional:!0})}function $M(t,e){let n=t.data,r=n[RT]?.[e]??null;return r===null&&n[nl]?.[e]&&(r=sg(t,e)),r}function XT(t,e){return t.data[nl]?.[e]??null}function sg(t,e){let n=XT(t,e)??[],r=0;for(let i of n)r+=i[Ys]*(i[Xp]??1);return r}function HM(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[eg];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function eD(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[eg];t.disconnectedNodes=n?new Set(n):null}return!!HM(t)?.has(e)}function ol(t,e){let n=t[ct];return n!==null&&!pu()&&!la(e)&&!eD(n,e.index-ce)}function qM(t,e){let n=e.get(rl),i=e.get(aa).get(GT,{}),o=!1,s=t,c=null,u=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(c===null&&l!=null){c=l.promise;break}u.unshift(s),s=i[s][OT]}return{parentBlockPromise:c,hydrationQueue:u}}function Jh(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===WT}function Iw(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function tD(t){for(let r of t.body.childNodes)if(Jh(r))return;let e=Iw(t.body.previousSibling);if(Jh(e))return;let n=Iw(t.head.lastChild);if(!Jh(n))throw new ee(-507,!1)}function nD(t,e){let n=t.contentQueries;if(n!==null){let r=z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];Hs(o),c.contentQueries(2,e[s],s)}}}finally{z(r)}}}function mp(t,e,n){Hs(0);let r=z(null);try{e(t,n)}finally{z(r)}}function ag(t,e,n){if(Ah(e)){let r=z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{z(r)}}}var co=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(co||{}),bu;function zM(){if(bu===void 0&&(bu=null,Ki.trustedTypes))try{bu=Ki.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bu}function sl(t){return zM()?.createHTML(t)||t}var Cu;function GM(){if(Cu===void 0&&(Cu=null,Ki.trustedTypes))try{Cu=Ki.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cu}function ww(t){return GM()?.createScriptURL(t)||t}var Rn=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xc})`}},yp=class extends Rn{getTypeName(){return"HTML"}},vp=class extends Rn{getTypeName(){return"Style"}},_p=class extends Rn{getTypeName(){return"Script"}},Ep=class extends Rn{getTypeName(){return"URL"}},Ip=class extends Rn{getTypeName(){return"ResourceURL"}};function go(t){return t instanceof Rn?t.changingThisBreaksApplicationSecurity:t}function cg(t,e){let n=rD(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Xc})`)}return n===e}function rD(t){return t instanceof Rn&&t.getTypeName()||null}function WM(t){return new yp(t)}function KM(t){return new vp(t)}function QM(t){return new _p(t)}function YM(t){return new Ep(t)}function ZM(t){return new Ip(t)}function JM(t){let e=new Tp(t);return XM()?new wp(e):e}var wp=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(sl(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},Tp=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=sl(e),n}};function XM(){try{return!!new window.DOMParser().parseFromString(sl(""),"text/html")}catch{return!1}}var ek=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ug(t){return t=String(t),t.match(ek)?t:"unsafe:"+t}function Pn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function da(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var iD=Pn("area,br,col,hr,img,wbr"),oD=Pn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sD=Pn("rp,rt"),tk=da(sD,oD),nk=da(oD,Pn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rk=da(sD,Pn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tw=da(iD,nk,rk,tk),aD=Pn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ik=Pn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ok=Pn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),sk=da(aD,ik,ok),ak=Pn("script,style,template"),Dp=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=lk(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=uk(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=Dw(e).toLowerCase();if(!Tw.hasOwnProperty(n))return this.sanitizedSomething=!0,!ak.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,c=s.toLowerCase();if(!sk.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=o.value;aD[c]&&(u=ug(u)),this.buf.push(" ",s,'="',bw(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=Dw(e).toLowerCase();Tw.hasOwnProperty(n)&&!iD.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(bw(e))}};function ck(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function uk(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw cD(e);return e}function lk(t){let e=t.firstChild;if(e&&ck(t,e))throw cD(e);return e}function Dw(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function cD(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var dk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fk=/([^\#-~ |!])/g;function bw(t){return t.replace(/&/g,"&amp;").replace(dk,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(fk,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Su;function hk(t,e){let n=null;try{Su=Su||JM(t);let r=e?String(e):"";n=Su.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Su.getInertBodyElement(r)}while(r!==o);let c=new Dp().sanitizeChildren(Cw(n)||n);return sl(c)}finally{if(n){let r=Cw(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function Cw(t){return"content"in t&&pk(t)?t.content:null}function pk(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var al=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(al||{});function uD(t){let e=dD();return e?e.sanitize(al.URL,t)||"":cg(t,"URL")?go(t):ug(Wr(t))}function lD(t){let e=dD();if(e)return ww(e.sanitize(al.RESOURCE_URL,t)||"");if(cg(t,"ResourceURL"))return ww(go(t));throw new ee(904,!1)}function gk(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?lD:uD}function mk(t,e,n){return gk(e,n)(t)}function dD(){let t=W();return t&&t[Jt].sanitizer}var yk=/^>|^->|<!--|-->|--!>|<!-$/g,vk=/(<|>)/g,_k="\u200B$1\u200B";function Ek(t){return t.replace(yk,e=>e.replace(vk,_k))}function fD(t){return t.ownerDocument.body}function hD(t){return t instanceof Function?t():t}function Ik(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var pD="ng-template";function wk(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Ik(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(lg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function lg(t){return t.type===4&&t.value!==pD}function Tk(t,e,n){let r=t.type===4&&!n?pD:t.value;return e===r}function Dk(t,e,n){let r=4,i=t.attrs,o=i!==null?Sk(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Ut(r)&&!Ut(u))return!1;if(s&&Ut(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Tk(t,u,n)||u===""&&e.length===1){if(Ut(r))return!1;s=!0}}else if(r&8){if(i===null||!wk(t,i,u,n)){if(Ut(r))return!1;s=!0}}else{let l=e[++c],f=bk(u,i,lg(t),n);if(f===-1){if(Ut(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Ut(r))return!1;s=!0}}}}return Ut(r)||s}function Ut(t){return(t&1)===0}function bk(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Ak(e,t)}function gD(t,e,n=!1){for(let r=0;r<e.length;r++)if(Dk(t,e[r],n))return!0;return!1}function Ck(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function Sk(t){for(let e=0;e<t.length;e++){let n=t[e];if(aT(n))return e}return t.length}function Ak(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Rk(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Sw(t,e){return t?":not("+e.trim()+")":e}function Nk(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ut(s)&&(e+=Sw(o,i),i=""),r=s,o=o||!Ut(r);n++}return i!==""&&(e+=Sw(o,i)),e}function Pk(t){return t.map(Nk).join(",")}function Mk(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ut(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Tt={};function mD(t,e){return t.createText(e)}function kk(t,e,n){t.setValue(e,n)}function yD(t,e){return t.createComment(Ek(e))}function dg(t,e,n){return t.createElement(e,n)}function $u(t,e,n,r,i){t.insertBefore(e,n,r,i)}function vD(t,e,n){t.appendChild(e,n)}function Aw(t,e,n,r,i){r!==null?$u(t,e,n,r,i):vD(t,e,n)}function fg(t,e,n){t.removeChild(null,e,n)}function _D(t){t.textContent=""}function xk(t,e,n){t.setAttribute(e,"style",n)}function Ok(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ED(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&uM(t,e,r),i!==null&&Ok(t,e,i),o!==null&&xk(t,e,o)}function hg(t,e,n,r,i,o,s,c,u,l,f){let p=ce+r,m=p+i,y=Fk(p,m),b=typeof l=="function"?l():l;return y[L]={type:t,blueprint:y,template:n,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:f}}function Fk(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Tt);return n}function Lk(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=hg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function pg(t,e,n,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[st]=i,p[H]=r|4|128|8|64|1024,(l!==null||t&&t[H]&2048)&&(p[H]|=2048),Ph(p),p[Ce]=p[Kr]=t,p[Se]=n,p[Jt]=s||t&&t[Jt],p[ae]=c||t&&t[ae],p[jt]=u||t&&t[jt]||null,p[at]=o,p[js]=bM(),p[ct]=f,p[Sh]=l,p[Ge]=e.type==2?t[Ge]:p,p}function Vk(t,e,n){let r=At(e,t),i=Lk(n),o=t[Jt].rendererFactory,s=gg(t,pg(t,i,null,ID(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function ID(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function wD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function gg(t,e){return t[Ji]?t[Ch][St]=e:t[Ji]=e,t[Ch]=e,e}function jk(t=1){TD(De(),W(),nn()+t,!1)}function TD(t,e,n,r){if(!r)if((e[H]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ru(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Nu(e,o,0,n)}ir(n)}var cl=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(cl||{});function bp(t,e,n,r){let i=z(null);try{let[o,s,c]=t.inputs[n],u=null;(s&cl.SignalBased)!==0&&(u=e[o][Oe]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):tT(e,u,o,r)}finally{z(i)}}var Hu=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Hu||{}),Bk;function mg(t,e){return Bk(t,e)}function no(t,e,n,r,i){if(r!=null){let o,s=!1;Et(r)?o=r:_t(r)&&(s=!0,r=r[st]);let c=It(r);t===0&&n!==null?i==null?vD(e,n,c):$u(e,n,c,i||null,!0):t===1&&n!==null?$u(e,n,c,i||null,!0):t===2?fg(e,c,s):t===3&&e.destroyNode(c),o!=null&&Yk(e,t,o,n,i)}}function Uk(t,e){DD(t,e),e[st]=null,e[at]=null}function $k(t,e,n,r,i,o){r[st]=i,r[at]=e,ll(t,r,n,1,i,o)}function DD(t,e){e[Jt].changeDetectionScheduler?.notify(9),ll(t,e,e[ae],2,null,null)}function Hk(t){let e=t[Ji];if(!e)return Xh(t[L],t);for(;e;){let n=null;if(_t(e))n=e[Ji];else{let r=e[Le];r&&(n=r)}if(!n){for(;e&&!e[St]&&e!==t;)_t(e)&&Xh(e[L],e),e=e[Ce];e===null&&(e=t),_t(e)&&Xh(e[L],e),n=e&&e[St]}e=n}}function yg(t,e){let n=t[Zr],r=n.indexOf(e);n.splice(r,1)}function ul(t,e){if(nr(e))return;let n=e[ae];n.destroyNode&&ll(t,e,n,3,null,null),Hk(e)}function Xh(t,e){if(nr(e))return;let n=z(null);try{e[H]&=-129,e[H]|=256,e[vt]&&Zn(e[vt]),zk(t,e),qk(t,e),e[L].type===1&&e[ae].destroy();let r=e[tr];if(r!==null&&Et(e[Ce])){r!==e[Ce]&&yg(r,e);let i=e[Xt];i!==null&&i.detachView(t)}fp(e)}finally{z(n)}}function qk(t,e){let n=t.cleanup,r=e[Zi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[Zi]=null);let i=e[In];if(i!==null){e[In]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Dn];if(o!==null){e[Dn]=null;for(let s of o)s.destroy()}}function zk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof oi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];ue(4,c,u);try{u.call(c)}finally{ue(5,c,u)}}else{ue(4,i,o);try{o.call(i)}finally{ue(5,i,o)}}}}}function bD(t,e,n){return Gk(t,e.parent,n)}function Gk(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[st];if(bn(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===co.None||i===co.Emulated)return null}return At(r,n)}function CD(t,e,n){return Kk(t,e,n)}function Wk(t,e,n){return t.type&40?At(t,n):null}var Kk=Wk,Rw;function vg(t,e,n,r){let i=bD(t,r,e),o=e[ae],s=r.parent||e[at],c=CD(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Aw(o,i,n[u],c,!1);else Aw(o,i,n,c,!1);Rw!==void 0&&Rw(o,r,e,n,i)}function Ws(t,e){if(e!==null){let n=e.type;if(n&3)return At(e,t);if(n&4)return Cp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ws(t,r);{let i=t[e.index];return Et(i)?Cp(-1,i):It(i)}}else{if(n&128)return Ws(t,e.next);if(n&32)return mg(e,t)()||It(t[e.index]);{let r=SD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Jn(t[Ge]);return Ws(i,r)}else return Ws(t,e.next)}}}return null}function SD(t,e){if(e!==null){let r=t[Ge][at],i=e.projection;return r.projection[i]}return null}function Cp(t,e){let n=Le+t+1;if(n<e.length){let r=e[n],i=r[L].firstChild;if(i!==null)return Ws(r,i)}return e[en]}function _g(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&ao(It(c),r),n.flags|=2),!la(n))if(u&8)_g(t,e,n.child,r,i,o,!1),no(e,t,i,c,o);else if(u&32){let l=mg(n,r),f;for(;f=l();)no(e,t,i,f,o);no(e,t,i,c,o)}else u&16?AD(t,e,r,n,i,o):no(e,t,i,c,o);n=s?n.projectionNext:n.next}}function ll(t,e,n,r,i,o){_g(n,r,t.firstChild,e,i,o,!1)}function Qk(t,e,n){let r=e[ae],i=bD(t,n,e),o=n.parent||e[at],s=CD(o,n,e);AD(r,0,e,n,i,s)}function AD(t,e,n,r,i,o){let s=n[Ge],u=s[at].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];no(e,t,i,f,o)}else{let l=u,f=s[Ce];Uu(r)&&(l.flags|=128),_g(t,e,l,f,i,o,!0)}}function Yk(t,e,n,r,i){let o=n[en],s=It(n);o!==s&&no(e,t,r,o,i);for(let c=Le;c<n.length;c++){let u=n[c];ll(u[L],u,t,e,r,o)}}function Zk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Hu.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Hu.Important),t.setStyle(n,r,i,o))}}function RD(t,e,n,r,i){let o=nn(),s=r&2;try{ir(-1),s&&e.length>ce&&TD(t,e,ce,!1),ue(s?2:0,i,n),n(r,i)}finally{ir(o),ue(s?3:1,i,n)}}function dl(t,e,n){ix(t,e,n),(n.flags&64)===64&&ox(t,e,n)}function fa(t,e,n=At){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function Jk(t,e,n,r){let o=r.get(tg,FT)||n===co.ShadowDom,s=t.selectRootElement(e,o);return Xk(s),s}function Xk(t){ND(t)}var ND=()=>null;function ex(t){ET(t)?_D(t):UM(t)}function PD(){ND=ex}function tx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function nx(t,e,n,r,i,o){let s=e[L];if(Dg(t,s,e,n,r)){bn(t)&&rx(e,t.index);return}t.type&3&&(n=tx(n)),MD(t,e,n,r,i,o)}function MD(t,e,n,r,i,o){if(t.type&3){let s=At(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function rx(t,e){let n=Rt(e,t);n[H]&16||(n[H]|=64)}function ix(t,e,n){let r=n.directiveStart,i=n.directiveEnd;bn(n)&&Vk(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||ju(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=Qs(e,t,s,n);if(ao(u,e),o!==null&&ux(e,s-r,u,c,n,o),tn(c)){let l=Rt(n.index,e);l[Se]=Qs(e,t,s,n)}}}function ox(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=nw();try{ir(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];mu(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&sx(u,l)}}finally{ir(-1),mu(s)}}function sx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Eg(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];gD(e,o.selectors,!1)&&(r??=[],tn(o)?r.unshift(o):r.push(o))}return r}function ax(t,e,n,r,i,o){let s=At(t,e);cx(e[ae],s,o,t.value,n,r,i)}function cx(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?Wr(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function ux(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];bp(r,n,u,l)}}function Ig(t,e,n,r,i){let o=ce+n,s=e[L],c=i(s,e,t,r,n);e[o]=c,eo(t,!0);let u=t.type===2;return u?(ED(e[ae],c,t),(zI()===0||Xi(t))&&ao(c,e),GI()):ao(c,e),Iu()&&(!u||!la(t))&&vg(s,e,c,t),t}function wg(t){let e=t;return Bh()?Uh():(e=e.parent,eo(e,!1)),e}function Tg(t,e){let n=t[jt];if(!n)return;let r;try{r=n.get(on,null)}catch{r=null}r?.(e)}function Dg(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];bp(p,n[l],f,i),c=!0}if(o)for(let u of o){let l=n[u],f=e.data[u];bp(f,l,r,i),c=!0}return c}function lx(t,e){let n=Rt(e,t),r=n[L];dx(r,n);let i=n[st];i!==null&&n[ct]===null&&(n[ct]=YT(i,n[jt])),ue(18),bg(r,n,n[Se]),ue(19,n[Se])}function dx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function bg(t,e,n){vu(e);try{let r=t.viewQuery;r!==null&&mp(1,r,n);let i=t.template;i!==null&&RD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Xt]?.finishViewCreation(t),t.staticContentQueries&&nD(t,e),t.staticViewQueries&&mp(2,t.viewQuery,n);let o=t.components;o!==null&&fx(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[H]&=-5,_u()}}function fx(t,e){for(let n=0;n<e.length;n++)lx(t,e[n])}function mo(t,e,n,r){let i=z(null);try{let o=e.tView,c=t[H]&4096?4096:16,u=pg(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[tr]=l;let f=t[Xt];return f!==null&&(u[Xt]=f.createEmbeddedView(o)),bg(o,u,n),u}finally{z(i)}}function si(t,e){return!e||e.firstChild===null||Uu(t)}var Nw=!1,hx=new $("");function Zs(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(It(o)),Et(o)&&kD(o,r);let s=n.type;if(s&8)Zs(t,e,n.child,r);else if(s&32){let c=mg(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=SD(e,n);if(Array.isArray(c))r.push(...c);else{let u=Jn(e[Ge]);Zs(u[L],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function kD(t,e){for(let n=Le;n<t.length;n++){let r=t[n],i=r[L].firstChild;i!==null&&Zs(r[L],r,i,e)}t[en]!==t[st]&&e.push(t[en])}function xD(t){if(t[Yr]!==null){for(let e of t[Yr])e.impl.addSequence(e);t[Yr].length=0}}var OD=[];function px(t){return t[vt]??gx(t)}function gx(t){let e=OD.pop()??Object.create(yx);return e.lView=t,e}function mx(t){t.lView[vt]!==t&&(t.lView=null,OD.push(t))}var yx=ye(pe({},Fr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{rr(t.lView)},consumerOnSignalRead(){this.lView[vt]=this}});function vx(t){let e=t[vt]??Object.create(_x);return e.lView=t,e}var _x=ye(pe({},Fr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Jn(t.lView);for(;e&&!FD(e[L]);)e=Jn(e);e&&Mh(e)},consumerOnSignalRead(){this.lView[vt]=this}});function FD(t){return t.type!==2}function LD(t){if(t[Dn]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Dn])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[H]&8192)}}var Ex=100;function Cg(t,e=0){let r=t[Jt].rendererFactory,i=!1;i||r.begin?.();try{Ix(t,e)}finally{i||r.end?.()}}function Ix(t,e){let n=Hh();try{to(!0),Sp(t,e);let r=0;for(;Us(t);){if(r===Ex)throw new ee(103,!1);r++,Sp(t,1)}}finally{to(n)}}function VD(t,e){$h(e?$s.Exhaustive:$s.OnlyDirtyViews);try{Cg(t)}finally{$h($s.Off)}}function wx(t,e,n,r){if(nr(e))return;let i=e[H],o=!1,s=!1;vu(e);let c=!0,u=null,l=null;o||(FD(t)?(l=px(e),u=Yn(l)):Gc()===null?(c=!1,l=vx(e),u=Yn(l)):e[vt]&&(Zn(e[vt]),e[vt]=null));try{Ph(e),XI(t.bindingStartIndex),n!==null&&RD(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let y=t.preOrderCheckHooks;y!==null&&Ru(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Nu(e,y,0,null),Yh(e,0)}if(s||Tx(e),LD(e),jD(e,0),t.contentQueries!==null&&nD(t,e),!o)if(f){let y=t.contentCheckHooks;y!==null&&Ru(e,y)}else{let y=t.contentHooks;y!==null&&Nu(e,y,1),Yh(e,1)}bx(t,e);let p=t.components;p!==null&&UD(e,p,0);let m=t.viewQuery;if(m!==null&&mp(2,m,r),!o)if(f){let y=t.viewCheckHooks;y!==null&&Ru(e,y)}else{let y=t.viewHooks;y!==null&&Nu(e,y,2),Yh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[lu]){for(let y of e[lu])y();e[lu]=null}o||(xD(e),e[H]&=-73)}catch(f){throw o||rr(e),f}finally{l!==null&&(Vr(l,u),c&&mx(l)),_u()}}function jD(t,e){for(let n=TT(t);n!==null;n=DT(n))for(let r=Le;r<n.length;r++){let i=n[r];BD(i,e)}}function Tx(t){for(let e=TT(t);e!==null;e=DT(e)){if(!(e[H]&2))continue;let n=e[Zr];for(let r=0;r<n.length;r++){let i=n[r];Mh(i)}}}function Dx(t,e,n){ue(18);let r=Rt(e,t);BD(r,n),ue(19,r[Se])}function BD(t,e){du(t)&&Sp(t,e)}function Sp(t,e){let r=t[L],i=t[H],o=t[vt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&jr(o)),s||=!1,o&&(o.dirty=!1),t[H]&=-9217,s)wx(r,t,r.template,t[Se]);else if(i&8192){let c=z(null);try{LD(t),jD(t,1);let u=r.components;u!==null&&UD(t,u,1),xD(t)}finally{z(c)}}}function UD(t,e,n){for(let r=0;r<e.length;r++)Dx(t,e[r],n)}function bx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ir(~i);else{let o=i,s=n[++r],c=n[++r];tw(s,o);let u=e[o];ue(24,u),c(2,u),ue(25,u)}}}finally{ir(-1)}}function fl(t,e){let n=Hh()?64:1088;for(t[Jt].changeDetectionScheduler?.notify(e);t;){t[H]|=n;let r=Jn(t);if(Jr(t)&&!r)return t;t=r}return null}function $D(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function HD(t,e){let n=Le+e;if(n<t.length)return t[n]}function yo(t,e,n,r=!0){let i=e[L];if(Cx(i,e,t,n),r){let s=Cp(n,t),c=e[ae],u=c.parentNode(t[en]);u!==null&&$k(i,t[at],c,e,u,s)}let o=e[ct];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Sg(t,e){let n=Js(t,e);return n!==void 0&&ul(n[L],n),n}function Js(t,e){if(t.length<=Le)return;let n=Le+e,r=t[n];if(r){let i=r[tr];i!==null&&i!==t&&yg(i,r),e>0&&(t[n-1][St]=r[St]);let o=Vs(t,Le+e);Uk(r[L],r);let s=o[Xt];s!==null&&s.detachView(o[L]),r[Ce]=null,r[St]=null,r[H]&=-129}return r}function Cx(t,e,n,r){let i=Le+r,o=n.length;r>0&&(n[i-1][St]=e),r<o-Le?(e[St]=n[i],vh(n,Le+r,e)):(n.push(e),e[St]=null),e[Ce]=n;let s=e[tr];s!==null&&n!==s&&qD(s,e);let c=e[Xt];c!==null&&c.insertView(t),fu(e),e[H]|=128}function qD(t,e){let n=t[Zr],r=e[Ce];if(_t(r))t[H]|=2;else{let i=r[Ce][Ge];e[Ge]!==i&&(t[H]|=2)}n===null?t[Zr]=[e]:n.push(e)}var ar=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[L];return Zs(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Se]}set context(e){this._lView[Se]=e}get destroyed(){return nr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ce];if(Et(e)){let n=e[Bs],r=n?n.indexOf(this):-1;r>-1&&(Js(e,r),Vs(n,r))}this._attachedToViewContainer=!1}ul(this._lView[L],this._lView)}onDestroy(e){kh(this._lView,e)}markForCheck(){fl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[H]&=-129}reattach(){fu(this._lView),this._lView[H]|=128}detectChanges(){this._lView[H]|=1024,Cg(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Jr(this._lView),n=this._lView[tr];n!==null&&!e&&yg(n,this._lView),DD(this._lView[L],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e;let n=Jr(this._lView),r=this._lView[tr];r!==null&&!n&&qD(r,this._lView),fu(this._lView)}};var uo=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Sx;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=mo(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new ar(o)}}return t})();function Sx(){return hl(Ve(),W())}function hl(t,e){return t.type&4?new uo(e,t,po(t,e)):null}function vo(t,e,n,r,i){let o=t.data[e];if(o===null)o=Ax(t,e,n,r,i),ew()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=YI();o.injectorIndex=s===null?-1:s.injectorIndex}return eo(o,!0),o}function Ax(t,e,n,r,i){let o=jh(),s=Bh(),c=s?o:o&&o.parent,u=t.data[e]=Nx(t,c,n,e,r,i);return Rx(t,u,o,s),u}function Rx(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Nx(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return pu()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Px=new RegExp(`^(\\d+)*(${AT}|${ST})*(.*)`);function Mx(t){let e=t.match(Px),[n,r,i,o]=e,s=r?parseInt(r,10):i,c=[];for(let[u,l,f]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(f,10)||1;c.push(l,p)}return[s,...c]}function kx(t){return!t.prev&&t.parent?.type===8}function ep(t){return t.index-ce}function xx(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function pl(t,e,n,r){let i=ep(r),o=xx(t,i);if(o===void 0){let s=t.data[MT];if(s?.[i])o=Fx(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let c=r.prev===null,u=r.prev??r.parent;if(kx(r)){let l=ep(r.parent);o=gp(t,l)}else{let l=At(u,n);if(c)o=l.firstChild;else{let f=ep(u),p=gp(t,f);if(u.type===2&&p){let y=sg(t,f)+1;o=gl(y,p)}else o=l.nextSibling}}}}return o}function gl(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function Ox(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case kM:n=n.firstChild;break;case xM:n=n.nextSibling;break}}return n}function Fx(t,e){let[n,...r]=Mx(t),i;if(n===ST)i=e[Ge][st];else if(n===AT)i=fD(e[Ge][st]);else{let o=Number(n);i=It(e[o+ce])}return Ox(i,r)}var Lx=!1;function zD(t){Lx=t}function Vx(t){let e=t[ct];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[ae];for(let o of r.values())jx(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function jx(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-ce);i&&fg(t,i,!1)}}function ml(t){let e=t[Bt]??[],r=t[Ce][ae],i=[];for(let o of e)o.data[kT]!==void 0?i.push(o):GD(o,r);t[Bt]=i}function Bx(t){let{lContainer:e}=t,n=e[Bt];if(n===null)return;let i=e[Ce][ae];for(let o of n)GD(o,i)}function GD(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Ys];for(;n<i;){let o=r.nextSibling;fg(e,r,!1),r=o,n++}}}function yl(t){ml(t);let e=t[st];_t(e)&&qu(e);for(let n=Le;n<t.length;n++)qu(t[n])}function qu(t){Vx(t);let e=t[L];for(let n=ce;n<e.bindingStartIndex;n++)if(Et(t[n])){let r=t[n];yl(r)}else _t(t[n])&&qu(t[n])}function Ag(t){let e=t._views;for(let n of e){let r=ZT(n);r!==null&&r[st]!==null&&(_t(r)?qu(r):yl(r))}}function Ux(t,e,n,r){t!==null&&(n.cleanup(e),yl(t.lContainer),Ag(r))}function $x(t,e){let n=[];for(let r of e)for(let i=0;i<(r[Xp]??1);i++){let o={data:r,firstChild:null};r[Ys]>0&&(o.firstChild=t,t=gl(r[Ys],t)),n.push(o)}return[t,n]}var WD=()=>null,KD=()=>null;function QD(){WD=Hx,KD=qx}function Hx(t,e){return ZD(t,e)?t[Bt].shift():(ml(t),null)}function Xs(t,e){return WD(t,e)}function qx(t,e,n){if(e.tView.ssrId===null)return null;let r=Xs(t,e.tView.ssrId);return n[L].firstUpdatePass&&r===null&&zx(n,e),r}function YD(t,e,n){return KD(t,e,n)}function zx(t,e){let n=e;for(;n;){if(Pw(t,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=e.next;n&&(n.flags&512)===512;){if(Pw(t,n))return;n=n.next}}function ZD(t,e){let n=t[Bt];return!e||n===null||n.length===0?!1:n[0].data[PT]===e}function Pw(t,e){let n=e.tView?.ssrId;if(n==null)return!1;let r=t[e.index];return Et(r)&&ZD(r,n)?(ml(r),!0):!1}var JD=class{},vl=class{},Ap=class{resolveComponentFactory(e){throw new ee(917,!1)}},ha=class{static NULL=new Ap},ea=class{},_l=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Gx()}return t})();function Gx(){let t=W(),e=Ve(),n=Rt(e.index,t);return(_t(n)?n:t)[ae]}var XD=(()=>{class t{static \u0275prov=ie({token:t,providedIn:"root",factory:()=>null})}return t})();var ku={},io=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,ku,r);return i!==ku||n===ku?i:this.parentInjector.get(e,n,r)}};function zu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=eu(i,c);else if(o==2){let u=c,l=e[++s];r=eu(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function lr(t,e=0){let n=W();if(n===null)return Fe(t,e);let r=Ve();return pT(r,n,ze(t),e)}function Wx(){let t="invalid";throw new Error(t)}function eb(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[c,u,l]=f.resolveHostDirectives(s);break}Yx(t,e,n,c,o,u,l)}o!==null&&r!==null&&Kx(n,r,o)}function Kx(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new ee(-301,!1);r.push(e[i],o)}}function Qx(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Yx(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&tn(y)&&(u=!0,Qx(t,n,m)),lp(ju(n,e),t,y.type)}nO(n,t.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=wD(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(n.mergedAttrs=so(n.mergedAttrs,y.hostAttrs),Jx(t,n,e,p,y),tO(p,y,i),s!==null&&s.has(y)){let[A,R]=s.get(y);n.directiveToIndex.set(y.type,[p,A+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let b=y.type.prototype;!l&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!f&&(b.ngOnChanges||b.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}Zx(t,n,o)}function Zx(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Mw(0,e,i,r),Mw(1,e,i,r),xw(e,r,!1);else{let o=n.get(i);kw(0,e,o,r),kw(1,e,o,r),xw(e,r,!0)}}}function Mw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),tb(e,o)}}function kw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),tb(e,s)}}function tb(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function xw(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||lg(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function Jx(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=$r(i.type,!0)),s=new oi(o,tn(i),lr,null);t.blueprint[r]=s,n[r]=s,Xx(t,e,r,wD(t,n,i.hostVars,Tt),i)}function Xx(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;eO(s)!=c&&s.push(c),s.push(n,r,o)}}function eO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function tO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;tn(e)&&(n[""]=t)}}function nO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Rg(t,e,n,r,i,o,s,c){let u=e[L],l=u.consts,f=Nt(l,s),p=vo(u,t,n,r,f);return o&&eb(u,e,p,Nt(l,c),i),p.mergedAttrs=so(p.mergedAttrs,p.attrs),p.attrs!==null&&zu(p,p.attrs,!1),p.mergedAttrs!==null&&zu(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function Ng(t,e){oT(t,e),Ah(e)&&t.queries.elementEnd(e)}function rO(t,e,n,r,i,o){let s=e.consts,c=Nt(s,i),u=vo(e,t,n,r,c);if(u.mergedAttrs=so(u.mergedAttrs,u.attrs),o!=null){let l=Nt(s,o);u.localNames=[];for(let f=0;f<l.length;f+=2)u.localNames.push(l[f],-1)}return u.attrs!==null&&zu(u,u.attrs,!1),u.mergedAttrs!==null&&zu(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function an(t,e,n){if(n===Tt)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function iO(t,e,n,r){let i=an(t,e,n);return an(t,e+1,r)||i}function xu(t,e,n){return function r(i){let o=bn(t)?Rt(t.index,e):e;fl(o,5);let s=e[Se],c=Ow(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=Ow(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function Ow(t,e,n,r){let i=z(null);try{return ue(6,e,n),n(r)!==!1}catch(o){return Tg(t,o),!1}finally{ue(7,e,n),z(i)}}function nb(t,e,n,r,i,o,s,c){let u=Xi(t),l=!1,f=null;if(!r&&u&&(f=oO(e,n,o,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let p=At(t,n),m=r?r(p):p;FM(n,m,o,c);let y=i.listen(m,o,c),b=r?A=>r(It(A[t.index])):t.index;rb(b,e,n,o,c,y,!1)}return l}function oO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Zi],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function rb(t,e,n,r,i,o,s){let c=e.firstCreatePass?Oh(e):null,u=xh(n),l=u.length;u.push(i,o),c&&c.push(r,t,l,(l+1)*(s?-1:1))}function Fw(t,e,n,r,i,o){let s=e[n],c=e[L],l=c.data[n].outputs[r],p=s[l].subscribe(o);rb(t.index,c,e,i,o,p,!0)}var Rp=Symbol("BINDING");var Gu=class extends ha{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Lt(e);return new cr(n,this.ngModule)}};function sO(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&cl.SignalBased)!==0};return i&&(o.transform=i),o})}function aO(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function cO(t,e,n){let r=e instanceof ot?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new io(n,r):n}function uO(t){let e=t.get(ea,null);if(e===null)throw new ee(407,!1);let n=t.get(XD,null),r=t.get(yt,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function lO(t,e){let n=ib(t);return dg(e,n,n==="svg"?Rh:n==="math"?VI:null)}function ib(t){return(t.selectors[0][0]||"div").toLowerCase()}var cr=class extends vl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=sO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=aO(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Pk(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){ue(22);let c=z(null);try{let u=this.componentDef,l=dO(r,u,s,o),f=cO(u,i||this.ngModule,e),p=uO(f),m=p.rendererFactory.createRenderer(null,u),y=r?Jk(m,r,u.encapsulation,f):lO(u,m),b=s?.some(Lw)||o?.some(k=>typeof k!="function"&&k.bindings.some(Lw)),A=pg(null,l,null,512|ID(u),null,null,p,m,f,null,YT(y,f,!0));A[ce]=y,vu(A);let R=null;try{let k=Rg(ce,A,2,"#host",()=>l.directiveRegistry,!0,0);y&&(ED(m,y,k),ao(y,A)),dl(l,A,k),ag(l,k,A),Ng(l,k),n!==void 0&&hO(k,this.ngContentSelectors,n),R=Rt(k.index,A),A[Se]=R[Se],bg(l,A,null)}catch(k){throw R!==null&&fp(R),fp(A),k}finally{ue(23),_u()}return new Wu(this.componentType,A,!!b)}finally{z(c)}}};function dO(t,e,n,r){let i=t?["ng-version","20.3.0"]:Mk(e.selectors[0]),o=null,s=null,c=0;if(n)for(let f of n)c+=f[Rp].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let m of p.bindings){c+=m[Rp].requiredVars;let y=f+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,m=cu(p);u.push(m)}return hg(0,null,fO(o,s),1,c,u,null,null,null,[i],null)}function fO(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function Lw(t){let e=t[Rp].kind;return e==="input"||e==="twoWay"}var Wu=class extends JD{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Xr(n[L],ce),this.location=po(this._tNode,n),this.instance=Rt(this._tNode.index,n)[Se],this.hostView=this.changeDetectorRef=new ar(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Dg(r,i[L],i,e,n);this.previousInputValues.set(e,n);let s=Rt(r.index,i);fl(s,1)}get injector(){return new ii(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function hO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var _o=(()=>{class t{static __NG_ELEMENT_ID__=pO}return t})();function pO(){let t=Ve();return sb(t,W())}var gO=_o,ob=class extends gO{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return po(this._hostTNode,this._hostLView)}get injector(){return new ii(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qp(this._hostTNode,this._hostLView);if(cT(e)){let n=Vu(e,this._hostLView),r=Lu(e),i=n[L].data[r+8];return new ii(i,n)}else return new ii(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Vw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Le}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Xs(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,si(this._hostTNode,s)),c}createComponent(e,n,r,i,o,s,c){let u=e&&!tM(e),l;if(u)l=n;else{let R=n||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,c=R.bindings}let f=u?e:new cr(Lt(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let k=(u?p:this.parentInjector).get(ot,null);k&&(o=k)}let m=Lt(f.componentType??{}),y=Xs(this._lContainer,m?.id??null),b=y?.firstChild??null,A=f.create(p,i,b,o,s,c);return this.insertImpl(A.hostView,l,si(this._hostTNode,y)),A}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(UI(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Ce],l=new ob(u,u[at],u[Ce]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return yo(s,i,o,r),e.attachToViewContainerRef(),vh(tp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Vw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Js(this._lContainer,n);r&&(Vs(tp(this._lContainer),n),ul(r[L],r))}detach(e){let n=this._adjustIndex(e,-1),r=Js(this._lContainer,n);return r&&Vs(tp(this._lContainer),n)!=null?new ar(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Vw(t){return t[Bs]}function tp(t){return t[Bs]||(t[Bs]=[])}function sb(t,e){let n,r=e[t.index];return Et(r)?n=r:(n=$D(r,e,null,t),e[t.index]=n,gg(e,n)),ab(n,e,t,r),new ob(n,t,e)}function mO(t,e){let n=t[ae],r=n.createComment(""),i=At(e,t),o=n.parentNode(i);return $u(n,o,r,n.nextSibling(i),!1),r}var ab=cb,Pg=()=>!1;function yO(t,e,n){return Pg(t,e,n)}function cb(t,e,n,r){if(t[en])return;let i;n.type&8?i=It(r):i=mO(e,n),t[en]=i}function vO(t,e,n){if(t[en]&&t[Bt])return!0;let r=n[ct],i=e.index-ce;if(!r||IT(e)||eD(r,i))return!1;let s=gp(r,i),c=r.data[nl]?.[i],[u,l]=$x(s,c);return t[en]=u,t[Bt]=l,!0}function _O(t,e,n,r){Pg(t,n,e)||cb(t,e,n,r)}function ub(){ab=_O,Pg=vO}var Np=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Pp=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)kg(e,n).matches!==null&&this.queries[n].setDirty()}},Ku=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=DO(e):this.predicate=e}},Mp=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},kp=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,EO(n,o)),this.matchTNodeWithReadOption(e,n,Pu(n,e,o,!1,!1))}else r===uo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Pu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ur||i===_o||i===uo&&n.type&4)this.addMatch(n.index,-2);else{let o=Pu(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function EO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function IO(t,e){return t.type&11?po(t,e):t.type&4?hl(t,e):null}function wO(t,e,n,r){return n===-1?IO(e,t):n===-2?TO(t,e,r):Qs(t,t[L],n,e)}function TO(t,e,n){if(n===ur)return po(e,t);if(n===uo)return hl(e,t);if(n===_o)return sb(e,t)}function lb(t,e,n,r){let i=e[Xt].queries[r];if(i.matches===null){let o=t.data,s=n.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)c.push(null);else{let f=o[l];c.push(wO(e,f,s[u+1],n.metadata.read))}}i.matches=c}return i.matches}function xp(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=lb(t,e,i,n);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let l=o[c+1],f=e[-u];for(let p=Le;p<f.length;p++){let m=f[p];m[tr]===m[Ce]&&xp(m[L],m,l,r)}if(f[Zr]!==null){let p=f[Zr];for(let m=0;m<p.length;m++){let y=p[m];xp(y[L],y,l,r)}}}}}return r}function Mg(t,e){return t[Xt].queries[e].queryList}function db(t,e,n){let r=new Bu((n&4)===4);return qI(t,e,r,r.destroy),(e[Xt]??=new Pp).queries.push(new Np(r))-1}function fb(t,e,n){let r=De();return r.firstCreatePass&&(pb(r,new Ku(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),db(r,W(),e)}function hb(t,e,n,r){let i=De();if(i.firstCreatePass){let o=Ve();pb(i,new Ku(e,n,r),o.index),bO(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return db(i,W(),n)}function DO(t){return t.split(",").map(e=>e.trim())}function pb(t,e,n){t.queries===null&&(t.queries=new Mp),t.queries.track(new kp(e,n))}function bO(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function kg(t,e){return t.queries.getByIndex(e)}function gb(t,e){let n=t[L],r=kg(n,e);return r.crossesNgTemplate?xp(n,t,e,[]):lb(n,t,r,e)}function mb(t,e,n){let r,i=Ns(()=>{r._dirtyCounter();let o=CO(r,t);if(e&&o===void 0)throw new ee(-951,!1);return o});return r=i[Oe],r._dirtyCounter=qs(0),r._flatValue=void 0,i}function xg(t){return mb(!0,!1,t)}function Og(t){return mb(!0,!0,t)}function yb(t,e){let n=t[Oe];n._lView=W(),n._queryIndex=e,n._queryList=Mg(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function CO(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[H]&4)return e?void 0:Je;let i=Mg(n,r),o=gb(n,r);return i.reset(o,yT),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}var jw=new Set;function Ht(t){jw.has(t)||(jw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var lo=class{},vb=class{};var Qu=class extends lo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Gu(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Ih(e);this._bootstrapComponents=hD(o.bootstrap),this._r3Injector=Wh(e,n,[{provide:lo,useValue:this},{provide:ha,useValue:this.componentFactoryResolver},...r],wn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yu=class extends vb{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Qu(this.moduleType,e,[])}};var ta=class extends lo{injector;componentFactoryResolver=new Gu(this);instance=null;constructor(e){super();let n=new qr([...e.providers,{provide:lo,useValue:this},{provide:ha,useValue:this.componentFactoryResolver}],e.parent||Yi(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Fg(t,e,n=null){return new ta({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var SO=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=uu(!1,n.type),i=r.length>0?Fg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ie({token:t,providedIn:"environment",factory:()=>new t(Fe(ot))})}return t})();function AO(t){return ho(()=>{let e=_b(t),n=ye(pe({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Zp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(SO).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||co.Emulated,styles:t.styles||Je,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Ht("NgStandalone"),Eb(n);let r=t.dependencies;return n.directiveDefs=Bw(r,RO),n.pipeDefs=Bw(r,wh),n.id=MO(n),n})}function RO(t){return Lt(t)||cu(t)}function Lg(t){return ho(()=>({type:t.type,bootstrap:t.bootstrap||Je,declarations:t.declarations||Je,imports:t.imports||Je,exports:t.exports||Je,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function NO(t,e){if(t==null)return Xn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=cl.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function PO(t){if(t==null)return Xn;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function El(t){return ho(()=>{let e=_b(t);return Eb(e),e})}function _b(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Xn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Je,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:NO(t.inputs,e),outputs:PO(t.outputs),debugInfo:null}}function Eb(t){t.features?.forEach(e=>e(t))}function Bw(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function MO(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function kO(t){return Object.getPrototypeOf(t.prototype).constructor}function Ib(t){let e=kO(t.type),n=!0,r=[t];for(;e;){let i;if(tn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=np(t.inputs),s.declaredInputs=np(t.declaredInputs),s.outputs=np(t.outputs);let c=i.hostBindings;c&&VO(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&FO(t,u),l&&LO(t,l),xO(t,i),II(t.outputs,i.outputs),tn(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===Ib&&(n=!1)}}e=Object.getPrototypeOf(e)}OO(r)}function xO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function OO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=so(i.hostAttrs,n=so(n,i.hostAttrs))}}function np(t){return t===Xn?{}:t===Je?[]:t}function FO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function LO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function VO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function wb(t,e,n,r,i,o,s,c){if(n.firstCreatePass){t.mergedAttrs=so(t.mergedAttrs,t.attrs);let f=t.tView=hg(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}c&&(t.flags|=c),eo(t,!1);let u=Db(n,e,t,r);Iu()&&vg(n,e,u,t),ao(u,e);let l=$D(u,e,u,t);e[r+ce]=l,gg(e,l),yO(l,t,e)}function jO(t,e,n,r,i,o,s,c,u,l,f){let p=n+ce,m;return e.firstCreatePass?(m=vo(e,p,4,s||null,c||null),hu()&&eb(e,t,m,Nt(e.consts,l),Eg),oT(e,m)):m=e.data[p],wb(m,t,e,n,r,i,o,u),Xi(m)&&dl(e,t,m),l!=null&&fa(t,m,f),m}function na(t,e,n,r,i,o,s,c,u,l,f){let p=n+ce,m;if(e.firstCreatePass){if(m=vo(e,p,4,s||null,c||null),l!=null){let y=Nt(e.consts,l);m.localNames=[];for(let b=0;b<y.length;b+=2)m.localNames.push(y[b],-1)}}else m=e.data[p];return wb(m,t,e,n,r,i,o,u),l!=null&&fa(t,m,f),m}function Tb(t,e,n,r,i,o,s,c){let u=W(),l=De(),f=Nt(l.consts,o);return jO(u,l,t,e,n,r,i,f,void 0,s,c),Tb}var Db=bb;function bb(t,e,n,r){return Cn(!0),e[ae].createComment("")}function BO(t,e,n,r){let i=!ol(e,n);Cn(i);let o=e[ct]?.data[NT]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return bb(t,e);let s=e[ct],c=pl(s,t,e,n);il(s,r,c);let u=sg(s,r);return gl(u,c)}function Cb(){Db=BO}var wt=(function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t})(wt||{}),Uw=0,UO=1,Ne=(function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t})(Ne||{});var $O=0,pa=1;var HO=4,qO=5;var zO=7,oo=8,GO=9,Vg=(function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t})(Vg||{});function Ou(t,e){let n=KO(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function WO(t){Ou(1,t),Ou(0,t),Ou(2,t)}function KO(t){let e=HO;return t===1?e=qO:t===2&&(e=GO),e}var Il=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Il||{}),Eo=new $(""),Sb=!1,Op=class extends ft{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,FI()&&(this.destroyRef=x(rn,{optional:!0})??void 0,this.pendingTasks=x(Sn,{optional:!0})??void 0)}emit(e){let n=z(null);try{super.next(e)}finally{z(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Re&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},An=Op;function Ab(t){let e,n;function r(){t=ni;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function $w(t){return queueMicrotask(()=>t()),()=>{t=ni}}var jg="isAngularZone",Zu=jg+"_ID",QO=0,Ie=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new An(!1);onMicrotaskEmpty=new An(!1);onStable=new An(!1);onError=new An(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Sb}=e;if(typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,JO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ee(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,YO,ni,ni);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},YO={};function Bg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ZO(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Ab(()=>{t.callbackScheduled=!1,Fp(t),t.isCheckStableRunning=!0,Bg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Fp(t)}function JO(t){let e=()=>{ZO(t)},n=QO++;t._inner=t._inner.fork({name:"angular",properties:{[jg]:!0,[Zu]:n,[Zu+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(XO(u))return r.invokeTask(o,s,c,u);try{return Hw(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),qw(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return Hw(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!e1(u)&&e(),qw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Fp(t),Bg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Fp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Hw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qw(t){t._nesting--,Bg(t)}var ra=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new An;onMicrotaskEmpty=new An;onStable=new An;onError=new An;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function XO(t){return Rb(t,"__ignore_ng_zone__")}function e1(t){return Rb(t,"__scheduler_tick__")}function Rb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var wl=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ie({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ug=[0,1,2,3],$g=(()=>{class t{ngZone=x(Ie);scheduler=x(yt);errorHandler=x(Tn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(Eo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ue(16),this.executing=!0;for(let r of Ug)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ue(17)}register(n){let{view:r}=n;r!==void 0?((r[Yr]??=[]).push(n),rr(r),r[H]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Il.AFTER_NEXT_RENDER,n):n()}static \u0275prov=ie({token:t,providedIn:"root",factory:()=>new t})}return t})(),ia=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Yr];e&&(this.view[Yr]=e.filter(n=>n!==this))}};function Nb(t,e){let n=e?.injector??x(Be);return Ht("NgAfterNextRender"),n1(t,n,e,!0)}function t1(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function n1(t,e,n,r){let i=e.get(wl);i.impl??=e.get($g);let o=e.get(Eo,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(rn):null,c=e.get(ti,null,{optional:!0}),u=new ia(i.impl,t1(t),c?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}function Pb(t){return t+1}function Io(t,e){let n=t[L],r=Pb(e.index);return t[r]}function ga(t,e){let n=Pb(e.index);return t.data[n]}function r1(t,e,n){let r=e[L],i=ga(r,n);switch(t){case Ne.Complete:return i.primaryTmplIndex;case Ne.Loading:return i.loadingTmplIndex;case Ne.Error:return i.errorTmplIndex;case Ne.Placeholder:return i.placeholderTmplIndex;default:return null}}function zw(t,e){return e===Ne.Placeholder?t.placeholderBlockConfig?.[Uw]??null:e===Ne.Loading?t.loadingBlockConfig?.[Uw]??null:null}function i1(t){return t.loadingBlockConfig?.[UO]??null}function Gw(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function o1(t,e){let n=e.primaryTmplIndex+ce;return Xr(t,n)}var s1=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?Fg(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ie({token:t,providedIn:"environment",factory:()=>new t})}return t})();var Mb=new $("");function rp(t,e,n){return t.get(s1).getOrCreateInjector(e,t,n,"")}function a1(t,e,n){if(t instanceof io){let i=t.injector,o=t.parentInjector,s=rp(o,e,n);return new io(i,s)}let r=t.get(ot);if(r!==t){let i=rp(r,e,n);return new io(t,i)}return rp(t,e,n)}function ri(t,e,n,r=!1){let i=n[Ce],o=i[L];if(nr(i))return;let s=Io(i,e),c=s[pa],u=s[zO];if(!(u!==null&&t<u)&&Ww(c,t)&&Ww(s[$O]??-1,t)){let l=ga(o,e),p=!r&&!0&&(i1(l)!==null||zw(l,Ne.Loading)!==null||zw(l,Ne.Placeholder))?l1:u1;try{p(t,s,n,e,i)}catch(m){Tg(i,m)}}}function c1(t,e){let n=t[Bt]?.findIndex(i=>i.data[xT]===e[pa])??-1;return{dehydratedView:n>-1?t[Bt][n]:null,dehydratedViewIx:n}}function u1(t,e,n,r,i){ue(20);let o=r1(t,i,r);if(o!==null){e[pa]=t;let s=i[L],c=o+ce,u=Xr(s,c),l=0;Sg(n,l);let f;if(t===Ne.Complete){let b=ga(s,r),A=b.providers;A&&A.length>0&&(f=a1(i[jt],b,A))}let{dehydratedView:p,dehydratedViewIx:m}=c1(n,e),y=mo(i,u,null,{injector:f,dehydratedView:p});if(yo(n,y,l,si(u,p)),fl(y,2),m>-1&&n[Bt]?.splice(m,1),(t===Ne.Complete||t===Ne.Error)&&Array.isArray(e[oo])){for(let b of e[oo])b();e[oo]=null}}ue(21)}function Ww(t,e){return t<e}function Kw(t,e,n){t.loadingPromise.then(()=>{t.loadingState===wt.COMPLETE?ri(Ne.Complete,e,n):t.loadingState===wt.FAILED&&ri(Ne.Error,e,n)})}var l1=null;var d1=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var kb=new $("");function Hg(t){return!!t&&typeof t.then=="function"}function xb(t){return!!t&&typeof t.subscribe=="function"}var qg=new $("");function f1(t){return Vt([{provide:qg,multi:!0,useValue:t}])}var zg=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=x(qg,{optional:!0})??[];injector=x(Be);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=er(this.injector,i);if(Hg(o))n.push(o);else if(xb(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Tl=new $("");function Ob(){Kf(()=>{let t="";throw new ee(600,t)})}function Fb(t){return t.isBoundToModule}var h1=10;var Mn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(on);afterRenderManager=x(wl);zonelessEnabled=x(zs);rootEffectScheduler=x(Gs);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ft;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=x(Sn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(gt(n=>!n))}constructor(){x(Eo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=x(ot);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Be.NULL){return this._injector.get(Ie).run(()=>{ue(10);let s=n instanceof vl;if(!this._injector.get(zg).done){let b="";throw new ee(405,b)}let u;s?u=n:u=this._injector.get(ha).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=Fb(u)?void 0:this._injector.get(lo),f=r||u.selector,p=u.create(i,[],f,l),m=p.location.nativeElement,y=p.injector.get(kb,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Ks(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),ue(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ue(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Il.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ee(101,!1);let n=z(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,z(n),this.afterTick.next(),ue(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ea,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<h1;)ue(14),this.synchronizeOnce(),ue(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Us(i))continue;let o=r&&!this.zonelessEnabled?0:1;Cg(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Us(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ks(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Tl,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ks(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ee(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ks(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Lb(t,e,n){let r=e[jt],i=e[L];if(t.loadingState!==wt.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=Io(e,n),s=o1(i,t);t.loadingState=wt.IN_PROGRESS,Ou(1,o);let c=t.dependencyResolverFn,u=r.get(sr).add();return c?(t.loadingPromise=Promise.allSettled(c()).then(l=>{let f=!1,p=[],m=[];for(let y of l)if(y.status==="fulfilled"){let b=y.value,A=Lt(b)||cu(b);if(A)p.push(A);else{let R=wh(b);R&&m.push(R)}}else{f=!0;break}if(f){if(t.loadingState=wt.FAILED,t.errorTmplIndex===null){let b=new ee(-750,!1);Tg(e,b)}}else{t.loadingState=wt.COMPLETE;let y=s.tView;if(p.length>0){y.directiveRegistry=Gw(y.directiveRegistry,p);let b=p.map(R=>R.type),A=uu(!1,...b);t.providers=A}m.length>0&&(y.pipeRegistry=Gw(y.pipeRegistry,m))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,u()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=wt.COMPLETE,u()}),t.loadingPromise)}function p1(t,e){return e[jt].get(Mb,null,{optional:!0})?.behavior!==Vg.Manual}function g1(t,e,n){let r=e[L],i=e[n.index];if(!p1(t,e))return;let o=Io(e,n),s=ga(r,n);switch(WO(o),s.loadingState){case wt.NOT_STARTED:ri(Ne.Loading,n,i),Lb(s,e,n),s.loadingState===wt.IN_PROGRESS&&Kw(s,n,i);break;case wt.IN_PROGRESS:ri(Ne.Loading,n,i),Kw(s,n,i);break;case wt.COMPLETE:ri(Ne.Complete,n,i);break;case wt.FAILED:ri(Ne.Error,n,i);break;default:}}async function Vb(t,e,n){let r=t.get(rl);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=qM(e,t);if(s.length===0)return;o!==null&&s.shift(),v1(r,s),o!==null&&await o;let c=s[0];r.has(c)?await Qw(t,s,n):r.awaitParentBlock(c,async()=>await Qw(t,s,n))}async function Qw(t,e,n){let r=t.get(rl),i=r.hydrating,o=t.get(Sn),s=o.add();for(let u=0;u<e.length;u++){let l=e[u],f=r.get(l);if(f!=null){if(await E1(f),await _1(t),m1(f)){Bx(f),Yw(e.slice(u),r);break}i.get(l).resolve()}else{y1(u,e,r),Yw(e.slice(u),r);break}}let c=e[e.length-1];await i.get(c)?.promise,o.remove(s),n&&n(e),Ux(r.get(c),e,r,t.get(Mn))}function m1(t){return Io(t.lView,t.tNode)[pa]===Ne.Error}function y1(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&yl(i.lContainer)}function Yw(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function v1(t,e){for(let n of e)t.hydrating.set(n,Promise.withResolvers())}function _1(t){return new Promise(e=>Nb(e,{injector:t}))}async function E1(t){let{tNode:e,lView:n}=t,r=Io(n,e);return new Promise(i=>{I1(r,i),g1(2,n,e)})}function I1(t,e){Array.isArray(t[oo])||(t[oo]=[]),t[oo].push(e)}function jb(t,e,n,r){let i=W(),o=ei();if(an(i,o,e)){let s=De(),c=Eu();ax(c,i,t,e,n,r)}return jb}var w1=new $("",{providedIn:"root",factory:()=>!1}),T1=new $("",{providedIn:"root",factory:()=>D1}),D1=4e3;var VG=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Lp=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function ip(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function b1(t,e,n){let r,i,o=0,s=t.length-1,c=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),f=e[o],p=ip(o,l,o,f,n);if(p!==0){p<0&&t.updateValue(o,f),o++;continue}let m=t.at(s),y=e[u],b=ip(s,m,u,y,n);if(b!==0){b<0&&t.updateValue(s,y),s--,u--;continue}let A=n(o,l),R=n(s,m),k=n(o,f);if(Object.is(k,R)){let V=n(u,y);Object.is(V,A)?(t.swap(o,s),t.updateValue(s,y),u--,s--):t.move(s,o),t.updateValue(o,f),o++;continue}if(r??=new Ju,i??=Jw(t,o,s,n),Vp(t,r,o,k))t.updateValue(o,f),o++,s++;else if(i.has(k))r.set(A,t.detach(o)),s--;else{let V=t.create(o,e[o]);t.attach(o,V),o++,s++}}for(;o<=u;)Zw(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let f=t.at(o),p=l.value,m=ip(o,f,o,p,n);if(m!==0)m<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new Ju,i??=Jw(t,o,s,n);let y=n(o,p);if(Vp(t,r,o,y))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let b=n(o,f);r.set(b,t.detach(o)),s--}}}for(;!l.done;)Zw(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function Vp(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Zw(t,e,n,r,i){if(Vp(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function Jw(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Ju=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function C1(t,e,n,r,i,o,s,c){Ht("NgControlFlow");let u=W(),l=De(),f=Nt(l.consts,o);return na(u,l,t,e,n,r,i,f,256,s,c),Gg}function Gg(t,e,n,r,i,o,s,c){Ht("NgControlFlow");let u=W(),l=De(),f=Nt(l.consts,o);return na(u,l,t,e,n,r,i,f,512,s,c),Gg}function S1(t,e){Ht("NgControlFlow");let n=W(),r=ei(),i=n[r]!==Tt?n[r]:-1,o=i!==-1?Xu(n,ce+i):void 0,s=0;if(an(n,r,t)){let c=z(null);try{if(o!==void 0&&Sg(o,s),t!==-1){let u=ce+t,l=Xu(n,u),f=$p(n[L],u),p=YD(l,f,n),m=mo(n,f,e,{dehydratedView:p});yo(l,m,s,si(f,p))}}finally{z(c)}}else if(o!==void 0){let c=HD(o,s);c!==void 0&&(c[Se]=e)}}var jp=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Le}};function A1(t){return t}function R1(t,e){return e}var Bp=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function N1(t,e,n,r,i,o,s,c,u,l,f,p,m){Ht("NgControlFlow");let y=W(),b=De(),A=u!==void 0,R=W(),k=c?s.bind(R[Ge][Se]):s,V=new Bp(A,k);R[ce+t]=V,na(y,b,t+1,e,n,r,i,Nt(b.consts,o),256),A&&na(y,b,t+2,u,l,f,p,Nt(b.consts,m),512)}var Up=class extends Lp{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Le}at(e){return this.getLView(e)[Se].$implicit}attach(e,n){let r=n[ct];this.needsIndexUpdate||=e!==this.length,yo(this.lContainer,n,e,si(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,M1(this.lContainer,e)}create(e,n){let r=Xs(this.lContainer,this.templateTNode.tView.ssrId),i=mo(this.hostLView,this.templateTNode,new jp(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){ul(e[L],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Se].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Se].$index=e}getLView(e){return k1(this.lContainer,e)}};function P1(t){let e=z(null),n=nn();try{let r=W(),i=r[L],o=r[n],s=n+1,c=Xu(r,s);if(o.liveCollection===void 0){let l=$p(i,s);o.liveCollection=new Up(c,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(b1(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=ei(),f=u.length===0;if(an(r,l,f)){let p=n+2,m=Xu(r,p);if(f){let y=$p(i,p),b=YD(m,y,r),A=mo(r,y,void 0,{dehydratedView:b});yo(m,A,0,si(y,b))}else i.firstUpdatePass&&ml(m),Sg(m,0)}}}finally{z(e)}}function Xu(t,e){return t[e]}function M1(t,e){return Js(t,e)}function k1(t,e){return HD(t,e)}function $p(t,e){return Xr(t,e)}function Bb(t,e,n){let r=W(),i=ei();if(an(r,i,e)){let o=De(),s=Eu();nx(s,r,t,e,r[ae],n)}return Bb}function Hp(t,e,n,r,i){Dg(e,t,n,i?"class":"style",r)}function Wg(t,e,n,r){let i=W(),o=i[L],s=t+ce,c=o.firstCreatePass?Rg(s,i,2,e,Eg,hu(),n,r):o.data[s];if(Ig(c,i,t,e,Zg),Xi(c)){let u=i[L];dl(u,i,c),ag(u,c,i)}return r!=null&&fa(i,c),Wg}function Kg(){let t=De(),e=Ve(),n=wg(e);return t.firstCreatePass&&Ng(t,n),Lh(n)&&Vh(),Fh(),n.classesWithoutHost!=null&&aM(n)&&Hp(t,n,W(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&cM(n)&&Hp(t,n,W(),n.stylesWithoutHost,!1),Kg}function Ub(t,e,n,r){return Wg(t,e,n,r),Kg(),Ub}function Qg(t,e,n,r){let i=W(),o=i[L],s=t+ce,c=o.firstCreatePass?rO(s,o,2,e,n,r):o.data[s];return Ig(c,i,t,e,Zg),r!=null&&fa(i,c),Qg}function Yg(){let t=Ve(),e=wg(t);return Lh(e)&&Vh(),Fh(),Yg}function $b(t,e,n,r){return Qg(t,e,n,r),Yg(),$b}var Zg=(t,e,n,r,i)=>(Cn(!0),dg(e[ae],r,Gh()));function x1(t,e,n,r,i){let o=!ol(e,n);if(Cn(o),o)return dg(e[ae],r,Gh());let s=e[ct],c=pl(s,t,e,n);return XT(s,i)&&il(s,i,c.nextSibling),s&&(_T(n)||ET(c))&&bn(n)&&(WI(n),_D(c)),c}function Hb(){Zg=x1}function qb(t,e,n){let r=W(),i=r[L],o=t+ce,s=i.firstCreatePass?Rg(o,r,8,"ng-container",Eg,hu(),e,n):i.data[o];if(Ig(s,r,t,"ng-container",Gb),Xi(s)){let c=r[L];dl(c,r,s),ag(c,s,r)}return n!=null&&fa(r,s),qb}function zb(){let t=De(),e=Ve(),n=wg(e);return t.firstCreatePass&&Ng(t,n),zb}var Gb=(t,e,n,r,i)=>(Cn(!0),yD(e[ae],""));function O1(t,e,n,r,i){let o,s=!ol(e,n);if(Cn(s),s)return yD(e[ae],"");let c=e[ct],u=pl(c,t,e,n),l=$M(c,i);return il(c,i,u),o=gl(l,u),o}function Wb(){Gb=O1}function F1(){return W()}function Kb(t,e,n){let r=W(),i=ei();if(an(r,i,e)){let o=De(),s=Eu();MD(s,r,t,e,r[ae],n)}return Kb}var ma="en-US";var L1=ma;function Qb(t){typeof t=="string"&&(L1=t.toLowerCase().replace(/_/g,"-"))}function Yb(t,e,n){let r=W(),i=De(),o=Ve();return V1(i,r,r[ae],o,t,e,n),Yb}function Zb(t,e,n){let r=W(),i=De(),o=Ve();return(o.type&3||n)&&nb(o,i,r,n,r[ae],t,e,xu(o,r,e)),Zb}function V1(t,e,n,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=xu(r,e,o),nb(r,t,e,s,n,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let m=f[p],y=f[p+1];u??=xu(r,e,o),Fw(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=xu(r,e,o),Fw(r,e,p,i,i,u)}}function j1(t=1){return aw(t)}function B1(t,e){let n=null,r=Ck(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?gD(t,o,!0):Rk(r,o))return i}return n}function U1(t){let e=W()[Ge][at];if(!e.projection){let n=t?t.length:1,r=e.projection=RI(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?B1(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function $1(t,e=0,n,r,i,o){let s=W(),c=De(),u=r?t+1:null;u!==null&&na(s,c,u,r,i,o,null,n);let l=vo(c,ce+t,16,null,n||null);l.projection===null&&(l.projection=e),Uh();let p=!s[ct]||pu();s[Ge][at].projection[l.projection]===null&&u!==null?H1(s,c,u):p&&!la(l)&&Qk(c,s,l)}function H1(t,e,n){let r=ce+n,i=e.data[r],o=t[r],s=Xs(o,i.tView.ssrId),c=mo(t,i,void 0,{dehydratedView:s});yo(o,c,0,si(i,s))}function q1(t,e,n,r){hb(t,e,n,r)}function z1(t,e,n){fb(t,e,n)}function G1(t){let e=W(),n=De(),r=yu();Hs(r+1);let i=kg(n,r);if(t.dirty&&BI(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=gb(e,r);t.reset(o,yT),t.notifyOnChanges()}return!0}return!1}function W1(){return Mg(W(),yu())}function K1(t,e,n,r,i){yb(e,hb(t,n,r,i))}function Q1(t,e,n,r){yb(t,fb(e,n,r))}function Y1(t=1){Hs(yu()+t)}function Z1(t){let e=ZI();return jI(e,ce+t)}function Au(t,e){return t<<17|e<<2}function ai(t){return t>>17&32767}function J1(t){return(t&2)==2}function X1(t,e){return t&131071|e<<17}function qp(t){return t|2}function fo(t){return(t&131068)>>2}function op(t,e){return t&-131069|e<<2}function eF(t){return(t&1)===1}function zp(t){return t|1}function tF(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=ai(s),u=fo(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Qi(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let m=ai(t[c+1]);t[r+1]=Au(m,c),m!==0&&(t[m+1]=op(t[m+1],r)),t[c+1]=X1(t[c+1],r)}else t[r+1]=Au(c,0),c!==0&&(t[c+1]=op(t[c+1],r)),c=r;else t[r+1]=Au(u,0),c===0?c=r:t[u+1]=op(t[u+1],r),u=r;l&&(t[r+1]=qp(t[r+1])),Xw(t,f,r,!0),Xw(t,f,r,!1),nF(e,f,t,r,o),s=Au(c,u),o?e.classBindings=s:e.styleBindings=s}function nF(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Qi(o,e)>=0&&(n[r+1]=zp(n[r+1]))}function Xw(t,e,n,r){let i=t[n+1],o=e===null,s=r?ai(i):fo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];rF(u,e)&&(c=!0,t[s+1]=r?zp(l):qp(l)),s=r?ai(l):fo(l)}c&&(t[n+1]=r?qp(i):zp(i))}function rF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Qi(t,e)>=0:!1}var $t={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iF(t){return t.substring($t.key,$t.keyEnd)}function oF(t){return sF(t),Jb(t,Xb(t,0,$t.textEnd))}function Jb(t,e){let n=$t.textEnd;return n===e?-1:(e=$t.keyEnd=aF(t,$t.key=e,n),Xb(t,e,n))}function sF(t){$t.key=0,$t.keyEnd=0,$t.value=0,$t.valueEnd=0,$t.textEnd=t.length}function Xb(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function aF(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function eC(t,e,n){return nC(t,e,n,!1),eC}function tC(t,e){return nC(t,e,null,!0),tC}function cF(t){lF(mF,uF,t,!0)}function uF(t,e){for(let n=oF(e);n>=0;n=Jb(e,n))su(t,iF(e),!0)}function nC(t,e,n,r){let i=W(),o=De(),s=gu(2);if(o.firstUpdatePass&&iC(o,t,s,r),e!==Tt&&an(i,s,e)){let c=o.data[nn()];oC(o,c,i,i[ae],t,i[s+1]=vF(e,n),r,s)}}function lF(t,e,n,r){let i=De(),o=gu(2);i.firstUpdatePass&&iC(i,null,o,r);let s=W();if(n!==Tt&&an(s,o,n)){let c=i.data[nn()];if(sC(c,r)&&!rC(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(n=eu(u,n||"")),Hp(i,c,s,n,r)}else yF(i,c,s,s[ae],s[o+1],s[o+1]=gF(t,e,n),r,o)}}function rC(t,e){return e>=t.expandoStartIndex}function iC(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[nn()],s=rC(t,n);sC(o,r)&&e===null&&!s&&(e=!1),e=dF(i,o,e,r),tF(i,o,e,n,s,r)}}function dF(t,e,n,r){let i=rw(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=sp(null,t,e,n,r),n=oa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=sp(i,t,e,n,r),o===null){let u=fF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=sp(null,t,e,u[1],r),u=oa(u,e.attrs,r),hF(t,e,r,u))}else o=pF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function fF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(fo(r)!==0)return t[ai(r)]}function hF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ai(i)]=r}function pF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=oa(r,s,n)}return oa(r,e.attrs,n)}function sp(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=oa(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function oa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),su(t,s,n?!0:e[++o]))}return t===void 0?null:t}function gF(t,e,n){if(n==null||n==="")return Je;let r=[],i=go(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function mF(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&su(t,r,n)}function yF(t,e,n,r,i,o,s,c){i===Tt&&(i=Je);let u=0,l=0,f=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,b=null,A;f===p?(u+=2,l+=2,m!==y&&(b=p,A=y)):p===null||f!==null&&f<p?(u+=2,b=f):(l+=2,b=p,A=y),b!==null&&oC(t,e,n,r,b,A,s,c),f=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function oC(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=eF(l)?eT(u,e,n,i,fo(l),s):void 0;if(!el(f)){el(o)||J1(l)&&(o=eT(u,null,n,i,c,s));let p=Nh(nn(),n);Zk(r,s,p,i,o)}}function eT(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=n[i+1];m===Tt&&(m=p?Je:void 0);let y=p?au(m,r):f===r?m:void 0;if(l&&!el(y)&&(y=au(u,r)),el(y)&&(c=y,s))return c;let b=t[i+1];i=s?ai(b):fo(b)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=au(u,r))}return c}function el(t){return t!==void 0}function vF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=wn(go(t)))),t}function sC(t,e){return(t.flags&(e?8:16))!==0}function _F(t,e=""){let n=W(),r=De(),i=t+ce,o=r.firstCreatePass?vo(r,i,1,e,null):r.data[i],s=aC(r,n,o,e,t);n[i]=s,Iu()&&vg(r,n,s,o),eo(o,!1)}var aC=(t,e,n,r,i)=>(Cn(!0),mD(e[ae],r));function EF(t,e,n,r,i){let o=!ol(e,n);if(Cn(o),o)return mD(e[ae],r);let s=e[ct];return pl(s,t,e,n)}function cC(){aC=EF}function uC(t,e,n,r=""){return an(t,ei(),n)?e+Wr(n)+r:Tt}function IF(t,e,n,r,i,o=""){let s=JI(),c=iO(t,s,n,i);return gu(2),c?e+Wr(n)+r+Wr(i)+o:Tt}function lC(t){return Jg("",t),lC}function Jg(t,e,n){let r=W(),i=uC(r,t,e,n);return i!==Tt&&fC(r,nn(),i),Jg}function dC(t,e,n,r,i){let o=W(),s=IF(o,t,e,n,r,i);return s!==Tt&&fC(o,nn(),s),dC}function fC(t,e,n){let r=Nh(e,t);kk(t[ae],r,n)}function wF(t,e,n=""){return uC(W(),t,e,n)}function TF(t,e,n){let r=De();if(r.firstCreatePass){let i=tn(t);Gp(n,r.data,r.blueprint,i,!0),Gp(e,r.data,r.blueprint,i,!1)}}function Gp(t,e,n,r,i){if(t=ze(t),Array.isArray(t))for(let o=0;o<t.length;o++)Gp(t[o],e,n,r,i);else{let o=De(),s=W(),c=Ve(),u=Hr(t)?t:ze(t.provide),l=bh(t),f=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(Hr(t)||!t.multi){let y=new oi(l,i,lr,null),b=cp(u,e,i?f:f+m,p);b===-1?(lp(ju(c,s),o,u),ap(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(y),s.push(y)):(n[b]=y,s[b]=y)}else{let y=cp(u,e,f+m,p),b=cp(u,e,f,f+m),A=y>=0&&n[y],R=b>=0&&n[b];if(i&&!R||!i&&!A){lp(ju(c,s),o,u);let k=CF(i?bF:DF,n.length,i,r,l,t);!i&&R&&(n[b].providerFactory=k),ap(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=hC(n[i?b:y],l,!i&&r);ap(o,t,y>-1?y:b,k)}!i&&r&&R&&n[b].componentProviders++}}}function ap(t,e,n,r){let i=Hr(e),o=OI(e);if(i||o){let u=(o?ze(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function hC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function cp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function DF(t,e,n,r,i){return Wp(this.multi,[])}function bF(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=Qs(r,r[L],this.providerFactory.index,i);s=u.slice(0,c),Wp(o,s);for(let l=c;l<u.length;l++)s.push(u[l])}else s=[],Wp(o,s);return s}function Wp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function CF(t,e,n,r,i,o){let s=new oi(t,n,lr,null);return s.multi=[],s.index=e,s.componentProviders=0,hC(s,i,r&&!n),s}function SF(t,e=[]){return n=>{n.providersResolver=(r,i)=>TF(r,i?i(t):t,e)}}function AF(t,e){return hl(t,e)}var tl=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},RF=(()=>{class t{compileModuleSync(n){return new Yu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Ih(n),o=hD(i.declarations).reduce((s,c)=>{let u=Lt(c);return u&&s.push(new cr(u)),s},[]);return new tl(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var NF=(()=>{class t{zone=x(Ie);changeDetectionScheduler=x(yt);applicationRef=x(Mn);applicationErrorHandler=x(on);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ie(ye(pe({},gC()),{scheduleInRootZone:n})),[{provide:Ie,useFactory:t},{provide:Zt,multi:!0,useFactory:()=>{let r=x(NF,{optional:!0});return()=>r.initialize()}},{provide:Zt,multi:!0,useFactory:()=>{let r=x(PF);return()=>{r.initialize()}}},e===!0?{provide:Qh,useValue:!0}:[],{provide:wu,useValue:n??Sb},{provide:on,useFactory:()=>{let r=x(Ie),i=x(ot),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Tn),o.handleError(s))})}}}]}function gC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var PF=(()=>{class t{subscription=new Re;initialized=!1;zone=x(Ie);pendingTasks=x(Sn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Xg=(()=>{class t{applicationErrorHandler=x(on);appRef=x(Mn);taskService=x(Sn);ngZone=x(Ie);zonelessEnabled=x(zs);tracing=x(Eo,{optional:!0});disableScheduling=x(Qh,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Re;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(wu,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ra||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?$w:Ab;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,$w(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function MF(){return Ht("NgZoneless"),Vt([{provide:yt,useExisting:Xg},{provide:Ie,useClass:ra},{provide:zs,useValue:!0},{provide:wu,useValue:!1},[]])}function kF(){return typeof $localize<"u"&&$localize.locale||ma}var em=new $("",{providedIn:"root",factory:()=>x(em,{optional:!0,skipSelf:!0})||kF()});function xF(t){return mI(t)}function OF(t,e){return Ns(t,e?.equal)}var tm=class{[Oe];constructor(e){this[Oe]=e}destroy(){this[Oe].destroy()}};function FF(t,e){let n=e?.injector??x(Be),r=e?.manualCleanup!==!0?n.get(rn):null,i,o=n.get(ti,null,{optional:!0}),s=n.get(yt);return o!==null?(i=jF(o.view,s,t),r instanceof Fs&&r._lView===o.view&&(r=null)):i=BF(t,n.get(Gs),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new tm(i)}var mC=ye(pe({},yI),{cleanupFns:void 0,zone:null,onDestroyFn:ni,run(){let t=to(!1);try{vI(this)}finally{to(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=z(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],z(t)}}}),LF=ye(pe({},mC),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Zn(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),VF=ye(pe({},mC),{consumerMarkedDirty(){this.view[H]|=8192,rr(this.view),this.notifier.notify(13)},destroy(){Zn(this),this.onDestroyFn(),this.cleanup(),this.view[Dn]?.delete(this)}});function jF(t,e,n){let r=Object.create(VF);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=yC(r,n),t[Dn]??=new Set,t[Dn].add(r),r.consumerMarkedDirty(r),r}function BF(t,e,n){let r=Object.create(LF);return r.fn=yC(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function yC(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}var sm={JSACTION:"__jsaction",OWNER:"__owner"},IC={};function UF(t){return t[sm.JSACTION]}function vC(t,e){t[sm.JSACTION]=e}function $F(t){return IC[t]}function HF(t,e){IC[t]=e}var j={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},qF=[j.MOUSEENTER,j.MOUSELEAVE,"pointerenter","pointerleave"],tW=[j.CLICK,j.DBLCLICK,j.FOCUSIN,j.FOCUSOUT,j.KEYDOWN,j.KEYUP,j.KEYPRESS,j.MOUSEOVER,j.MOUSEOUT,j.SUBMIT,j.TOUCHSTART,j.TOUCHEND,j.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],zF=[j.FOCUS,j.BLUR,j.ERROR,j.LOAD,j.TOGGLE],am=t=>zF.indexOf(t)>=0;function GF(t){return t===j.MOUSEENTER?j.MOUSEOVER:t===j.MOUSELEAVE?j.MOUSEOUT:t===j.POINTERENTER?j.POINTEROVER:t===j.POINTERLEAVE?j.POINTEROUT:t}function WF(t,e,n,r){let i=!1;am(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function KF(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function QF(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var _C=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function YF(t){return t.which===2||t.which==null&&t.button===4}function ZF(t){return _C&&t.metaKey||!_C&&t.ctrlKey||YF(t)||t.shiftKey}function JF(t,e,n){let r=t.relatedTarget;return(t.type===j.MOUSEOVER&&e===j.MOUSEENTER||t.type===j.MOUSEOUT&&e===j.MOUSELEAVE||t.type===j.POINTEROVER&&e===j.POINTERENTER||t.type===j.POINTEROUT&&e===j.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function XF(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===j.MOUSEOVER?n.type=j.MOUSEENTER:t.type===j.MOUSEOUT?n.type=j.MOUSELEAVE:t.type===j.POINTEROVER?n.type=j.POINTERENTER:n.type=j.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var eL=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Sl=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){eL&&(this.element.style.cursor="pointer"),this.handlerInfos.push(WF(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)KF(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},tL={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function dr(t){return t.eventType}function cm(t,e){t.eventType=e}function bl(t){return t.event}function wC(t,e){t.event=e}function TC(t){return t.targetElement}function DC(t,e){t.targetElement=e}function bC(t){return t.eic}function nL(t,e){t.eic=e}function rL(t){return t.timeStamp}function iL(t,e){t.timeStamp=e}function Cl(t){return t.eia}function CC(t,e,n){t.eia=[e,n]}function nm(t){t.eia=void 0}function Dl(t){return t[1]}function oL(t){return t.eirp}function SC(t,e){t.eirp=e}function AC(t){return t.eir}function RC(t,e){t.eir=e}function NC(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function sL(t,e,n,r,i,o,s,c){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:c}}var rm=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return dr(this.eventInfo)}setEventType(e){cm(this.eventInfo,e)}getEvent(){return bl(this.eventInfo)}setEvent(e){wC(this.eventInfo,e)}getTargetElement(){return TC(this.eventInfo)}setTargetElement(e){DC(this.eventInfo,e)}getContainer(){return bC(this.eventInfo)}setContainer(e){nL(this.eventInfo,e)}getTimestamp(){return rL(this.eventInfo)}setTimestamp(e){iL(this.eventInfo,e)}getAction(){let e=Cl(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){nm(this.eventInfo);return}CC(this.eventInfo,e.name,e.element)}getIsReplay(){return oL(this.eventInfo)}setIsReplay(e){SC(this.eventInfo,e)}getResolved(){return AC(this.eventInfo)}setResolved(e){RC(this.eventInfo,e)}clone(){return new t(NC(this.eventInfo))}},aL={},cL=/\s*;\s*/,uL=j.CLICK,im=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&dr(e)===j.CLICK&&ZF(bl(e))?cm(e,j.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){AC(e)||(this.populateAction(e,TC(e)),RC(e,!0))}resolveParentAction(e){let n=Cl(e),r=n&&Dl(n);nm(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==bC(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!Cl(e));)r=this.getParentNode(r);let i=Cl(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(dr(e)===j.MOUSEENTER||dr(e)===j.MOUSELEAVE||dr(e)===j.POINTERENTER||dr(e)===j.POINTERLEAVE)))if(JF(bl(e),dr(e),Dl(i))){let o=XF(bl(e),Dl(i));wC(e,o),DC(e,Dl(i))}else nm(e)}getParentNode(e){let n=e[sm.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[dr(n)];i!==void 0&&CC(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=UF(e);if(!n){let r=e.getAttribute(Tu.JSACTION);if(!r)n=aL,vC(e,n);else{if(n=$F(r),!n){n={};let i=r.split(cL);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let c=s.indexOf(tL.EVENT_ACTION_SEPARATOR),u=c!==-1,l=u?s.substr(0,c).trim():uL,f=u?s.substr(c+1).trim():s;n[l]=f}HF(r,n)}vC(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},PC=(function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t})(PC||{}),om=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new rm(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&lL(r.element,n)&&QF(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function lL(t,e){return t.tagName==="A"&&(e.getEventType()===j.CLICK||e.getEventType()===j.CLICKMOD)}var MC=Symbol.for("propagationStopped"),um={REPLAY:101};var dL="`preventDefault` called during event replay.";var fL="`composedPath` called during event replay.",Al=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new im({clickModSupport:n}),this.dispatcher=new om(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&gL(e),hL(e);e.getAction();){if(mL(e),am(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),pL(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function hL(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[MC]=!0,n()};ui(e,"stopPropagation",r),ui(e,"stopImmediatePropagation",r)}function pL(t){return!!t.getEvent()[MC]}function gL(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);ui(e,"target",n),ui(e,"eventPhase",um.REPLAY),ui(e,"preventDefault",()=>{throw r(),new Error(dL+"")}),ui(e,"composedPath",()=>{throw new Error(fL+"")})}function mL(t){let e=t.getEvent(),n=t.getAction()?.element;n&&ui(e,"currentTarget",n,{configurable:!0})}function ui(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function kC(t,e){t.ecrd(n=>{e.dispatch(n)},PC.I_AM_THE_JSACTION_FRAMEWORK)}function yL(t){return t?.q??[]}function vL(t){t&&(EC(t.c,t.et,t.h),EC(t.c,t.etc,t.h,!0))}function EC(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var _L=!1,xC=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=_L;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=sL(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){SC(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&qF.indexOf(n)>=0)return;let o=(c,u,l)=>{this.handleEvent(c,u,l)};this.eventHandlers[n]=o;let s=GF(r||n);if(s!==n){let c=this.browserEventTypeToExtraEventTypes[s]||[];c.push(n),this.browserEventTypeToExtraEventTypes[s]=c}this.containerManager.addEventListener(s,c=>u=>{o(n,u,c)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),vL(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let c=NC(i);cm(c,o[s]),this.handleEventInfo(c)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function OC(t,e=window){return yL(e._ejsas?.[t])}function lm(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var qC=Symbol("InputSignalNode#UNSET"),DL=ye(pe({},Ps),{transformFn:void 0,applyValueToInputSignal(t,e){Gi(t,e)}});function zC(t,e){let n=Object.create(DL);n.value=t,n.transformFn=e?.transform;function r(){if(Lr(n),n.value===qC){let i=null;throw new ee(-950,i)}return n.value}return r[Oe]=n,r}var FC=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Yp(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},bL=new $("");bL.__NG_ELEMENT_ID__=t=>{let e=Ve();if(e===null)throw new ee(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new ee(204,!1)};function LC(t,e){return zC(t,e)}function CL(t){return zC(qC,t)}var JQ=(LC.required=CL,LC);function VC(t,e){return xg(e)}function SL(t,e){return Og(e)}var XQ=(VC.required=SL,VC);function jC(t,e){return xg(e)}function AL(t,e){return Og(e)}var eY=(jC.required=AL,jC);var wo=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},GC=new wo("20.3.0");var fm=new $(""),RL=new $("");function ya(t){return!t.moduleRef}function NL(t){let e=ya(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ie);return n.run(()=>{ya(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(on),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),ya(t)){let o=()=>e.destroy(),s=t.platformInjector.get(fm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(fm);s.add(o),t.moduleRef.onDestroy(()=>{Ks(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return ML(r,n,()=>{let o=e.get(Sn),s=o.add(),c=e.get(zg);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(em,ma);if(Qb(u||ma),!e.get(RL,!0))return ya(t)?e.get(Mn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ya(t)){let f=e.get(Mn);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return PL?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var PL;function ML(t,e,n){try{let r=n();return Hg(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Nl=null;function kL(t=[],e){return Be.create({name:e,providers:[{provide:Dh,useValue:"platform"},{provide:fm,useValue:new Set([()=>Nl=null])},...t]})}function xL(t=[]){if(Nl)return Nl;let e=kL(t);return Nl=e,Ob(),OL(e),e}function OL(t){let e=t.get(CT,null);er(t,()=>{e?.forEach(n=>n())})}function pm(){return!1}var WC=(()=>{class t{static __NG_ELEMENT_ID__=FL}return t})();function FL(t){return LL(Ve(),W(),(t&16)===16)}function LL(t,e,n){if(bn(t)&&!n){let r=Rt(t.index,e);return new ar(r,r)}else if(t.type&175){let r=e[Ge];return new ar(r,e)}return null}function tY(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;ue(8);try{let o=i?.injector??xL(r),s=[pC({}),{provide:yt,useExisting:Xg},dw,...n||[]],c=new ta({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return NL({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{ue(9)}}var Rl=new WeakSet,BC="",Pl=[];function UC(t){return t.get(ng,LT)}function nY(){let t=[{provide:ng,useFactory:()=>{let e=!0;{let n=x(ci);e=!!window._ejsas?.[n]}return e&&Ht("NgEventReplay"),e}}];return t.push({provide:Zt,useValue:()=>{let e=x(Mn),{injector:n}=e;if(!Rl.has(e)){let r=x(rg);if(UC(n)){zT();let i=n.get(ci),o=HT(i,(s,c,u)=>{s.nodeType===Node.ELEMENT_NODE&&(jT(s,c,u),BT(s,r))});e.onDestroy(o)}}},multi:!0},{provide:Tl,useFactory:()=>{let e=x(Mn),{injector:n}=e;return()=>{if(!UC(n)||Rl.has(e))return;Rl.add(e);let r=n.get(ci);e.onDestroy(()=>{Rl.delete(e),lm(r)}),e.whenStable().then(()=>{if(e.destroyed)return;let i=n.get($T);VL(i,n);let o=n.get(rg);o.get(BC)?.forEach(UT),o.delete(BC);let s=i.instance;JT(n)?e.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),t}var VL=(t,e)=>{let n=e.get(ci),r=window._ejsas[n],i=t.instance=new xC(new Sl(r.c));for(let c of r.et)i.addEvent(c);for(let c of r.etc)i.addEvent(c);let o=OC(n);i.replayEarlyEventInfos(o),lm(n);let s=new Al(c=>{jL(e,c,c.currentTarget)});kC(i,s)};function jL(t,e,n){let r=(n&&n.getAttribute(ua))??"";/d\d+/.test(r)?BL(r,t,e,n):e.eventPhase===um.REPLAY&&ig(e,n)}function BL(t,e,n,r){Pl.push({event:n,currentTarget:r}),Vb(e,t,UL)}function UL(t){let e=[...Pl],n=new Set(t);Pl=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(ua);n.has(o)?ig(r,i):Pl.push({event:r,currentTarget:i})}}var $C=!1;function $L(){$C||($C=!0,QT(),Hb(),cC(),Wb(),Cb(),ub(),QD(),PD())}function HL(t){return t.whenStable()}function rY(){let t=[{provide:ca,useFactory:()=>{let e=!0;return e=!!x(aa,{optional:!0})?.get(og,null),e&&Ht("NgHydration"),e}},{provide:Zt,useValue:()=>{zD(!1),x(ca)&&(tD(sa()),$L())},multi:!0}];return t.push({provide:tg,useFactory:()=>x(ca)},{provide:Tl,useFactory:()=>{if(x(ca)){let e=x(Mn);return()=>{HL(e).then(()=>{e.destroyed||Ag(e)})}}return()=>{}},multi:!0}),Vt(t)}function qL(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function zL(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}var dm=Symbol("NOT_SET"),KC=new Set,GL=ye(pe({},Ps),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:dm,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(t){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==dm&&!jr(this))return this.signal;try{for(let i of this.cleanup??KC)i()}finally{this.cleanup?.clear()}let e=[];t!==void 0&&e.push(t),e.push(this.registerCleanupFn);let n=Yn(this),r;try{r=this.userFn.apply(null,e)}finally{Vr(this,n)}return(this.value===dm||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),hm=class extends ia{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(e,n,r,i,o,s=null){super(e,[void 0,void 0,void 0,void 0],r,!1,o.get(rn),s),this.scheduler=i;for(let c of Ug){let u=n[c];if(u===void 0)continue;let l=Object.create(GL);l.sequence=this,l.phase=c,l.userFn=u,l.dirty=!0,l.signal=()=>(Lr(l),l.value),l.signal[Oe]=l,l.registerCleanupFn=f=>(l.cleanup??=new Set).add(f),this.nodes[c]=l,this.hooks[c]=f=>l.phaseFn(f)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let e of this.nodes)if(e)try{for(let n of e.cleanup??KC)n()}finally{Zn(e)}}};function iY(t,e){let n=e?.injector??x(Be),r=n.get(yt),i=n.get(wl),o=n.get(Eo,null,{optional:!0});i.impl??=n.get($g);let s=t;typeof s=="function"&&(s={mixedReadWrite:t});let c=n.get(ti,null,{optional:!0}),u=new hm(i.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],c?.view,r,n,o?.snapshot(null));return i.impl.register(u),u}function oY(t,e){let n=Lt(t),r=e.elementInjector||Yi();return new cr(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}function sY(t){let e=Lt(t);if(!e)return null;let n=new cr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ZC=null;function kl(){return ZC}function WL(t){ZC??=t}var gm=class{},va=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:()=>x(JC),providedIn:"platform"})}return t})(),KL=new $(""),JC=(()=>{class t extends va{_location;_history;_doc=x(or);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kl().getBaseHref(this._doc)}onPopState(n){let r=kl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=kl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function xl(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function QC(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function qt(t){return t&&t[0]!=="?"?`?${t}`:t}var To=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:()=>x(XC),providedIn:"root"})}return t})(),Ol=new $(""),XC=(()=>{class t extends To{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(or).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return xl(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+qt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+qt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+qt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Fe(va),Fe(Ol,8))};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eS=(()=>{class t{_subject=new ft;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=ZL(QC(YC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+qt(r))}normalize(n){return t.stripTrailingSlash(YL(this._basePath,YC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=qt;static joinWithSlash=xl;static stripTrailingSlash=QC;static \u0275fac=function(r){return new(r||t)(Fe(To))};static \u0275prov=ie({token:t,factory:()=>QL(),providedIn:"root"})}return t})();function QL(){return new eS(Fe(To))}function YL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function YC(t){return t.replace(/\/index.html$/,"")}function ZL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var JL=(()=>{class t extends To{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=xl(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+qt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+qt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Fe(va),Fe(Ol,8))};static \u0275prov=ie({token:t,factory:t.\u0275fac})}return t})();var mm=/\s+/,tS=[],XL=(()=>{class t{_ngEl;_renderer;initialClasses=tS;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(mm):tS}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(mm):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(mm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(lr(ur),lr(_l))};static \u0275dir=El({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var eV=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||t)(lr(_o))};static \u0275dir=El({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Kp]})}return t})();var tV=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Lg({type:t});static \u0275inj=nu({})}return t})();function nV(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ym=class{};var iV="browser";function xZ(t){return t===iV}var OZ=(()=>{class t{static \u0275prov=ie({token:t,providedIn:"root",factory:()=>new vm(x(or),window)})}return t})(),vm=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(ye(pe({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=oV(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(zr(2400,!1))}}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ye(pe({},n),{left:i-s[0],top:o-s[1]}))}};function oV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var nS=()=>{};var oS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Fl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Em;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Em=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},aV=function(t){let e=oS(t);return Fl.encodeByteArray(e,!0)},Ea=function(t){return aV(t).replace(/\./g,"")},Ll=function(t){try{return Fl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var cV=()=>wm().__FIREBASE_DEFAULTS__,uV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ll(t[1]);return e&&JSON.parse(e)},Vl=()=>{try{return nS()||cV()||uV()||lV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sS=t=>{var e,n;return(n=(e=Vl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},aS=t=>{let e=sS(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Tm=()=>{var t;return(t=Vl())===null||t===void 0?void 0:t.config},cS=t=>{var e;return(e=Vl())===null||e===void 0?void 0:e[`_${t}`]};var li=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function di(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dm(t){return(await fetch(t,{credentials:"include"})).ok}function uS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ea(JSON.stringify(n)),Ea(JSON.stringify(s)),""].join(".")}var _a={};function dV(){let t={prod:[],emulator:[]};for(let e of Object.keys(_a))_a[e]?t.emulator.push(e):t.prod.push(e);return t}function fV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var rS=!1;function bm(t,e){if(typeof window>"u"||typeof document>"u"||!di(window.location.host)||_a[t]===e||_a[t]||rS)return;_a[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=dV().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{rS=!0,s()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=fV(r),y=n("text"),b=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),R=document.getElementById(A)||document.createElement("a"),k=n("preprendIcon"),V=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let J=m.element;c(J),f(R,A);let ge=l();u(V,k),J.append(V,b,R,ge),document.body.appendChild(J)}o?(b.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function hV(){var t;let e=(t=Vl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pS(){return!hV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ia(){try{return typeof indexedDB=="object"}catch{return!1}}function gS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var pV="FirebaseError",Pt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zt.prototype.create)}},zt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?gV(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Pt(i,c,r)}};function gV(t,e){return t.replace(mV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var mV=/\{\$([^}]+)}/g;function fi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(iS(o)&&iS(s)){if(!fi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function iS(t){return t!==null&&typeof t=="object"}function Cm(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mS(t,e){let n=new Im(t,e);return n.subscribe.bind(n)}var Im=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_m),i.error===void 0&&(i.error=_m),i.complete===void 0&&(i.complete=_m);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function yV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _m(){}var qZ=14400*1e3;function ut(t){return t&&t._delegate?t._delegate:t}var lt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var hi="[DEFAULT]";var Sm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new li;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_V(e))try{this.getOrInitializeService({instanceIdentifier:hi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hi){return this.instances.has(e)}getOptions(e=hi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hi){return this.component?this.component.multipleInstances?e:hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function vV(t){return t===hi?void 0:t}function _V(t){return t.instantiationMode==="EAGER"}var jl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Sm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var EV=[],ne=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(ne||{}),IV={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},wV=ne.INFO,TV={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},DV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=TV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},cn=class{constructor(e){this.name=e,this._logLevel=wV,this._logHandler=DV,this._userLogHandler=null,EV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var bV=(t,e)=>e.some(n=>t instanceof n),yS,vS;function CV(){return yS||(yS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SV(){return vS||(vS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var _S=new WeakMap,Rm=new WeakMap,ES=new WeakMap,Am=new WeakMap,Pm=new WeakMap;function AV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(un(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&_S.set(n,t)}).catch(()=>{}),Pm.set(e,t),e}function RV(t){if(Rm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Rm.set(t,e)}var Nm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ES.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IS(t){Nm=t(Nm)}function NV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Bl(this),e,...n);return ES.set(r,e.sort?e.sort():[e]),un(r)}:SV().includes(t)?function(...e){return t.apply(Bl(this),e),un(_S.get(this))}:function(...e){return un(t.apply(Bl(this),e))}}function PV(t){return typeof t=="function"?NV(t):(t instanceof IDBTransaction&&RV(t),bV(t,CV())?new Proxy(t,Nm):t)}function un(t){if(t instanceof IDBRequest)return AV(t);if(Am.has(t))return Am.get(t);let e=PV(t);return e!==t&&(Am.set(t,e),Pm.set(e,t)),e}var Bl=t=>Pm.get(t);function TS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=un(s);return r&&s.addEventListener("upgradeneeded",u=>{r(un(s.result),u.oldVersion,u.newVersion,un(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var MV=["get","getKey","getAll","getAllKeys","count"],kV=["put","add","delete","clear"],Mm=new Map;function wS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=kV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MV.includes(n)))return;let o=async function(s,...c){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(await Promise.all([l[n](...c),i&&u.done]))[0]};return Mm.set(e,o),o}IS(t=>ye(pe({},t),{get:(e,n,r)=>wS(e,n)||t.get(e,n,r),has:(e,n)=>!!wS(e,n)||t.has(e,n)}));var xm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function xV(t){let e=t.getComponent();return e?.type==="VERSION"}var Om="@firebase/app",DS="0.13.2";var kn=new cn("@firebase/app"),OV="@firebase/app-compat",FV="@firebase/analytics-compat",LV="@firebase/analytics",VV="@firebase/app-check-compat",jV="@firebase/app-check",BV="@firebase/auth",UV="@firebase/auth-compat",$V="@firebase/database",HV="@firebase/data-connect",qV="@firebase/database-compat",zV="@firebase/functions",GV="@firebase/functions-compat",WV="@firebase/installations",KV="@firebase/installations-compat",QV="@firebase/messaging",YV="@firebase/messaging-compat",ZV="@firebase/performance",JV="@firebase/performance-compat",XV="@firebase/remote-config",e2="@firebase/remote-config-compat",t2="@firebase/storage",n2="@firebase/storage-compat",r2="@firebase/firestore",i2="@firebase/ai",o2="@firebase/firestore-compat",s2="firebase",a2="11.10.0";var Fm="[DEFAULT]",c2={[Om]:"fire-core",[OV]:"fire-core-compat",[LV]:"fire-analytics",[FV]:"fire-analytics-compat",[jV]:"fire-app-check",[VV]:"fire-app-check-compat",[BV]:"fire-auth",[UV]:"fire-auth-compat",[$V]:"fire-rtdb",[HV]:"fire-data-connect",[qV]:"fire-rtdb-compat",[zV]:"fire-fn",[GV]:"fire-fn-compat",[WV]:"fire-iid",[KV]:"fire-iid-compat",[QV]:"fire-fcm",[YV]:"fire-fcm-compat",[ZV]:"fire-perf",[JV]:"fire-perf-compat",[XV]:"fire-rc",[e2]:"fire-rc-compat",[t2]:"fire-gcs",[n2]:"fire-gcs-compat",[r2]:"fire-fst",[o2]:"fire-fst-compat",[i2]:"fire-vertex","fire-js":"fire-js",[s2]:"fire-js-all"};var wa=new Map,u2=new Map,Lm=new Map;function bS(t,e){try{t.container.addComponent(e)}catch(n){kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gt(t){let e=t.name;if(Lm.has(e))return kn.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,t);for(let n of wa.values())bS(n,t);for(let n of u2.values())bS(n,t);return!0}function Ul(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t==null?!1:t.settings!==void 0}var l2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new zt("app","Firebase",l2);var Vm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}};var Do=a2;function Um(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Fm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw fr.create("bad-app-name",{appName:String(i)});if(n||(n=Tm()),!n)throw fr.create("no-options");let o=wa.get(i);if(o){if(fi(n,o.options)&&fi(r,o.config))return o;throw fr.create("duplicate-app",{appName:i})}let s=new jl(i);for(let u of Lm.values())s.addComponent(u);let c=new Vm(n,r,s);return wa.set(i,c),c}function bo(t=Fm){let e=wa.get(t);if(!e&&t===Fm&&Tm())return Um();if(!e)throw fr.create("no-app",{appName:t});return e}function $l(){return Array.from(wa.values())}function Ae(t,e,n){var r;let i=(r=c2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kn.warn(c.join(" "));return}Gt(new lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var d2="firebase-heartbeat-database",f2=1,Ta="firebase-heartbeat-store",km=null;function RS(){return km||(km=TS(d2,f2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ta)}catch(n){console.warn(n)}}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),km}async function h2(t){try{let n=(await RS()).transaction(Ta),r=await n.objectStore(Ta).get(NS(t));return await n.done,r}catch(e){if(e instanceof Pt)kn.warn(e.message);else{let n=fr.create("idb-get",{originalErrorMessage:e?.message});kn.warn(n.message)}}}async function CS(t,e){try{let r=(await RS()).transaction(Ta,"readwrite");await r.objectStore(Ta).put(e,NS(t)),await r.done}catch(n){if(n instanceof Pt)kn.warn(n.message);else{let r=fr.create("idb-set",{originalErrorMessage:n?.message});kn.warn(r.message)}}}function NS(t){return`${t.name}!${t.options.appId}`}var p2=1024,g2=30,jm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Bm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=SS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>g2){let s=y2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){kn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=SS(),{heartbeatsToSend:r,unsentEntries:i}=m2(this._heartbeatsCache.heartbeats),o=Ea(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return kn.warn(n),""}}};function SS(){return new Date().toISOString().substring(0,10)}function m2(t,e=p2){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),AS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Bm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ia()?gS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await h2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return CS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return CS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function AS(t){return Ea(JSON.stringify({version:2,heartbeats:t})).length}function y2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function v2(t){Gt(new lt("platform-logger",e=>new xm(e),"PRIVATE")),Gt(new lt("heartbeat",e=>new jm(e),"PRIVATE")),Ae(Om,DS,t),Ae(Om,DS,"esm2017"),Ae("fire-js","")}v2("");var _2="firebase",E2="11.10.0";Ae(_2,E2,"app");function PS(t){t===void 0&&(t=x(Be));let e=t.get(sr);return n=>new X(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var gi=new wo("ANGULARFIRE2_VERSION");function ql(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var So=(t,e)=>{let n=e?[e]:$l(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Co=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(Co||{}),MS=pm()&&typeof Zone<"u"?Co.WARN:Co.SILENT;var Hl=class{zone;delegate;constructor(e,n=Ff){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},mi=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=x(Ie);this.outsideAngular=n.runOutsideAngular(()=>new Hl(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Hl(typeof Zone>"u"?void 0:Zone.current,Wn))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kS=!1;function I2(t,e){!kS&&(MS>Co.SILENT||pm())&&(kS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),MS>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function w2(t){let e=x(Ie,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function pi(t){let e=x(Ie,{optional:!0});return e?e.run(()=>t()):t()}var T2=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),er(n,()=>pi(()=>t.apply(void 0,r)))),Mt=(t,e,n)=>(n||=e?Co.WARN:Co.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=x(mi),s=x(sr),c=x(ot)}catch{return I2(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=pi(()=>s.add())),i[l]=T2(i[l],r,c));let u=w2(()=>t.apply(this,i));return e?u instanceof X?u.pipe(Qn(o.outsideAngular),Kn(o.insideAngular),PS(c)):u instanceof Promise?pi(()=>{let l=s.add();return new Promise((f,p)=>{u.then(m=>er(c,()=>pi(()=>f(m))),m=>er(c,()=>pi(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:pi(()=>u):u instanceof X?u.pipe(Qn(o.outsideAngular),Kn(o.insideAngular)):pi(()=>u)});var yi=class{constructor(e){return e}},Da=class{constructor(){return $l()}};function D2(t){return t&&t.length===1?t[0]:new yi(bo())}var $m=new $("angularfire2._apps"),b2={provide:yi,useFactory:D2,deps:[[new Nn,$m]]},C2={provide:Da,deps:[[new Nn,$m]]};function S2(t){return(e,n)=>{let r=n.get(Jp);Ae("angularfire",gi.full,"core"),Ae("angularfire",gi.full,"app"),Ae("angular",GC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new yi(i)}}function OJ(t,...e){return Vt([b2,C2,{provide:$m,useFactory:S2(t),multi:!0,deps:[Ie,Be,mi,...e]}])}var FJ=Mt(Um,!0);var A2=new Map,R2={activated:!1,tokenObservers:[]},N2={initialized:!1,enabled:!1};function Wt(t){return A2.get(t)||Object.assign({},R2)}function LS(){return N2}var P2="https://content-firebaseappcheck.googleapis.com/v1";var M2="exchangeDebugToken",xS={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},zJ=1440*60*1e3;var zm=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new li,this.pending.promise.catch(n=>{}),await k2(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new li,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function k2(t){return new Promise(e=>{setTimeout(e,t)})}var x2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},hr=new zt("appCheck","AppCheck",x2);function VS(t){if(!Wt(t).activated)throw hr.create("use-before-activation",{appName:t.name})}async function jS({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(t,o)}catch(p){throw hr.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw hr.create("fetch-status-error",{httpStatus:s.status});let c;try{c=await s.json()}catch(p){throw hr.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw hr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let l=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+l,issuedAtTimeMillis:f}}function BS(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${P2}/projects/${n}/apps/${r}:${M2}?key=${i}`,body:{debug_token:e}}}var O2="firebase-app-check-database",F2=1,Gm="firebase-app-check-store";var zl=null;function L2(){return zl||(zl=new Promise((t,e)=>{try{let n=indexedDB.open(O2,F2);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(hr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Gm,{keyPath:"compositeKey"})}}}catch(n){e(hr.create("storage-open",{originalErrorMessage:n?.message}))}}),zl)}function V2(t,e){return j2(B2(t),e)}async function j2(t,e){let r=(await L2()).transaction(Gm,"readwrite"),o=r.objectStore(Gm).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(hr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function B2(t){return`${t.options.appId}-${t.name}`}var ba=new cn("@firebase/app-check");function Hm(t,e){return Ia()?V2(t,e).catch(n=>{ba.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function US(){return LS().enabled}async function $S(){let t=LS();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var U2={error:"UNKNOWN_ERROR"};function $2(t){return Fl.encodeString(JSON.stringify(t),!1)}async function Wm(t,e=!1,n=!1){let r=t.app;VS(r);let i=Wt(r),o=i.token,s;if(o&&!Ca(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(Ca(l)?o=l:await Hm(r,void 0))}if(!e&&o&&Ca(o))return{token:o.token};let c=!1;if(US())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=jS(BS(r,await $S()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=await i.exchangeTokenPromise;return await Hm(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ba.warn(l.message):n&&ba.error(l),qm(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=await Wt(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ba.warn(l.message):n&&ba.error(l),s=l}let u;return o?s?Ca(o)?u={token:o.token,internalError:s}:u=qm(s):(u={token:o.token},i.token=o,await Hm(r,o)):u=qm(s),c&&G2(r,u),u}async function H2(t){let e=t.app;VS(e);let{provider:n}=Wt(e);if(US()){let r=await $S(),{token:i}=await jS(BS(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function q2(t,e,n,r){let{app:i}=t,o=Wt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ca(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),OS(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>OS(t))}function HS(t,e){let n=Wt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function OS(t){let{app:e}=t,n=Wt(e),r=n.tokenRefresher;r||(r=z2(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function z2(t){let{app:e}=t;return new zm(async()=>{let n=Wt(e),r;if(n.token?r=await Wm(t,!0):r=await Wm(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=Wt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},xS.RETRIAL_MIN_WAIT,xS.RETRIAL_MAX_WAIT)}function G2(t,e){let n=Wt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ca(t){return t.expireTimeMillis-Date.now()>0}function qm(t){return{token:$2(U2),error:t}}var Km=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Wt(this.app);for(let n of e)HS(this.app,n.next);return Promise.resolve()}};function W2(t,e){return new Km(t,e)}function K2(t){return{getToken:e=>Wm(t,e),getLimitedUseToken:()=>H2(t),addTokenListener:e=>q2(t,"INTERNAL",e),removeTokenListener:e=>HS(t.app,e)}}var Q2="@firebase/app-check",Y2="0.10.1";var Z2="app-check",FS="app-check-internal";function J2(){Gt(new lt(Z2,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return W2(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(FS).initialize()})),Gt(new lt(FS,t=>{let e=t.getProvider("app-check").getImmediate();return K2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ae(Q2,Y2)}J2();var X2="app-check";var Gl=class{constructor(){return So(X2)}};var ej=["localhost","0.0.0.0","127.0.0.1"],rX=typeof window<"u"&&ej.includes(window.location.hostname);function ZS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var JS=ZS,XS=new zt("auth","Firebase",ZS());var Yl=new cn("@firebase/auth");function tj(t,...e){Yl.logLevel<=ne.WARN&&Yl.warn(`Auth (${Do}): ${t}`,...e)}function Kl(t,...e){Yl.logLevel<=ne.ERROR&&Yl.error(`Auth (${Do}): ${t}`,...e)}function qS(t,...e){throw sy(t,...e)}function oy(t,...e){return sy(t,...e)}function eA(t,e,n){let r=Object.assign(Object.assign({},JS()),{[e]:n});return new zt("auth","Firebase",r).create(e,{appName:t.name})}function Ql(t){return eA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XS.create(t,...e)}function le(t,e,...n){if(!t)throw sy(e,...n)}function Sa(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Kl(e),new Error(e)}function Zl(t,e){t||Sa(e)}function nj(){return zS()==="http:"||zS()==="https:"}function zS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function rj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nj()||fS()||"connection"in navigator)?navigator.onLine:!0}function ij(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ei=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zl(n>e,"Short delay should be less than long delay!"),this.isMobile=lS()||hS()}get(){return rj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function oj(t,e){Zl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Jl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var sj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var aj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cj=new Ei(3e4,6e4);function tA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rd(t,e,n,r,i={}){return nA(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let c=Cm(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=Object.assign({method:e,headers:u},o);return dS()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&di(t.emulatorConfig.host)&&(l.credentials="include"),Jl.fetch()(await rA(t,t.config.apiHost,n,c),l)})}async function nA(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},sj),e);try{let i=new Zm(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Wl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wl(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Wl(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Wl(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw eA(t,f,l);qS(t,f)}}catch(i){if(i instanceof Pt)throw i;qS(t,"network-request-failed",{message:String(i)})}}async function rA(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?oj(t.config,i):`${t.config.apiScheme}://${i}`;return aj.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var Zm=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oy(this.auth,"network-request-failed")),cj.get())})}};function Wl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=oy(t,e,r);return i.customData._tokenResponse=n,i}async function uj(t,e){return rd(t,"POST","/v1/accounts:delete",e)}async function Xl(t,e){return rd(t,"POST","/v1/accounts:lookup",e)}function Aa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ay(t,e=!1){let n=ut(t),r=await n.getIdToken(e),i=iA(r);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Aa(Qm(i.auth_time)),issuedAtTime:Aa(Qm(i.iat)),expirationTime:Aa(Qm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Qm(t){return Number(t)*1e3}function iA(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ll(n);return i?JSON.parse(i):(Kl("Failed to decode base64 JWT payload"),null)}catch(i){return Kl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function GS(t){let e=iA(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Jm(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pt&&lj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Xm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Na=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Aa(this.lastLoginAt),this.creationTime=Aa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function ed(t){var e;let n=t.auth,r=await t.getIdToken(),i=await Jm(t,Xl(n,{idToken:r}));le(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?oA(o.providerUserInfo):[],c=dj(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Na(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function cy(t){let e=ut(t);await ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oA(t){return t.map(e=>{var{providerId:n}=e,r=Vf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function fj(t,e){let n=await nA(t,{},async()=>{let r=Cm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await rA(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return t.emulatorConfig&&di(t.emulatorConfig.host)&&(u.credentials="include"),Jl.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hj(t,e){return rd(t,"POST","/v2/accounts:revokeToken",tA(t,e))}var Ra=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");let n=GS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await fj(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(le(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(le(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Sa("not implemented")}};function pr(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var vi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Vf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Na(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await Jm(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ay(this,e)}reload(){return cy(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ed(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Ql(this.auth));let e=await this.getIdToken();return await Jm(this,uj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=n.photoURL)!==null&&s!==void 0?s:void 0,A=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,V=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:J,emailVerified:ge,isAnonymous:tt,providerData:he,stsTokenManager:w}=n;le(J&&w,e,"internal-error");let v=Ra.fromJSON(this.name,w);le(typeof J=="string",e,"internal-error"),pr(p,e.name),pr(m,e.name),le(typeof ge=="boolean",e,"internal-error"),le(typeof tt=="boolean",e,"internal-error"),pr(y,e.name),pr(b,e.name),pr(A,e.name),pr(R,e.name),pr(k,e.name),pr(V,e.name);let E=new t({uid:J,auth:e,email:m,emailVerified:ge,displayName:p,isAnonymous:tt,photoURL:b,phoneNumber:y,tenantId:A,stsTokenManager:v,createdAt:k,lastLoginAt:V});return he&&Array.isArray(he)&&(E.providerData=he.map(I=>Object.assign({},I))),R&&(E._redirectEventId=R),E}static async _fromIdTokenResponse(e,n,r=!1){let i=new Ra;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ed(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];le(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?oA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Ra;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Na(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var WS=new Map;function _i(t){Zl(t instanceof Function,"Expected a class definition");let e=WS.get(t);return e?(Zl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WS.set(t,e),e)}var pj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ey=pj;function Ym(t,e,n){return`firebase:${t}:${e}:${n}`}var td=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ym(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ym("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Xl(this.auth,{idToken:e}).catch(()=>{});return n?vi._fromGetAccountInfoResponse(this.auth,n,e):null}return vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(_i(ey),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||_i(ey),s=Ym(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=await l._get(s);if(f){let p;if(typeof f=="string"){let m=await Xl(e,{idToken:f}).catch(()=>{});if(!m)break;p=await vi._fromGetAccountInfoResponse(e,m,f)}else p=vi._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&await o._set(s,c.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function KS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ej(e))return"Blackberry";if(Ij(e))return"Webos";if(mj(e))return"Safari";if((e.includes("chrome/")||yj(e))&&!e.includes("edge/"))return"Chrome";if(_j(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function gj(t=Dt()){return/firefox\//i.test(t)}function mj(t=Dt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yj(t=Dt()){return/crios\//i.test(t)}function vj(t=Dt()){return/iemobile/i.test(t)}function _j(t=Dt()){return/android/i.test(t)}function Ej(t=Dt()){return/blackberry/i.test(t)}function Ij(t=Dt()){return/webos/i.test(t)}function sA(t,e=[]){let n;switch(t){case"Browser":n=KS(Dt());break;case"Worker":n=`${KS(Dt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Do}/${r}`}var ty=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function wj(t,e={}){return rd(t,"GET","/v2/passwordPolicy",tA(t,e))}var Tj=6,ny=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Tj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var ry=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nd(this),this.idTokenSubscription=new nd(this),this.beforeStateQueue=new ty(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await td.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Xl(this,{idToken:e}),r=await vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ed(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ij()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(Ql(this));let n=e?ut(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Ql(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(Ql(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await wj(this),n=new ny(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&_i(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await td.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&tj(`Error while retrieving App Check token: ${n.error}`),n?.token}};function Dj(t){return ut(t)}var nd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=mS(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var bj={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cj(t){bj=t}function Sj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Aj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_i);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var gX=Sj("rcb"),mX=new Ei(3e4,6e4);var yX=new Ei(2e3,1e4);var vX=600*1e3;var _X=new Ei(3e4,6e4);var EX=new Ei(5e3,15e3);var IX=encodeURIComponent("fac");var QS="@firebase/auth",YS="1.10.8";var iy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Rj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Nj(t){Gt(new lt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;le(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sA(t)},l=new ry(r,i,o,u);return Aj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gt(new lt("auth-internal",e=>{let n=Dj(e.getProvider("auth").getImmediate());return(r=>new iy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ae(QS,YS,Rj(t)),Ae(QS,YS,"esm2017")}var Pj=300,wX=cS("authIdTokenMaxAge")||Pj;function Mj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Cj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=oy("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Mj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Nj("Browser");var NB="auth";var id=class{constructor(){return So(NB)}};var aA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cA={};var On,uy;(function(){var t;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,T,C){for(var _=Array(arguments.length-2),yn=2;yn<arguments.length;yn++)_[yn-2]=arguments[yn];return v.prototype[T].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)I[T]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(T=0;16>T;++T)I[T]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],T=w.g[2];var C=w.g[3],_=v+(C^E&(T^C))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=C+(T^v&(E^T))+I[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(E^C&(v^E))+I[2]+606105819&4294967295,T=C+(_<<17&4294967295|_>>>15),_=E+(v^T&(C^v))+I[3]+3250441966&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(C^E&(T^C))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(T^v&(E^T))+I[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(E^C&(v^E))+I[6]+2821735955&4294967295,T=C+(_<<17&4294967295|_>>>15),_=E+(v^T&(C^v))+I[7]+4249261313&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(C^E&(T^C))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(T^v&(E^T))+I[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(E^C&(v^E))+I[10]+4294925233&4294967295,T=C+(_<<17&4294967295|_>>>15),_=E+(v^T&(C^v))+I[11]+2304563134&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(C^E&(T^C))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(T^v&(E^T))+I[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(E^C&(v^E))+I[14]+2792965006&4294967295,T=C+(_<<17&4294967295|_>>>15),_=E+(v^T&(C^v))+I[15]+1236535329&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(T^C&(E^T))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^T&(v^E))+I[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(C^v))+I[11]+643717713&4294967295,T=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(T^C))+I[0]+3921069994&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^C&(E^T))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^T&(v^E))+I[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(C^v))+I[15]+3634488961&4294967295,T=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(T^C))+I[4]+3889429448&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^C&(E^T))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^T&(v^E))+I[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(C^v))+I[3]+4107603335&4294967295,T=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(T^C))+I[8]+1163531501&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^C&(E^T))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^T&(v^E))+I[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(C^v))+I[7]+1735328473&4294967295,T=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(T^C))+I[12]+2368359562&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(E^T^C)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^T)+I[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^E)+I[11]+1839030562&4294967295,T=C+(_<<16&4294967295|_>>>16),_=E+(T^C^v)+I[14]+4259657740&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^C)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^T)+I[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^E)+I[7]+4139469664&4294967295,T=C+(_<<16&4294967295|_>>>16),_=E+(T^C^v)+I[10]+3200236656&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^C)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^T)+I[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^E)+I[3]+3572445317&4294967295,T=C+(_<<16&4294967295|_>>>16),_=E+(T^C^v)+I[6]+76029189&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^C)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^T)+I[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^E)+I[15]+530742520&4294967295,T=C+(_<<16&4294967295|_>>>16),_=E+(T^C^v)+I[2]+3299628645&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(T^(E|~C))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~T))+I[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~E))+I[14]+2878612391&4294967295,T=C+(_<<15&4294967295|_>>>17),_=E+(C^(T|~v))+I[5]+4237533241&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~C))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~T))+I[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~E))+I[10]+4293915773&4294967295,T=C+(_<<15&4294967295|_>>>17),_=E+(C^(T|~v))+I[1]+2240044497&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~C))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~T))+I[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~E))+I[6]+2734768916&4294967295,T=C+(_<<15&4294967295|_>>>17),_=E+(C^(T|~v))+I[13]+1309151649&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~C))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~T))+I[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~E))+I[2]+718787259&4294967295,T=C+(_<<15&4294967295|_>>>17),_=E+(C^(T|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,T=this.h,C=0;C<v;){if(T==0)for(;C<=E;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(I[T++]=w.charCodeAt(C++),T==this.blockSize){i(this,I),T=0;break}}else for(;C<v;)if(I[T++]=w[C++],T==this.blockSize){i(this,I),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=c;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,T=w.length-1;0<=T;T--){var C=w[T]|0;I&&C==v||(E[T]=C,I=!1)}this.g=E}var c={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function f(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(f(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,T=0;T<w.length;T+=8){var C=Math.min(8,w.length-T),_=parseInt(w.substring(T,T+C),v);8>C?(C=l(Math.pow(v,C)),I=I.j(C).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(A(this))return-R(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(b(this))return"0";if(A(this))return"-"+R(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var T=ge(E,v).g;E=k(E,T.j(v));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=T,b(E))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function b(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function A(w){return w.h==-1}t.l=function(w){return w=k(this,w),A(w)?-1:b(w)?0:1};function R(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}t.abs=function(){return A(this)?R(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,T=0;T<=v;T++){var C=I+(this.i(T)&65535)+(w.i(T)&65535),_=(C>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);I=_>>>16,C&=65535,_&=65535,E[T]=_<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function k(w,v){return w.add(R(v))}t.j=function(w){if(b(this)||b(w))return p;if(A(this))return A(w)?R(this).j(R(w)):R(R(this).j(w));if(A(w))return R(this.j(R(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<w.g.length;T++){var C=this.i(I)>>>16,_=this.i(I)&65535,yn=w.i(T)>>>16,rs=w.i(T)&65535;E[2*I+2*T]+=_*rs,V(E,2*I+2*T),E[2*I+2*T+1]+=C*rs,V(E,2*I+2*T+1),E[2*I+2*T+1]+=_*yn,V(E,2*I+2*T+1),E[2*I+2*T+2]+=C*yn,V(E,2*I+2*T+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function V(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function J(w,v){this.g=w,this.h=v}function ge(w,v){if(b(v))throw Error("division by zero");if(b(w))return new J(p,p);if(A(w))return v=ge(R(w),v),new J(R(v.g),R(v.h));if(A(v))return v=ge(w,R(v)),new J(R(v.g),v.h);if(30<w.g.length){if(A(w)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=tt(E),I=tt(I);var T=he(E,1),C=he(I,1);for(I=he(I,2),E=he(E,2);!b(I);){var _=C.add(I);0>=_.l(w)&&(T=T.add(E),C=_),I=he(I,1),E=he(E,1)}return v=k(w,T.j(v)),new J(T,v)}for(T=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=l(E),_=C.j(v);A(_)||0<_.l(w);)E-=I,C=l(E),_=C.j(v);b(C)&&(C=m),T=T.add(C),w=k(w,_)}return new J(T,w)}t.A=function(w){return ge(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function tt(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function he(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,T=[],C=0;C<I;C++)T[C]=0<v?w.i(C+E)>>>v|w.i(C+E+1)<<32-v:w.i(C+E);return new s(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uy=cA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,On=cA.Integer=s}).apply(typeof aA<"u"?aA:typeof self<"u"?self:typeof window<"u"?window:{});var od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fn={};var ly,PB,Ao,dy,Pa,sd,fy,hy,py;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof od=="object"&&od];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var D=a[g];if(!(D in h))break e;h=h[D]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,D={next:function(){if(!g&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function y(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function b(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,D,S){for(var M=Array(arguments.length-2),me=2;me<arguments.length;me++)M[me-2]=arguments[me];return d.prototype[D].apply(g,M)}}function A(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let D=a.length||0,S=g.length||0;a.length=D+S;for(let M=0;M<S;M++)a[D+M]=g[M]}else a.push(g)}}class k{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function V(a){return/^[\s\xa0]*$/.test(a)}function J(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ge(a){return ge[" "](a),a}ge[" "]=function(){};var tt=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function he(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function w(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function v(a){let d={};for(let h in a)d[h]=a[h];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let h,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(h in g)a[h]=g[h];for(let S=0;S<E.length;S++)h=E[S],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function T(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Xd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class yn{constructor(){this.h=this.g=null}add(d,h){let g=rs.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var rs=new k(()=>new xR,a=>a.reset());class xR{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let is,os=!1,Xd=new yn,k_=()=>{let a=c.Promise.resolve(void 0);is=()=>{a.then(OR)}};var OR=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){C(h)}var d=rs;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}os=!1};function Hn(){this.s=this.s,this.C=this.C}Hn.prototype.s=!1,Hn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Hn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function We(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}We.prototype.h=function(){this.defaultPrevented=!0};var FR=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a})();function ss(a,d){if(We.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(tt){e:{try{ge(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:LR[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ss.aa.h.call(this)}}b(ss,We);var LR={2:"touch",3:"pen",4:"mouse"};ss.prototype.h=function(){ss.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var as="closure_listenable_"+(1e6*Math.random()|0),VR=0;function jR(a,d,h,g,D){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=D,this.key=++VR,this.da=this.fa=!1}function Za(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ja(a){this.src=a,this.g={},this.h=0}Ja.prototype.add=function(a,d,h,g,D){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var M=tf(a,d,g,D);return-1<M?(d=a[M],h||(d.fa=!1)):(d=new jR(d,this.src,S,!!g,D),d.fa=h,a.push(d)),d};function ef(a,d){var h=d.type;if(h in a.g){var g=a.g[h],D=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=D)&&Array.prototype.splice.call(g,D,1),S&&(Za(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function tf(a,d,h,g){for(var D=0;D<a.length;++D){var S=a[D];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==g)return D}return-1}var nf="closure_lm_"+(1e6*Math.random()|0),rf={};function x_(a,d,h,g,D){if(g&&g.once)return F_(a,d,h,g,D);if(Array.isArray(d)){for(var S=0;S<d.length;S++)x_(a,d[S],h,g,D);return null}return h=cf(h),a&&a[as]?a.K(d,h,l(g)?!!g.capture:!!g,D):O_(a,d,h,!1,g,D)}function O_(a,d,h,g,D,S){if(!d)throw Error("Invalid event type");var M=l(D)?!!D.capture:!!D,me=sf(a);if(me||(a[nf]=me=new Ja(a)),h=me.add(d,h,g,M,S),h.proxy)return h;if(g=BR(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)FR||(D=M),D===void 0&&(D=!1),a.addEventListener(d.toString(),g,D);else if(a.attachEvent)a.attachEvent(V_(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function BR(){function a(h){return d.call(a.src,a.listener,h)}let d=UR;return a}function F_(a,d,h,g,D){if(Array.isArray(d)){for(var S=0;S<d.length;S++)F_(a,d[S],h,g,D);return null}return h=cf(h),a&&a[as]?a.L(d,h,l(g)?!!g.capture:!!g,D):O_(a,d,h,!0,g,D)}function L_(a,d,h,g,D){if(Array.isArray(d))for(var S=0;S<d.length;S++)L_(a,d[S],h,g,D);else g=l(g)?!!g.capture:!!g,h=cf(h),a&&a[as]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=tf(S,h,g,D),-1<h&&(Za(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=sf(a))&&(d=a.g[d.toString()],a=-1,d&&(a=tf(d,h,g,D)),(h=-1<a?d[a]:null)&&of(h))}function of(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[as])ef(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(V_(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=sf(d))?(ef(h,a),h.h==0&&(h.src=null,d[nf]=null)):Za(a)}}}function V_(a){return a in rf?rf[a]:rf[a]="on"+a}function UR(a,d){if(a.da)a=!0;else{d=new ss(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&of(a),a=h.call(g,d)}return a}function sf(a){return a=a[nf],a instanceof Ja?a:null}var af="__closure_events_fn_"+(1e9*Math.random()>>>0);function cf(a){return typeof a=="function"?a:(a[af]||(a[af]=function(d){return a.handleEvent(d)}),a[af])}function Ke(){Hn.call(this),this.i=new Ja(this),this.M=this,this.F=null}b(Ke,Hn),Ke.prototype[as]=!0,Ke.prototype.removeEventListener=function(a,d,h,g){L_(this,a,d,h,g)};function nt(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new We(d,a);else if(d instanceof We)d.target=d.target||a;else{var D=d;d=new We(g,a),I(d,D)}if(D=!0,h)for(var S=h.length-1;0<=S;S--){var M=d.g=h[S];D=Xa(M,g,!0,d)&&D}if(M=d.g=a,D=Xa(M,g,!0,d)&&D,D=Xa(M,g,!1,d)&&D,h)for(S=0;S<h.length;S++)M=d.g=h[S],D=Xa(M,g,!1,d)&&D}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)Za(h[g]);delete a.g[d],a.h--}}this.F=null},Ke.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},Ke.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Xa(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,S=0;S<d.length;++S){var M=d[S];if(M&&!M.da&&M.capture==h){var me=M.listener,He=M.ha||M.src;M.fa&&ef(a.i,M),D=me.call(He,g)!==!1&&D}}return D&&!g.defaultPrevented}function j_(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function B_(a){a.g=j_(()=>{a.g=null,a.i&&(a.i=!1,B_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class $R extends Hn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:B_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(a){Hn.call(this),this.h=a,this.g={}}b(cs,Hn);var U_=[];function $_(a){he(a.g,function(d,h){this.g.hasOwnProperty(h)&&of(d)},a),a.g={}}cs.prototype.N=function(){cs.aa.N.call(this),$_(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uf=c.JSON.stringify,HR=c.JSON.parse,qR=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function lf(){}lf.prototype.h=null;function H_(a){return a.h||(a.h=a.i())}function q_(){}var us={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function df(){We.call(this,"d")}b(df,We);function ff(){We.call(this,"c")}b(ff,We);var Dr={},z_=null;function ec(){return z_=z_||new Ke}Dr.La="serverreachability";function G_(a){We.call(this,Dr.La,a)}b(G_,We);function ls(a){let d=ec();nt(d,new G_(d))}Dr.STAT_EVENT="statevent";function W_(a,d){We.call(this,Dr.STAT_EVENT,a),this.stat=d}b(W_,We);function rt(a){let d=ec();nt(d,new W_(d,a))}Dr.Ma="timingevent";function K_(a,d){We.call(this,Dr.Ma,a),this.size=d}b(K_,We);function ds(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function fs(){this.g=!0}fs.prototype.xa=function(){this.g=!1};function zR(a,d,h,g,D,S){a.info(function(){if(a.g)if(S)for(var M="",me=S.split("&"),He=0;He<me.length;He++){var se=me[He].split("=");if(1<se.length){var Qe=se[0];se=se[1];var Ye=Qe.split("_");M=2<=Ye.length&&Ye[1]=="type"?M+(Qe+"="+se+"&"):M+(Qe+"=redacted&")}}else M=null;else M=S;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+h+`
`+M})}function GR(a,d,h,g,D,S,M){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+h+`
`+S+" "+M})}function ki(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+KR(a,h)+(g?" "+g:"")})}function WR(a,d){a.info(function(){return"TIMEOUT: "+d})}fs.prototype.info=function(){};function KR(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var S=D[0];if(S!="noop"&&S!="stop"&&S!="close")for(var M=1;M<D.length;M++)D[M]=""}}}}return uf(h)}catch{return d}}var tc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Q_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hf;function nc(){}b(nc,lf),nc.prototype.g=function(){return new XMLHttpRequest},nc.prototype.i=function(){return{}},hf=new nc;function qn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Y_}function Y_(){this.i=null,this.g="",this.h=!1}var Z_={},pf={};function gf(a,d,h){a.L=1,a.v=sc(vn(d)),a.m=h,a.P=!0,J_(a,null)}function J_(a,d){a.F=Date.now(),rc(a),a.A=vn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),fE(h.i,"t",g),a.C=0,h=a.j.J,a.h=new Y_,a.g=NE(a.j,h?d:null,!a.m),0<a.O&&(a.M=new $R(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(U_[0]=D.toString()),D=U_);for(var S=0;S<D.length;S++){var M=x_(h,D[S],g||d.handleEvent,!1,d.h||d);if(!M)break;d.g[M.key]=M}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ls(),zR(a.i,a.u,a.A,a.l,a.R,a.m)}qn.prototype.ca=function(a){a=a.target;let d=this.M;d&&_n(a)==3?d.j():this.Y(a)},qn.prototype.Y=function(a){try{if(a==this.g)e:{let Ye=_n(this.g);var d=this.g.Ba();let Fi=this.g.Z();if(!(3>Ye)&&(Ye!=3||this.g&&(this.h.h||this.g.oa()||_E(this.g)))){this.J||Ye!=4||d==7||(d==8||0>=Fi?ls(3):ls(2)),mf(this);var h=this.g.Z();this.X=h;t:if(X_(this)){var g=_E(this.g);a="";var D=g.length,S=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){br(this),hs(this);var M="";break t}this.h.i=new c.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==D-1)});g.length=0,this.h.g+=a,this.C=0,M=this.h.g}else M=this.g.oa();if(this.o=h==200,GR(this.i,this.u,this.A,this.l,this.R,Ye,h),this.o){if(this.T&&!this.K){t:{if(this.g){var me,He=this.g;if((me=He.g?He.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(me)){var se=me;break t}}se=null}if(h=se)ki(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yf(this,h);else{this.o=!1,this.s=3,rt(12),br(this),hs(this);break e}}if(this.P){h=!0;let Ot;for(;!this.J&&this.C<M.length;)if(Ot=QR(this,M),Ot==pf){Ye==4&&(this.s=4,rt(14),h=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==Z_){this.s=4,rt(15),ki(this.i,this.l,M,"[Invalid Chunk]"),h=!1;break}else ki(this.i,this.l,Ot,null),yf(this,Ot);if(X_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||M.length!=0||this.h.h||(this.s=1,rt(16),h=!1),this.o=this.o&&h,!h)ki(this.i,this.l,M,"[Invalid Chunked Response]"),br(this),hs(this);else if(0<M.length&&!this.W){this.W=!0;var Qe=this.j;Qe.g==this&&Qe.ba&&!Qe.M&&(Qe.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),Tf(Qe),Qe.M=!0,rt(11))}}else ki(this.i,this.l,M,null),yf(this,M);Ye==4&&br(this),this.o&&!this.J&&(Ye==4?CE(this.j,this):(this.o=!1,rc(this)))}else fN(this.g),h==400&&0<M.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),br(this),hs(this)}}}catch{}finally{}};function X_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function QR(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?pf:(h=Number(d.substring(h,g)),isNaN(h)?Z_:(g+=1,g+h>d.length?pf:(d=d.slice(g,g+h),a.C=g+h,d)))}qn.prototype.cancel=function(){this.J=!0,br(this)};function rc(a){a.S=Date.now()+a.I,eE(a,a.I)}function eE(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ds(m(a.ba,a),d)}function mf(a){a.B&&(c.clearTimeout(a.B),a.B=null)}qn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(WR(this.i,this.A),this.L!=2&&(ls(),rt(17)),br(this),this.s=2,hs(this)):eE(this,this.S-a)};function hs(a){a.j.G==0||a.J||CE(a.j,a)}function br(a){mf(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,$_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function yf(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||vf(h.h,a))){if(!a.K&&vf(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)dc(h),uc(h);else break e;wf(h),rt(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=ds(m(h.Za,h),6e3));if(1>=rE(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Sr(h,11)}else if((a.K||h.g==a)&&dc(h),!V(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let se=D[d];if(h.T=se[0],se=se[1],h.G==2)if(se[0]=="c"){h.K=se[1],h.ia=se[2];let Qe=se[3];Qe!=null&&(h.la=Qe,h.j.info("VER="+h.la));let Ye=se[4];Ye!=null&&(h.Aa=Ye,h.j.info("SVER="+h.Aa));let Fi=se[5];Fi!=null&&typeof Fi=="number"&&0<Fi&&(g=1.5*Fi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Ot=a.g;if(Ot){let hc=Ot.g?Ot.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hc){var S=g.h;S.g||hc.indexOf("spdy")==-1&&hc.indexOf("quic")==-1&&hc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(_f(S,S.h),S.h=null))}if(g.D){let Df=Ot.g?Ot.g.getResponseHeader("X-HTTP-Session-Id"):null;Df&&(g.ya=Df,_e(g.I,g.D,Df))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var M=a;if(g.qa=RE(g,g.J?g.ia:null,g.W),M.K){iE(g.h,M);var me=M,He=g.L;He&&(me.I=He),me.B&&(mf(me),rc(me)),g.g=M}else DE(g);0<h.i.length&&lc(h)}else se[0]!="stop"&&se[0]!="close"||Sr(h,7);else h.G==3&&(se[0]=="stop"||se[0]=="close"?se[0]=="stop"?Sr(h,7):If(h):se[0]!="noop"&&h.l&&h.l.ta(se),h.v=0)}}ls(4)}catch{}}var YR=class{constructor(a,d){this.g=a,this.map=d}};function tE(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nE(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function rE(a){return a.h?1:a.g?a.g.size:0}function vf(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function _f(a,d){a.g?a.g.add(d):a.h=d}function iE(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}tE.prototype.cancel=function(){if(this.i=oE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function oE(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return A(a.i)}function ZR(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function JR(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function sE(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=JR(a),g=ZR(a),D=g.length,S=0;S<D;S++)d.call(void 0,g[S],h&&h[S],a)}var aE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XR(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),D=null;if(0<=g){var S=a[h].substring(0,g);D=a[h].substring(g+1)}else S=a[h];d(S,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Cr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Cr){this.h=a.h,ic(this,a.j),this.o=a.o,this.g=a.g,oc(this,a.s),this.l=a.l;var d=a.i,h=new ms;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),cE(this,h),this.m=a.m}else a&&(d=String(a).match(aE))?(this.h=!1,ic(this,d[1]||"",!0),this.o=ps(d[2]||""),this.g=ps(d[3]||"",!0),oc(this,d[4]),this.l=ps(d[5]||"",!0),cE(this,d[6]||"",!0),this.m=ps(d[7]||"")):(this.h=!1,this.i=new ms(null,this.h))}Cr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(gs(d,uE,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(gs(d,uE,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(gs(h,h.charAt(0)=="/"?nN:tN,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",gs(h,iN)),a.join("")};function vn(a){return new Cr(a)}function ic(a,d,h){a.j=h?ps(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function oc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function cE(a,d,h){d instanceof ms?(a.i=d,oN(a.i,a.h)):(h||(d=gs(d,rN)),a.i=new ms(d,a.h))}function _e(a,d,h){a.i.set(d,h)}function sc(a){return _e(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ps(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function gs(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,eN),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function eN(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var uE=/[#\/\?@]/g,tN=/[#\?:]/g,nN=/[#\?]/g,rN=/[#\?@]/g,iN=/#/g;function ms(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function zn(a){a.g||(a.g=new Map,a.h=0,a.i&&XR(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=ms.prototype,t.add=function(a,d){zn(this),this.i=null,a=xi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function lE(a,d){zn(a),d=xi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function dE(a,d){return zn(a),d=xi(a,d),a.g.has(d)}t.forEach=function(a,d){zn(this),this.g.forEach(function(h,g){h.forEach(function(D){a.call(d,D,g,this)},this)},this)},t.na=function(){zn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let D=a[g];for(let S=0;S<D.length;S++)h.push(d[g])}return h},t.V=function(a){zn(this);let d=[];if(typeof a=="string")dE(this,a)&&(d=d.concat(this.g.get(xi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return zn(this),this.i=null,a=xi(this,a),dE(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function fE(a,d,h){lE(a,d),0<h.length&&(a.i=null,a.g.set(xi(a,d),A(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let S=encodeURIComponent(String(g)),M=this.V(g);for(g=0;g<M.length;g++){var D=S;M[g]!==""&&(D+="="+encodeURIComponent(String(M[g]))),a.push(D)}}return this.i=a.join("&")};function xi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function oN(a,d){d&&!a.j&&(zn(a),a.i=null,a.g.forEach(function(h,g){var D=g.toLowerCase();g!=D&&(lE(this,g),fE(this,D,h))},a)),a.j=d}function sN(a,d){let h=new fs;if(c.Image){let g=new Image;g.onload=y(Gn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Gn,h,"TestLoadImage: error",!1,d,g),g.onabort=y(Gn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Gn,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function aN(a,d){let h=new fs,g=new AbortController,D=setTimeout(()=>{g.abort(),Gn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(D),S.ok?Gn(h,"TestPingServer: ok",!0,d):Gn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Gn(h,"TestPingServer: error",!1,d)})}function Gn(a,d,h,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(h)}catch{}}function cN(){this.g=new qR}function uN(a,d,h){let g=h||"";try{sE(a,function(D,S){let M=D;l(D)&&(M=uf(D)),d.push(g+S+"="+encodeURIComponent(M))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function ys(a){this.l=a.Ub||null,this.j=a.eb||!1}b(ys,lf),ys.prototype.g=function(){return new ac(this.l,this.j)},ys.prototype.i=(function(a){return function(){return a}})({});function ac(a,d){Ke.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(ac,Ke),t=ac.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,_s(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hE(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function hE(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?vs(this):_s(this),this.readyState==3&&hE(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,vs(this))},t.Qa=function(a){this.g&&(this.response=a,vs(this))},t.ga=function(){this.g&&vs(this)};function vs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,_s(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function _s(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ac.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function pE(a){let d="";return he(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Ef(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=pE(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):_e(a,d,h))}function Te(a){Ke.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Te,Ke);var lN=/^https?$/i,dN=["POST","PUT"];t=Te.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hf.g(),this.v=this.o?H_(this.o):H_(hf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){gE(this,S);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)h.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())h.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(dN,d,void 0))||g||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,M]of h)this.g.setRequestHeader(S,M);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vE(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){gE(this,S)}};function gE(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,mE(a),cc(a)}function mE(a){a.A||(a.A=!0,nt(a,"complete"),nt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,nt(this,"complete"),nt(this,"abort"),cc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cc(this,!0)),Te.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yE(this):this.bb())},t.bb=function(){yE(this)};function yE(a){if(a.h&&typeof s<"u"&&(!a.v[1]||_n(a)!=4||a.Z()!=2)){if(a.u&&_n(a)==4)j_(a.Ea,0,a);else if(nt(a,"readystatechange"),_n(a)==4){a.h=!1;try{let M=a.Z();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=M===0){var D=String(a.D).match(aE)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),g=!lN.test(D?D.toLowerCase():"")}h=g}if(h)nt(a,"complete"),nt(a,"success");else{a.m=6;try{var S=2<_n(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",mE(a)}}finally{cc(a)}}}}function cc(a,d){if(a.g){vE(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||nt(a,"ready");try{h.onreadystatechange=g}catch{}}}function vE(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function _n(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),HR(d)}};function _E(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function fN(a){let d={};a=(a.g&&2<=_n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(V(a[g]))continue;var h=T(a[g]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[D]||[];d[D]=S,S.push(h)}w(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Es(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function EE(a){this.Aa=0,this.i=[],this.j=new fs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Es("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Es("baseRetryDelayMs",5e3,a),this.cb=Es("retryDelaySeedMs",1e4,a),this.Wa=Es("forwardChannelMaxRetries",2,a),this.wa=Es("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new tE(a&&a.concurrentRequestLimit),this.Da=new cN,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=EE.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){rt(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=RE(this,null,this.W),lc(this)};function If(a){if(IE(a),a.G==3){var d=a.U++,h=vn(a.I);if(_e(h,"SID",a.K),_e(h,"RID",d),_e(h,"TYPE","terminate"),Is(a,h),d=new qn(a,a.j,d),d.L=2,d.v=sc(vn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=NE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),rc(d)}AE(a)}function uc(a){a.g&&(Tf(a),a.g.cancel(),a.g=null)}function IE(a){uc(a),a.u&&(c.clearTimeout(a.u),a.u=null),dc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function lc(a){if(!nE(a.h)&&!a.s){a.s=!0;var d=a.Ga;is||k_(),os||(is(),os=!0),Xd.add(d,a),a.B=0}}function hN(a,d){return rE(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ds(m(a.Ga,a,d),SE(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new qn(this,this.j,a),S=this.o;if(this.S&&(S?(S=v(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(D.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=TE(this,D,d),h=vn(this.I),_e(h,"RID",a),_e(h,"CVER",22),this.D&&_e(h,"X-HTTP-Session-Id",this.D),Is(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(pE(S)))+"&"+d:this.m&&Ef(h,this.m,S)),_f(this.h,D),this.Ua&&_e(h,"TYPE","init"),this.P?(_e(h,"$req",d),_e(h,"SID","null"),D.T=!0,gf(D,h,null)):gf(D,h,d),this.G=2}}else this.G==3&&(a?wE(this,a):this.i.length==0||nE(this.h)||wE(this))};function wE(a,d){var h;d?h=d.l:h=a.U++;let g=vn(a.I);_e(g,"SID",a.K),_e(g,"RID",h),_e(g,"AID",a.T),Is(a,g),a.m&&a.o&&Ef(g,a.m,a.o),h=new qn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=TE(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),_f(a.h,h),gf(h,g,d)}function Is(a,d){a.H&&he(a.H,function(h,g){_e(d,g,h)}),a.l&&sE({},function(h,g){_e(d,g,h)})}function TE(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var D=a.i;let S=-1;for(;;){let M=["count="+h];S==-1?0<h?(S=D[0].g,M.push("ofs="+S)):S=0:M.push("ofs="+S);let me=!0;for(let He=0;He<h;He++){let se=D[He].g,Qe=D[He].map;if(se-=S,0>se)S=Math.max(0,D[He].g-100),me=!1;else try{uN(Qe,M,"req"+se+"_")}catch{g&&g(Qe)}}if(me){g=M.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function DE(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;is||k_(),os||(is(),os=!0),Xd.add(d,a),a.v=0}}function wf(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ds(m(a.Fa,a),SE(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,bE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ds(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),uc(this),bE(this))};function Tf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function bE(a){a.g=new qn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=vn(a.qa);_e(d,"RID","rpc"),_e(d,"SID",a.K),_e(d,"AID",a.T),_e(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&_e(d,"TO",a.ja),_e(d,"TYPE","xmlhttp"),Is(a,d),a.m&&a.o&&Ef(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=sc(vn(d)),h.m=null,h.P=!0,J_(h,a)}t.Za=function(){this.C!=null&&(this.C=null,uc(this),wf(this),rt(19))};function dc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function CE(a,d){var h=null;if(a.g==d){dc(a),Tf(a),a.g=null;var g=2}else if(vf(a.h,d))h=d.D,iE(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;g=ec(),nt(g,new K_(g,h)),lc(a)}else DE(a);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&hN(a,d)||g==2&&wf(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),D){case 1:Sr(a,5);break;case 4:Sr(a,10);break;case 3:Sr(a,6);break;default:Sr(a,2)}}}function SE(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Sr(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let D=!g;g=new Cr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ic(g,"https"),sc(g),D?sN(g.toString(),h):aN(g.toString(),h)}else rt(2);a.G=0,a.l&&a.l.sa(d),AE(a),IE(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function AE(a){if(a.G=0,a.ka=[],a.l){let d=oE(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,A(a.i),a.i.length=0),a.l.ra()}}function RE(a,d,h){var g=h instanceof Cr?vn(h):new Cr(h);if(g.g!="")d&&(g.g=d+"."+g.g),oc(g,g.s);else{var D=c.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var S=new Cr(null);g&&ic(S,g),d&&(S.g=d),D&&oc(S,D),h&&(S.l=h),g=S}return h=a.D,d=a.ya,h&&d&&_e(g,h,d),_e(g,"VER",a.la),Is(a,g),g}function NE(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Te(new ys({eb:h})):new Te(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function PE(){}t=PE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fc(){}fc.prototype.g=function(a,d){return new pt(a,d)};function pt(a,d){Ke.call(this),this.g=new EE(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!V(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!V(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Oi(this)}b(pt,Ke),pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pt.prototype.close=function(){If(this.g)},pt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=uf(a),a=h);d.i.push(new YR(d.Ya++,a)),d.G==3&&lc(d)},pt.prototype.N=function(){this.g.l=null,delete this.j,If(this.g),delete this.g,pt.aa.N.call(this)};function ME(a){df.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}b(ME,df);function kE(){ff.call(this),this.status=1}b(kE,ff);function Oi(a){this.g=a}b(Oi,PE),Oi.prototype.ua=function(){nt(this.g,"a")},Oi.prototype.ta=function(a){nt(this.g,new ME(a))},Oi.prototype.sa=function(a){nt(this.g,new kE)},Oi.prototype.ra=function(){nt(this.g,"b")},fc.prototype.createWebChannel=fc.prototype.g,pt.prototype.send=pt.prototype.o,pt.prototype.open=pt.prototype.m,pt.prototype.close=pt.prototype.close,py=Fn.createWebChannelTransport=function(){return new fc},hy=Fn.getStatEventTarget=function(){return ec()},fy=Fn.Event=Dr,sd=Fn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tc.NO_ERROR=0,tc.TIMEOUT=8,tc.HTTP_ERROR=6,Pa=Fn.ErrorCode=tc,Q_.COMPLETE="complete",dy=Fn.EventType=Q_,q_.EventType=us,us.OPEN="a",us.CLOSE="b",us.ERROR="c",us.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,Ao=Fn.WebChannel=q_,PB=Fn.FetchXmlHttpFactory=ys,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,ly=Fn.XhrIo=Te}).apply(typeof od<"u"?od:typeof self<"u"?self:typeof window<"u"?window:{});var uA="@firebase/firestore",lA="4.8.0";var Ue=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ue.UNAUTHENTICATED=new Ue(null),Ue.GOOGLE_CREDENTIALS=new Ue("google-credentials-uid"),Ue.FIRST_PARTY=new Ue("first-party-uid"),Ue.MOCK_USER=new Ue("mock-user");var Xo="11.10.0";var Ti=new cn("@firebase/firestore");function Ro(){return Ti.logLevel}function O(t,...e){if(Ti.logLevel<=ne.DEBUG){let n=e.map(n_);Ti.debug(`Firestore (${Xo}): ${t}`,...n)}}function Vn(t,...e){if(Ti.logLevel<=ne.ERROR){let n=e.map(n_);Ti.error(`Firestore (${Xo}): ${t}`,...n)}}function _r(t,...e){if(Ti.logLevel<=ne.WARN){let n=e.map(n_);Ti.warn(`Firestore (${Xo}): ${t}`,...n)}}function n_(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function U(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,JA(t,r,n)}function JA(t,e,n){let r=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vn(r),new Error(r)}function fe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||JA(e,i,r)}function K(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends Pt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ln=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var hd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},_y=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ue.UNAUTHENTICATED))}shutdown(){}},Ey=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Iy=class{constructor(e){this.t=e,this.currentUser=Ue.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new ln;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ln,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},c=u=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ln)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string",31837,{l:r}),new hd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string",2055,{h:e}),new Ue(e)}},wy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ue.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Ty=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new wy(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ue.FIRST_PARTY))}shutdown(){}invalidateToken(){}},pd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Dy=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){fe(this.o===void 0,3512);let r=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new pd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function MB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function XA(){return new TextEncoder}var La=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=MB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function te(t,e){return t<e?-1:t>e?1:0}function by(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return te(r,i);{let o=XA(),s=kB(o.encode(dA(t,n)),o.encode(dA(e,n)));return s!==0?s:te(r,i)}}n+=r>65535?2:1}return te(t.length,e.length)}function dA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function kB(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return te(t[n],e[n]);return te(t.length,e.length)}function jo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var fA="__name__",gd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&U(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&U(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return te(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):by(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return On.fromString(e.substring(4,e.length-2))}},we=class t extends gd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},xB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ct=class t extends gd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return xB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fA}static keyField(){return new t([fA])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new F(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new F(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new F(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var B=class t{constructor(e){this.path=e}static fromPath(e){return new t(we.fromString(e))}static fromName(e){return new t(we.fromString(e).popFirst(5))}static empty(){return new t(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new we(e.slice()))}};function e0(t,e,n){if(!n)throw new F(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OB(t,e,n,r){if(e===!0&&r===!0)throw new F(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hA(t){if(!B.isDocumentKey(t))throw new F(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pA(t){if(B.isDocumentKey(t))throw new F(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function t0(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function r_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":U(12329,{type:typeof t})}function Di(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=r_(t);throw new F(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ke(t,e){let n={typeString:t};return e&&(n.value=e),n}function Ka(t,e){if(!t0(t))throw new F(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new F(N.INVALID_ARGUMENT,n);return!0}var gA=-62135596800,mA=1e6,xe=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*mA);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gA)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mA}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ka(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-gA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:ke("string",xe._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};var Y=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new xe(0,0))}static max(){return new t(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Va=-1,Cy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Cy.UNKNOWN_ID=-1;function FB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new xe(n+1,0):new xe(n,r));return new bi(i,B.empty(),e)}function LB(t){return new bi(t.readTime,t.key,Va)}var bi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Y.min(),B.empty(),Va)}static max(){return new t(Y.max(),B.empty(),Va)}};function VB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:te(t.largestBatchId,e.largestBatchId))}var jB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Sy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function es(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==jB)throw t;O("LocalStore","Unexpectedly lost primary lease")}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function BB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ts(t){return t.name==="IndexedDbTransactionError"}var i_=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),o_=-1;function zd(t){return t==null}function ja(t){return t===0&&1/t==-1/0}function UB(t){return typeof t=="number"&&Number.isInteger(t)&&!ja(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var n0="";function $B(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yA(e)),e=HB(t.get(n),e);return yA(e)}function HB(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case n0:n+="";break;default:n+=o}}return n}function yA(t){return t+n0+""}var qB="remoteDocuments",r0="owner";var i0="mutationQueues";var o0="mutations";var s0="documentMutations",zB="remoteDocumentsV14";var a0="remoteDocumentGlobal";var c0="targets";var u0="targetDocuments";var l0="targetGlobal",d0="collectionParents";var f0="clientMetadata";var h0="bundles";var p0="namedQueries";var GB="indexConfiguration";var WB="indexState";var KB="indexEntries";var g0="documentOverlays";var QB="globals";var YB=[i0,o0,s0,qB,c0,r0,l0,u0,f0,a0,d0,h0,p0],bee=[...YB,g0],ZB=[i0,o0,s0,zB,c0,r0,l0,u0,f0,a0,d0,h0,p0,g0],JB=ZB,XB=[...JB,GB,WB,KB];var Cee=[...XB,QB];function vA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function m0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var be=class t{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ko(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ko(this.root,e,this.comparator,!1)}getReverseIterator(){return new ko(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ko(this.root,e,this.comparator,!0)}},ko=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},dn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw U(43730,{key:this.key,value:this.value});if(this.right.isRed())throw U(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw U(27949);return e+(this.isRed()?0:1)}};dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw U(57766)}get value(){throw U(16141)}get color(){throw U(16727)}get left(){throw U(29726)}get right(){throw U(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var $e=class t{constructor(e){this.comparator=e,this.data=new be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new md(this.data.getIterator())}getIteratorFrom(e){return new md(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},md=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var xt=class t{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new t([])}unionWith(e){let n=new $e(Ct.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var yd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var et=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yd("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};et.EMPTY_BYTE_STRING=new et("");var eU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jn(t){if(fe(!!t,39018),typeof t=="string"){let e=0,n=eU.exec(t);if(fe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ee(t.seconds),nanos:Ee(t.nanos)}}function Ee(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bn(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}var y0="server_timestamp",v0="__type__",_0="__previous_value__",E0="__local_write_time__";function s_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[v0])===null||n===void 0?void 0:n.stringValue)===y0}function Gd(t){let e=t.mapValue.fields[_0];return s_(e)?Gd(e):e}function Ba(t){let e=jn(t.mapValue.fields[E0].timestampValue);return new xe(e.seconds,e.nanos)}var Ay=class{constructor(e,n,r,i,o,s,c,u,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},vd="(default)",_d=class t{constructor(e,n){this.projectId=e,this.database=n||vd}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===vd}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var a_="__type__",I0="__max__",ad={mapValue:{fields:{__type__:{stringValue:I0}}}},c_="__vector__",Bo="value";function Er(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?s_(t)?4:T0(t)?9007199254740991:w0(t)?10:11:U(28295,{value:t})}function pn(t,e){if(t===e)return!0;let n=Er(t);if(n!==Er(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ba(t).isEqual(Ba(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=jn(i.timestampValue),c=jn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Bn(i.bytesValue).isEqual(Bn(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ee(i.geoPointValue.latitude)===Ee(o.geoPointValue.latitude)&&Ee(i.geoPointValue.longitude)===Ee(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ee(i.integerValue)===Ee(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ee(i.doubleValue),c=Ee(o.doubleValue);return s===c?ja(s)===ja(c):isNaN(s)&&isNaN(c)}return!1})(t,e);case 9:return jo(t.arrayValue.values||[],e.arrayValue.values||[],pn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(vA(s)!==vA(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!pn(s[u],c[u])))return!1;return!0})(t,e);default:return U(52216,{left:t})}}function Ua(t,e){return(t.values||[]).find(n=>pn(n,e))!==void 0}function Uo(t,e){if(t===e)return 0;let n=Er(t),r=Er(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=Ee(o.integerValue||o.doubleValue),u=Ee(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return _A(t.timestampValue,e.timestampValue);case 4:return _A(Ba(t),Ba(e));case 5:return by(t.stringValue,e.stringValue);case 6:return(function(o,s){let c=Bn(o),u=Bn(s);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=te(c[l],u[l]);if(f!==0)return f}return te(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=te(Ee(o.latitude),Ee(s.latitude));return c!==0?c:te(Ee(o.longitude),Ee(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return EA(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,l,f;let p=o.fields||{},m=s.fields||{},y=(c=p[Bo])===null||c===void 0?void 0:c.arrayValue,b=(u=m[Bo])===null||u===void 0?void 0:u.arrayValue,A=te(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((f=b?.values)===null||f===void 0?void 0:f.length)||0);return A!==0?A:EA(y,b)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===ad.mapValue&&s===ad.mapValue)return 0;if(o===ad.mapValue)return 1;if(s===ad.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=by(u[p],f[p]);if(m!==0)return m;let y=Uo(c[u[p]],l[f[p]]);if(y!==0)return y}return te(u.length,f.length)})(t.mapValue,e.mapValue);default:throw U(23264,{le:n})}}function _A(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return te(t,e);let n=jn(t),r=jn(e),i=te(n.seconds,r.seconds);return i!==0?i:te(n.nanos,r.nanos)}function EA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Uo(n[i],r[i]);if(o)return o}return te(n.length,r.length)}function $o(t){return Ry(t)}function Ry(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=jn(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Bn(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return B.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Ry(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Ry(n.fields[s])}`;return i+"}"})(t.mapValue):U(61005,{value:t})}function ld(t){switch(Er(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Gd(t);return e?16+ld(e):16;case 5:return 2*t.stringValue.length;case 6:return Bn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+ld(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Tr(r.fields,(o,s)=>{i+=o.length+ld(s)}),i})(t.mapValue);default:throw U(13486,{value:t})}}function Ny(t){return!!t&&"integerValue"in t}function u_(t){return!!t&&"arrayValue"in t}function IA(t){return!!t&&"nullValue"in t}function wA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dd(t){return!!t&&"mapValue"in t}function w0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[a_])===null||n===void 0?void 0:n.stringValue)===c_}function ka(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Tr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ka(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ka(t.arrayValue.values[n]);return e}return Object.assign({},t)}function T0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===I0}var Aee={mapValue:{fields:{[a_]:{stringValue:c_},[Bo]:{arrayValue:{}}}}};var bt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ka(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=ka(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());dd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Tr(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ka(this.value))}};function D0(t){let e=[];return Tr(t.fields,(n,r)=>{let i=new Ct([n]);if(dd(r)){let o=D0(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new xt(e)}var Kt=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Y.min(),Y.min(),Y.min(),bt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Y.min(),Y.min(),bt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Y.min(),Y.min(),bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ho=class{constructor(e,n){this.position=e,this.inclusive=n}};function TA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=B.comparator(B.fromName(s.referenceValue),n.key):r=Uo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function DA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pn(t.position[n],e.position[n]))return!1;return!0}var qo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function tU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ed=class{},je=class t extends Ed{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new My(e,n,r):n==="array-contains"?new Oy(e,r):n==="in"?new Fy(e,r):n==="not-in"?new Ly(e,r):n==="array-contains-any"?new Vy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ky(e,r):new xy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uo(n,this.value)):n!==null&&Er(this.value)===Er(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return U(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gn=class t extends Ed{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return b0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function b0(t){return t.op==="and"}function C0(t){return nU(t)&&b0(t)}function nU(t){for(let e of t.filters)if(e instanceof gn)return!1;return!0}function Py(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+$o(t.value);if(C0(t))return t.filters.map(e=>Py(e)).join(",");{let e=t.filters.map(n=>Py(n)).join(",");return`${t.op}(${e})`}}function S0(t,e){return t instanceof je?(function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&pn(r.value,i.value)})(t,e):t instanceof gn?(function(r,i){return i instanceof gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&S0(s,i.filters[c]),!0):!1})(t,e):void U(19439)}function A0(t){return t instanceof je?(function(n){return`${n.field.canonicalString()} ${n.op} ${$o(n.value)}`})(t):t instanceof gn?(function(n){return n.op.toString()+" {"+n.getFilters().map(A0).join(" ,")+"}"})(t):"Filter"}var My=class extends je{constructor(e,n,r){super(e,n,r),this.key=B.fromName(r.referenceValue)}matches(e){let n=B.comparator(e.key,this.key);return this.matchesComparison(n)}},ky=class extends je{constructor(e,n){super(e,"in",n),this.keys=R0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},xy=class extends je{constructor(e,n){super(e,"not-in",n),this.keys=R0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function R0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}var Oy=class extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return u_(n)&&Ua(n.arrayValue,this.value)}},Fy=class extends je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ua(this.value.arrayValue,n)}},Ly=class extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ua(this.value.arrayValue,n)}},Vy=class extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!u_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ua(this.value.arrayValue,r))}};var jy=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function bA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new jy(t,e,n,r,i,o,s)}function l_(t){let e=K(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Py(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$o(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$o(r)).join(",")),e.Pe=n}return e.Pe}function d_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!S0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DA(t.startAt,e.startAt)&&DA(t.endAt,e.endAt)}function By(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var zo=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function rU(t,e,n,r,i,o,s,c){return new zo(t,e,n,r,i,o,s,c)}function N0(t){return new zo(t)}function CA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iU(t){return t.collectionGroup!==null}function xa(t){let e=K(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new $e(Ct.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new qo(o,r))}),n.has(Ct.keyField().canonicalString())||e.Te.push(new qo(Ct.keyField(),r))}return e.Te}function fn(t){let e=K(t);return e.Ie||(e.Ie=oU(e,xa(t))),e.Ie}function oU(t,e){if(t.limitType==="F")return bA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new qo(i.field,o)});let n=t.endAt?new Ho(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ho(t.startAt.position,t.startAt.inclusive):null;return bA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Uy(t,e,n){return new zo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wd(t,e){return d_(fn(t),fn(e))&&t.limitType===e.limitType}function P0(t){return`${l_(fn(t))}|lt:${t.limitType}`}function No(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>A0(i)).join(", ")}]`),zd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$o(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$o(i)).join(",")),`Target(${r})`})(fn(t))}; limitType=${t.limitType})`}function Kd(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):B.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of xa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let l=TA(s,c,u);return s.inclusive?l<=0:l<0})(r.startAt,xa(r),i)||r.endAt&&!(function(s,c,u){let l=TA(s,c,u);return s.inclusive?l>=0:l>0})(r.endAt,xa(r),i))})(t,e)}function sU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function M0(t){return(e,n)=>{let r=!1;for(let i of xa(t)){let o=aU(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function aU(t,e,n){let r=t.field.isKeyField()?B.comparator(e.key,n.key):(function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Uo(u,l):U(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U(19790,{direction:t.dir})}}var Un=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return m0(this.inner)}size(){return this.innerSize}};var cU=new be(B.comparator);function $n(){return cU}var k0=new be(B.comparator);function Ma(...t){let e=k0;for(let n of t)e=e.insert(n.key,n);return e}function x0(t){let e=k0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ii(){return Oa()}function O0(){return Oa()}function Oa(){return new Un(t=>t.toString(),(t,e)=>t.isEqual(e))}var uU=new be(B.comparator),lU=new $e(B.comparator);function re(...t){let e=lU;for(let n of t)e=e.add(n);return e}var dU=new $e(te);function fU(){return dU}function f_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ja(e)?"-0":e}}function F0(t){return{integerValue:""+t}}function hU(t,e){return UB(e)?F0(e):f_(t,e)}var Go=class{constructor(){this._=void 0}};function pU(t,e,n){return t instanceof Wo?(function(i,o){let s={fields:{[v0]:{stringValue:y0},[E0]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&s_(o)&&(o=Gd(o)),o&&(s.fields[_0]=o),{mapValue:s}})(n,e):t instanceof Ci?V0(t,e):t instanceof Si?j0(t,e):(function(i,o){let s=L0(i,o),c=SA(s)+SA(i.Ee);return Ny(s)&&Ny(i.Ee)?F0(c):f_(i.serializer,c)})(t,e)}function gU(t,e,n){return t instanceof Ci?V0(t,e):t instanceof Si?j0(t,e):n}function L0(t,e){return t instanceof Ko?(function(r){return Ny(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Wo=class extends Go{},Ci=class extends Go{constructor(e){super(),this.elements=e}};function V0(t,e){let n=B0(e);for(let r of t.elements)n.some(i=>pn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Si=class extends Go{constructor(e){super(),this.elements=e}};function j0(t,e){let n=B0(e);for(let r of t.elements)n=n.filter(i=>!pn(i,r));return{arrayValue:{values:n}}}var Ko=class extends Go{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function SA(t){return Ee(t.integerValue||t.doubleValue)}function B0(t){return u_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mU(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Ci&&i instanceof Ci||r instanceof Si&&i instanceof Si?jo(r.elements,i.elements,pn):r instanceof Ko&&i instanceof Ko?pn(r.Ee,i.Ee):r instanceof Wo&&i instanceof Wo})(t.transform,e.transform)}var $y=class{constructor(e,n){this.version=e,this.transformResults=n}},Ln=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function fd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Qo=class{};function U0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $a(t.key,Ln.none()):new Ai(t.key,t.data,Ln.none());{let n=t.data,r=bt.empty(),i=new $e(Ct.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new mn(t.key,r,new xt(i.toArray()),Ln.none())}}function yU(t,e,n){t instanceof Ai?(function(i,o,s){let c=i.value.clone(),u=RA(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):t instanceof mn?(function(i,o,s){if(!fd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=RA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll($0(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function Fa(t,e,n,r){return t instanceof Ai?(function(o,s,c,u){if(!fd(o.precondition,s))return c;let l=o.value.clone(),f=NA(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof mn?(function(o,s,c,u){if(!fd(o.precondition,s))return c;let l=NA(o.fieldTransforms,u,s),f=s.data;return f.setAll($0(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,c){return fd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(t,e,n)}function vU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=L0(r.transform,i||null);o!=null&&(n===null&&(n=bt.empty()),n.set(r.field,o))}return n||null}function AA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&jo(r,i,(o,s)=>mU(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ai=class extends Qo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},mn=class extends Qo{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function $0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function RA(t,e,n){let r=new Map;fe(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,gU(s,c,n[i]))}return r}function NA(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,pU(o,s,e))}return r}var $a=class extends Qo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Hy=class extends Qo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var qy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&yU(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=O0();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=U0(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(n,r)=>AA(n,r))&&jo(this.baseMutations,e.baseMutations,(n,r)=>AA(n,r))}},zy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){fe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return uU})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Gy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Wy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Pe,oe;function _U(t){switch(t){case N.OK:return U(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return U(15467,{code:t})}}function H0(t){if(t===void 0)return Vn("GRPC error has no .code"),N.UNKNOWN;switch(t){case Pe.OK:return N.OK;case Pe.CANCELLED:return N.CANCELLED;case Pe.UNKNOWN:return N.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return N.INTERNAL;case Pe.UNAVAILABLE:return N.UNAVAILABLE;case Pe.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Pe.NOT_FOUND:return N.NOT_FOUND;case Pe.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Pe.ABORTED:return N.ABORTED;case Pe.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Pe.DATA_LOSS:return N.DATA_LOSS;default:return U(39323,{code:t})}}(oe=Pe||(Pe={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";var PA=null;var EU=new On([4294967295,4294967295],0);function MA(t){let e=XA().encode(t),n=new uy;return n.update(e),new Uint8Array(n.digest())}function kA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new On([n,r],0),new On([i,o],0)]}var Ky=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wi(`Invalid padding: ${n}`);if(r<0)throw new wi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wi(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=On.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(On.fromNumber(r)));return i.compare(EU)===1&&(i=new On([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=MA(e),[r,i]=kA(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let n=MA(e),[r,i]=kA(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},wi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Id=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ha.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Y.min(),i,new be(te),$n(),re())}},Ha=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,re(),re(),re())}};var Oo=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},wd=class{constructor(e,n){this.targetId=e,this.De=n}},Td=class{constructor(e,n,r=et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Dd=class{constructor(){this.ve=0,this.Ce=xA(),this.Fe=et.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=re(),n=re(),r=re();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U(38017,{changeType:o})}}),new Ha(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=xA()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Qy=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=$n(),this.je=cd(),this.Je=cd(),this.He=new be(te)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:U(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(By(o))if(r===0){let s=new B(o.path);this.Xe(n,s,Kt.newNoDocument(s,Y.min()))}else fe(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}PA?.ct((function(f,p,m,y,b){var A,R,k,V,J,ge;let tt={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},he=p.unchangedNames;return he&&(tt.bloomFilter={applied:b===0,hashCount:(A=he?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(V=(k=(R=he?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&V!==void 0?V:0,padding:(ge=(J=he?.bits)===null||J===void 0?void 0:J.padding)!==null&&ge!==void 0?ge:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),tt})(s,e.De,this.We.lt(),c,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=Bn(r).toUint8Array()}catch(u){if(u instanceof yd)return _r("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Ky(s,i,o)}catch(u){return _r(u instanceof wi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&By(c.target)){let u=new B(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Kt.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=re();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Id(e,n,this.He,this.ze,r);return this.ze=$n(),this.je=cd(),this.Je=cd(),this.He=new be(te),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Dd,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new $e(te),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new $e(te),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Dd),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function cd(){return new be(B.comparator)}function xA(){return new be(B.comparator)}var IU={asc:"ASCENDING",desc:"DESCENDING"},wU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TU={and:"AND",or:"OR"},Yy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Zy(t,e){return t.useProto3Json||zd(e)?e:{value:e}}function bd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function q0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DU(t,e){return bd(t,e.toTimestamp())}function hn(t){return fe(!!t,49232),Y.fromTimestamp((function(n){let r=jn(n);return new xe(r.seconds,r.nanos)})(t))}function h_(t,e){return Jy(t,e).canonicalString()}function Jy(t,e){let n=(function(i){return new we(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function z0(t){let e=we.fromString(t);return fe(Y0(e),10190,{key:e.toString()}),e}function Xy(t,e){return h_(t.databaseId,e.path)}function gy(t,e){let n=z0(e);if(n.get(1)!==t.databaseId.projectId)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(W0(n))}function G0(t,e){return h_(t.databaseId,e)}function bU(t){let e=z0(t);return e.length===4?we.emptyPath():W0(e)}function ev(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function W0(t){return fe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function OA(t,e,n){return{name:Xy(t,e),fields:n.value.mapValue.fields}}function CU(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:U(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(fe(f===void 0||typeof f=="string",58123),et.fromBase64String(f||"")):(fe(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),et.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(l){let f=l.code===void 0?N.UNKNOWN:H0(l.code);return new F(f,l.message||"")})(s);n=new Td(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=gy(t,r.document.name),o=hn(r.document.updateTime),s=r.document.createTime?hn(r.document.createTime):Y.min(),c=new bt({mapValue:{fields:r.document.fields}}),u=Kt.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Oo(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=gy(t,r.document),o=r.readTime?hn(r.readTime):Y.min(),s=Kt.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Oo([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=gy(t,r.document),o=r.removedTargetIds||[];n=new Oo([],o,i,null)}else{if(!("filter"in e))return U(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Wy(i,o),c=r.targetId;n=new wd(c,s)}}return n}function SU(t,e){let n;if(e instanceof Ai)n={update:OA(t,e.key,e.value)};else if(e instanceof $a)n={delete:Xy(t,e.key)};else if(e instanceof mn)n={update:OA(t,e.key,e.data),updateMask:FU(e.fieldMask)};else{if(!(e instanceof Hy))return U(16599,{Rt:e.type});n={verify:Xy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let c=s.transform;if(c instanceof Wo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ci)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Si)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ko)return{fieldPath:s.field.canonicalString(),increment:c.Ee};throw U(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:DU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:U(27497)})(t,e.precondition)),n}function AU(t,e){return t&&t.length>0?(fe(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?hn(i.updateTime):hn(o);return s.isEqual(Y.min())&&(s=hn(o)),new $y(s,i.transformResults||[])})(n,e))):[]}function RU(t,e){return{documents:[G0(t,e.path)]}}function NU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=G0(t,i);let o=(function(l){if(l.length!==0)return Q0(gn.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(m){return{field:Po(m.field),direction:kU(m.dir)}})(f))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=Zy(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:n,parent:i}}function PU(t){let e=bU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fe(r===1,65062);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=(function(p){let m=K0(p);return m instanceof gn&&C0(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(b){return new qo(Mo(b.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(m))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,zd(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Ho(y,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Ho(y,m)})(n.endAt)),rU(e,i,s,o,c,"F",u,l)}function MU(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function K0(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Mo(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Mo(n.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Mo(n.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Mo(n.unaryFilter.field);return je.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return U(61313);default:return U(60726)}})(t):t.fieldFilter!==void 0?(function(n){return je.create(Mo(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return U(58110);default:return U(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return gn.create(n.compositeFilter.filters.map(r=>K0(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return U(1026)}})(n.compositeFilter.op))})(t):U(30097,{filter:t})}function kU(t){return IU[t]}function xU(t){return wU[t]}function OU(t){return TU[t]}function Po(t){return{fieldPath:t.canonicalString()}}function Mo(t){return Ct.fromServerFormat(t.fieldPath)}function Q0(t){return t instanceof je?(function(n){if(n.op==="=="){if(wA(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(IA(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wA(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(IA(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:xU(n.op),value:n.value}}})(t):t instanceof gn?(function(n){let r=n.getFilters().map(i=>Q0(i));return r.length===1?r[0]:{compositeFilter:{op:OU(n.op),filters:r}}})(t):U(54877,{filter:t})}function FU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Y0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var qa=class t{constructor(e,n,r,i,o=Y.min(),s=Y.min(),c=et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var tv=class{constructor(e){this.gt=e}};function LU(t){let e=PU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uy(e,e.limit,"L"):e}var Cd=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Ee(e.integerValue));else if("doubleValue"in e){let r=Ee(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),ja(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=jn(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Bn(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?T0(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):w0(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):U(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=Bo,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Ee(c)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),B.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};Cd.Ut=new Cd;var nv=class{constructor(){this.Dn=new rv}addToCollectionParentIndex(e,n){return this.Dn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(bi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},rv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $e(we.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(we.comparator)).toArray()}};var Ree=new Uint8Array(0);var FA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z0=41943040,kt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};kt.DEFAULT_COLLECTION_PERCENTILE=10,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kt.DEFAULT=new kt(Z0,kt.DEFAULT_COLLECTION_PERCENTILE,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kt.DISABLED=new kt(-1,0,0);var za=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var LA="LruGarbageCollector",VU=1048576;function VA([t,e],[n,r]){let i=te(t,n);return i===0?te(e,r):i}var iv=class{constructor(e){this.Tr=e,this.buffer=new $e(VA),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();VA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},ov=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){O(LA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ts(n)?O(LA,"Ignoring IndexedDB error during garbage collection: ",n):await es(n)}await this.Rr(3e5)})}},sv=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(i_.ue);let r=new iv(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(FA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FA):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ro()<=ne.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function jU(t,e){return new sv(t,e)}var av=class{constructor(){this.changes=new Un(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var cv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var uv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fa(r.mutation,i,xt.empty(),xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){let i=Ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ma();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=$n(),s=Oa(),c=(function(){return Oa()})();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof mn)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Fa(f.mutation,l,f.mutation.getFieldMask(),xe.now())):s.set(l.key,xt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var p;return c.set(l,new cv(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Oa(),i=new be((s,c)=>s-c),o=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||xt.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||re()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=O0();f.forEach(m=>{if(!o.has(m)){let y=U0(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return B.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(Ii()),c=Va,u=o;return s.next(l=>P.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,re())).next(f=>({batchId:c,changes:x0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(r=>{let i=Ma();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Ma();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,u=>{let l=(function(p,m){return new zo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Kt.newInvalidDocument(f)))});let c=Ma();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&Fa(f.mutation,l,xt.empty(),xe.now()),Kd(n,l)&&(c=c.insert(u,l))}),c})}};var lv=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return P.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:hn(i.createTime)}})(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:LU(i.bundledQuery),readTime:hn(i.readTime)}})(n)),P.resolve()}};var dv=class{constructor(){this.overlays=new be(B.comparator),this.kr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ii();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Ii(),o=n.length+1,s=new B(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new be((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=Ii(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Ii(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return P.resolve(c)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Gy(n,r));let o=this.kr.get(n);o===void 0&&(o=re(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var fv=class{constructor(){this.sessionToken=et.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Ga=class{constructor(){this.qr=new $e(Me.Qr),this.$r=new $e(Me.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Me(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Me(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new B(new we([])),r=new Me(n,e),i=new Me(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new B(new we([])),r=new Me(n,e),i=new Me(n,e+1),o=re();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Me(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Me=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return B.comparator(e.key,n.key)||te(e.Hr,n.Hr)}static Ur(e,n){return te(e.Hr,n.Hr)||B.comparator(e.key,n.key)}};var hv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new $e(Me.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new qy(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Me(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?o_:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Me(n,0),i=new Me(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(te);return n.forEach(i=>{let o=new Me(i,0),s=new Me(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;B.isDocumentKey(o)||(o=o.child(""));let s=new Me(new B(o),0),c=new $e(te);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),P.resolve(this.ei(c))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){fe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(n.mutations,i=>{let o=new Me(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Me(n,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var pv=class{constructor(e){this.ni=e,this.docs=(function(){return new be(B.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(n))}getEntries(e,n){let r=$n();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Kt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=$n(),s=n.path,c=new B(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||VB(LB(f),r)<=0||(i.has(f.key)||Kd(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){U(9500)}ri(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gv(this)}getSize(e){return P.resolve(this.size)}},gv=class extends av{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var mv=class{constructor(e){this.persistence=e,this.ii=new Un(n=>l_(n),d_),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.si=0,this.oi=new Ga,this.targetCount=0,this._i=za.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),P.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new za(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.hr(n),P.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.oi.containsKey(n))}};var Sd=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new i_(0),this.ci=!1,this.ci=!0,this.li=new fv,this.referenceDelegate=e(this),this.hi=new mv(this),this.indexManager=new nv,this.remoteDocumentCache=(function(i){return new pv(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new tv(n),this.Ti=new lv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new hv(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);let i=new yv(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},yv=class extends Sy{constructor(e){super(),this.currentSequenceNumber=e}},vv=class t{constructor(e){this.persistence=e,this.Ai=new Ga,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw U(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=B.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,Y.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return P.or([()=>P.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Ad=class t{constructor(e,n){this.persistence=e,this.gi=new Un(r=>$B(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=jU(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,Y.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ld(e.data.value)),n}Sr(e,n,r){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var _v=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=re(),i=re();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Ev=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Iv=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return pS()?8:BB(Dt())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Ev;return this.ws(e,n,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,s,c.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Ro()<=ne.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",No(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Ro()<=ne.DEBUG&&O("QueryEngine","Query:",No(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ro()<=ne.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",No(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fn(n))):P.resolve())}ps(e,n){if(CA(n))return P.resolve(null);let r=fn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Uy(n,null,"F"),r=fn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=re(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,c);return this.Ds(n,l,s,u.readTime)?this.ps(e,Uy(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return CA(n)||i.isEqual(Y.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?P.resolve(null):(Ro()<=ne.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),No(n)),this.vs(e,s,n,FB(i,Va)).next(c=>c))})}bs(e,n){let r=new $e(M0(e));return n.forEach((i,o)=>{Kd(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Ro()<=ne.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",No(n)),this.gs.getDocumentsMatchingQuery(e,n,bi.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var p_="LocalStore",BU=3e8,wv=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new be(te),this.Ms=new Un(o=>l_(o),d_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uv(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function UU(t,e,n,r){return new wv(t,e,n,r)}async function J0(t,e){let n=K(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=re();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})}function $U(t,e){let n=K(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(c,u,l,f){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(b=>{y=y.next(()=>f.getEntry(u,b)).next(A=>{let R=l.docVersions.get(b);fe(R!==null,48541),A.version.compareTo(R)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),f.addEntry(A)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=re();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function X0(t){let e=K(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function HU(t,e){let n=K(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let c=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(n.hi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,f.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(et.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),(function(A,R,k){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=BU?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(m,y,f)&&c.push(n.hi.updateTargetData(o,y))});let u=$n(),l=re();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(qU(o,s,e.documentUpdates).next(f=>{u=f.Ls,l=f.ks})),!r.isEqual(Y.min())){let f=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return P.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function qU(t,e,n){let r=re(),i=re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=$n();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Y.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):O(p_,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function zU(t,e){let n=K(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=o_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GU(t,e){let n=K(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new qa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Tv(t,e,n){let r=K(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ts(s))throw s;O(p_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function jA(t,e,n){let r=K(t),i=Y.min(),o=re();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=K(u),m=p.Ms.get(f);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,f)})(r,s,fn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Y.min(),n?o:re())).next(c=>(WU(r,sU(e),c),{documents:c,qs:o})))}function WU(t,e,n){let r=t.xs.get(e)||Y.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var Rd=class{constructor(){this.activeTargetIds=fU()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Dv=class{constructor(){this.Fo=new Rd,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Rd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var bv=class{xo(e){}shutdown(){}};var BA="ConnectivityMonitor",Nd=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){O(BA,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){O(BA,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ud=null;function Cv(){return ud===null?ud=(function(){return 268435456+Math.round(2147483648*Math.random())})():ud++,"0x"+ud.toString(16)}var my="RestConnection",KU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Sv=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===vd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=Cv(),c=this.Go(e,n.toUriEncodedString());O(my,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),f=di(l);return this.jo(e,c,u,r,f).then(p=>(O(my,`Received RPC '${e}' ${s}: `,p),p),p=>{throw _r(my,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=KU[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var Av=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Xe="WebChannelConnection",Rv=class extends Sv{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=Cv();return new Promise((c,u)=>{let l=new ly;l.setWithCredentials(!0),l.listenOnce(dy.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pa.NO_ERROR:let p=l.getResponseJson();O(Xe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case Pa.TIMEOUT:O(Xe,`RPC '${e}' ${s} timed out`),u(new F(N.DEADLINE_EXCEEDED,"Request time out"));break;case Pa.HTTP_ERROR:let m=l.getStatus();if(O(Xe,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let A=(function(k){let V=k.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(V)>=0?V:N.UNKNOWN})(b.status);u(new F(A,b.message))}else u(new F(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new F(N.UNAVAILABLE,"Connection failed."));break;default:U(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{O(Xe,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);O(Xe,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",f,r,15)})}P_(e,n,r){let i=Cv(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=py(),c=hy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");O(Xe,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.T_(p);let m=!1,y=!1,b=new Av({Ho:R=>{y?O(Xe,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(O(Xe,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),O(Xe,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),A=(R,k,V)=>{R.listen(k,J=>{try{V(J)}catch(ge){setTimeout(()=>{throw ge},0)}})};return A(p,Ao.EventType.OPEN,()=>{y||(O(Xe,`RPC '${e}' stream ${i} transport opened.`),b.s_())}),A(p,Ao.EventType.CLOSE,()=>{y||(y=!0,O(Xe,`RPC '${e}' stream ${i} transport closed`),b.__(),this.I_(p))}),A(p,Ao.EventType.ERROR,R=>{y||(y=!0,_r(Xe,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),b.__(new F(N.UNAVAILABLE,"The operation could not be completed")))}),A(p,Ao.EventType.MESSAGE,R=>{var k;if(!y){let V=R.data[0];fe(!!V,16349);let J=V,ge=J?.error||((k=J[0])===null||k===void 0?void 0:k.error);if(ge){O(Xe,`RPC '${e}' stream ${i} received error:`,ge);let tt=ge.status,he=(function(E){let I=Pe[E];if(I!==void 0)return H0(I)})(tt),w=ge.message;he===void 0&&(he=N.INTERNAL,w="Unknown error status: "+tt+" with message "+ge.message),y=!0,b.__(new F(he,w)),p.close()}else O(Xe,`RPC '${e}' stream ${i} received:`,V),b.a_(V)}}),A(c,fy.STAT_EVENT,R=>{R.stat===sd.PROXY?O(Xe,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===sd.NOPROXY&&O(Xe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function yy(){return typeof document<"u"?document:null}function Qd(t){return new Yy(t,!0)}var Pd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var UA="PersistentStream",Md=class{constructor(e,n,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Pd(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Vn(n.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new F(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return O(UA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(O(UA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Nv=class extends Md{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=CU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Y.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?hn(s.readTime):Y.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=ev(this.serializer),n.addTarget=(function(o,s){let c,u=s.target;if(c=By(u)?{documents:RU(o,u)}:{query:NU(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=q0(o,s.resumeToken);let l=Zy(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(Y.min())>0){c.readTime=bd(o,s.snapshotVersion.toTimestamp());let l=Zy(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,e);let r=MU(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=ev(this.serializer),n.removeTarget=e,this.k_(n)}},Pv=class extends Md{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=AU(e.writeResults,e.commitTime),r=hn(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=ev(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>SU(this.serializer,r))};this.k_(n)}};var Mv=class{},kv=class extends Mv{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Jy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(N.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,Jy(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},xv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Vn(n),this._a=!1):O("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ri="RemoteStore",Ov=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Pi(this)&&(O(Ri,"Restarting streams for network reachability change."),await(async function(u){let l=K(u);l.Ia.add(4),await Qa(l),l.Aa.set("Unknown"),l.Ia.delete(4),await Yd(l)})(this))})}),this.Aa=new xv(r,i)}};async function Yd(t){if(Pi(t))for(let e of t.da)await e(!0)}async function Qa(t){for(let e of t.da)await e(!1)}function eR(t,e){let n=K(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),v_(n)?y_(n):ns(n).x_()&&m_(n,e))}function g_(t,e){let n=K(t),r=ns(n);n.Ta.delete(e),r.x_()&&tR(n,e),n.Ta.size===0&&(r.x_()?r.B_():Pi(n)&&n.Aa.set("Unknown"))}function m_(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ns(t).H_(e)}function tR(t,e){t.Ra.$e(e),ns(t).Y_(e)}function y_(t){t.Ra=new Qy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ns(t).start(),t.Aa.aa()}function v_(t){return Pi(t)&&!ns(t).M_()&&t.Ta.size>0}function Pi(t){return K(t).Ia.size===0}function nR(t){t.Ra=void 0}async function QU(t){t.Aa.set("Online")}async function YU(t){t.Ta.forEach((e,n)=>{m_(t,e)})}async function ZU(t,e){nR(t),v_(t)?(t.Aa.la(e),y_(t)):t.Aa.set("Unknown")}async function JU(t,e,n){if(t.Aa.set("Online"),e instanceof Td&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(await i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})(t,e)}catch(r){O(Ri,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kd(t,r)}else if(e instanceof Oo?t.Ra.Ye(e):e instanceof wd?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Y.min()))try{let r=await X0(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ta.get(l);f&&o.Ta.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.Ta.get(u);if(!f)return;o.Ta.set(u,f.withResumeToken(et.EMPTY_BYTE_STRING,f.snapshotVersion)),tR(o,u);let p=new qa(f.target,u,l,f.sequenceNumber);m_(o,p)}),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){O(Ri,"Failed to raise snapshot:",r),await kd(t,r)}}async function kd(t,e,n){if(!ts(e))throw e;t.Ia.add(1),await Qa(t),t.Aa.set("Offline"),n||(n=()=>X0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{O(Ri,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Yd(t)})}function rR(t,e){return e().catch(n=>kd(t,n,e))}async function Zd(t){let e=K(t),n=Ir(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:o_;for(;XU(e);)try{let i=await zU(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,e$(e,i)}catch(i){await kd(e,i)}iR(e)&&oR(e)}function XU(t){return Pi(t)&&t.Pa.length<10}function e$(t,e){t.Pa.push(e);let n=Ir(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function iR(t){return Pi(t)&&!Ir(t).M_()&&t.Pa.length>0}function oR(t){Ir(t).start()}async function t$(t){Ir(t).na()}async function n$(t){let e=Ir(t);for(let n of t.Pa)e.X_(n.mutations)}async function r$(t,e,n){let r=t.Pa.shift(),i=zy.from(r,e,n);await rR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Zd(t)}async function i$(t,e){e&&Ir(t).Z_&&await(async function(r,i){if((function(s){return _U(s)&&s!==N.ABORTED})(i.code)){let o=r.Pa.shift();Ir(r).N_(),await rR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Zd(r)}})(t,e),iR(t)&&oR(t)}async function $A(t,e){let n=K(t);n.asyncQueue.verifyOperationInProgress(),O(Ri,"RemoteStore received new credentials");let r=Pi(n);n.Ia.add(3),await Qa(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Yd(n)}async function o$(t,e){let n=K(t);e?(n.Ia.delete(2),await Yd(n)):e||(n.Ia.add(2),await Qa(n),n.Aa.set("Unknown"))}function ns(t){return t.Va||(t.Va=(function(n,r,i){let o=K(n);return o.ia(),new Nv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:QU.bind(null,t),e_:YU.bind(null,t),n_:ZU.bind(null,t),J_:JU.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),v_(t)?y_(t):t.Aa.set("Unknown")):(await t.Va.stop(),nR(t))})),t.Va}function Ir(t){return t.ma||(t.ma=(function(n,r,i){let o=K(n);return o.ia(),new Pv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:t$.bind(null,t),n_:i$.bind(null,t),ea:n$.bind(null,t),ta:r$.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Zd(t)):(await t.ma.stop(),t.Pa.length>0&&(O(Ri,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}var Fv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function __(t,e){if(Vn("AsyncQueue",`${e}: ${t}`),ts(t))return new F(N.UNAVAILABLE,`${e}: ${t}`);throw t}var xd=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=Ma(),this.sortedSet=new be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Od=class{constructor(){this.fa=new be(B.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):U(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},Yo=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,xd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Lv=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Vv=class{constructor(){this.queries=HA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=K(n),o=i.queries;i.queries=HA(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new F(N.ABORTED,"Firestore shutting down"))}};function HA(){return new Un(t=>P0(t),Wd)}async function s$(t,e){let n=K(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Lv,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let c=__(s,`Initialization of query '${No(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&E_(n)}async function a$(t,e){let n=K(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function c$(t,e){let n=K(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&E_(n)}function u$(t,e,n){let r=K(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function E_(t){t.Da.forEach(e=>{e.next()})}var jv,qA;(qA=jv||(jv={})).Fa="default",qA.Cache="cache";var Bv=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==jv.Cache}};var Fd=class{constructor(e){this.key=e}},Ld=class{constructor(e){this.key=e}},Uv=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=re(),this.mutatedKeys=re(),this.Xa=M0(e),this.eu=new xd(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Od,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),y=Kd(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?b!==A&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(c=!0)),R&&(y?(s=s.add(y),o=A?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((f,p)=>(function(y,b){let A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U(20277,{At:R})}};return A(y)-A(b)})(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),i=i!=null&&i;let c=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Yo(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Od,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=re(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Ld(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Fd(r))}),n}uu(e){this.Ha=e.qs,this.Za=re();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Yo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},I_="SyncEngine",$v=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Hv=class{constructor(e){this.key=e,this.lu=!1}},qv=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Un(c=>P0(c),Wd),this.Tu=new Map,this.Iu=new Set,this.du=new be(B.comparator),this.Eu=new Map,this.Au=new Ga,this.Ru={},this.Vu=new Map,this.mu=za.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function l$(t,e,n=!0){let r=dR(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await sR(r,e,n,!0),i}async function d$(t,e){let n=dR(t);await sR(n,e,!0,!1)}async function sR(t,e,n,r){let i=await GU(t.localStore,fn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=await f$(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&eR(t.remoteStore,i),c}async function f$(t,e,n,r,i){t.gu=(p,m,y)=>(async function(A,R,k,V){let J=R.view.nu(k);J.Ds&&(J=await jA(A.localStore,R.query,!1).then(({documents:w})=>R.view.nu(w,J)));let ge=V&&V.targetChanges.get(R.targetId),tt=V&&V.targetMismatches.get(R.targetId)!=null,he=R.view.applyChanges(J,A.isPrimaryClient,ge,tt);return GA(A,R.targetId,he._u),he.snapshot})(t,p,m,y);let o=await jA(t.localStore,e,!0),s=new Uv(e,o.qs),c=s.nu(o.documents),u=Ha.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);GA(t,n,l._u);let f=new $v(e,n,s);return t.Pu.set(e,f),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot}async function h$(t,e,n){let r=K(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Wd(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Tv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&g_(r.remoteStore,i.targetId),zv(r,i.targetId)}).catch(es)):(zv(r,i.targetId),await Tv(r.localStore,i.targetId,!0))}async function p$(t,e){let n=K(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),g_(n.remoteStore,r.targetId))}async function g$(t,e,n){let r=w$(t);try{let i=await(function(s,c){let u=K(s),l=xe.now(),f=c.reduce((y,b)=>y.add(b.key),re()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=$n(),A=re();return u.Os.getEntries(y,f).next(R=>{b=R,b.forEach((k,V)=>{V.isValidDocument()||(A=A.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(R=>{p=R;let k=[];for(let V of c){let J=vU(V,p.get(V.key).overlayedDocument);J!=null&&k.push(new mn(V.key,J,D0(J.value.mapValue),Ln.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,k,c)}).next(R=>{m=R;let k=R.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(y,R.batchId,k)})}).then(()=>({batchId:m.batchId,changes:x0(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,c,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new be(te)),l=l.insert(c,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,n),await Ya(r,i.changes),await Zd(r.remoteStore)}catch(i){let o=__(i,"Failed to persist write");n.reject(o)}}async function aR(t,e){let n=K(t);try{let r=await HU(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?fe(s.lu,14607):i.removedDocuments.size>0&&(fe(s.lu,42227),s.lu=!1))}),await Ya(n,r,e)}catch(r){await es(r)}}function zA(t,e,n){let r=K(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=K(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&E_(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function m$(t,e,n){let r=K(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new be(B.comparator);s=s.insert(o,Kt.newNoDocument(o,Y.min()));let c=re().add(o),u=new Id(Y.min(),new Map,new be(te),s,c);await aR(r,u),r.du=r.du.remove(o),r.Eu.delete(e),w_(r)}else await Tv(r.localStore,e,!1).then(()=>zv(r,e,n)).catch(es)}async function y$(t,e){let n=K(t),r=e.batch.batchId;try{let i=await $U(n.localStore,e);uR(n,r,null),cR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ya(n,i)}catch(i){await es(i)}}async function v$(t,e,n){let r=K(t);try{let i=await(function(s,c){let u=K(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(fe(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})})(r.localStore,e);uR(r,e,n),cR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ya(r,i)}catch(i){await es(i)}}function cR(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function uR(t,e,n){let r=K(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function zv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||lR(t,r)})}function lR(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(g_(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),w_(t))}function GA(t,e,n){for(let r of n)r instanceof Fd?(t.Au.addReference(r.key,e),_$(t,r)):r instanceof Ld?(O(I_,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||lR(t,r.key)):U(19791,{yu:r})}function _$(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(O(I_,"New document in limbo: "+n),t.Iu.add(r),w_(t))}function w_(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new B(we.fromString(e)),r=t.mu.next();t.Eu.set(r,new Hv(n)),t.du=t.du.insert(n,r),eR(t.remoteStore,new qa(fn(N0(n.path)),r,"TargetPurposeLimboResolution",i_.ue))}}async function Ya(t,e,n){let r=K(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=_v.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let f=K(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ts(p))throw p;O(p_,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=f.Fs.get(m),b=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(b);f.Fs=f.Fs.insert(m,A)}}})(r.localStore,o))}async function E$(t,e){let n=K(t);if(!n.currentUser.isEqual(e)){O(I_,"User change. New user:",e.toKey());let r=await J0(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new F(N.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ya(n,r.Bs)}}function I$(t,e){let n=K(t),r=n.Eu.get(e);if(r&&r.lu)return re().add(r.key);{let i=re(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let c=n.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function dR(t){let e=K(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m$.bind(null,e),e.hu.J_=c$.bind(null,e.eventManager),e.hu.pu=u$.bind(null,e.eventManager),e}function w$(t){let e=K(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v$.bind(null,e),e}var fR=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=Qd(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)}Cu(n,r){return null}Fu(n,r){return null}vu(n){return UU(this.persistence,new Iv,n.initialUser,this.serializer)}Du(n){return new Sd(vv.Vi,this.serializer)}bu(n){return new Dv}async terminate(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),Gv=class extends fR{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){fe(this.persistence.referenceDelegate instanceof Ad,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new ov(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?kt.withCacheSize(this.cacheSizeBytes):kt.DEFAULT;return new Sd(r=>Ad.Vi(r,n),this.serializer)}};var T$=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>zA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=E$.bind(null,this.syncEngine),await o$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new Vv})()}createDatastore(n){let r=Qd(n.databaseInfo.databaseId),i=(function(s){return new Rv(s)})(n.databaseInfo);return(function(s,c,u,l){return new kv(s,c,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,c,u){return new Ov(i,o,s,c,u)})(this.localStore,this.datastore,n.asyncQueue,r=>zA(this.syncEngine,r,0),(function(){return Nd.C()?new Nd:new bv})())}createSyncEngine(n,r){return(function(o,s,c,u,l,f,p){let m=new qv(o,s,c,u,l,f);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){var n,r;await(async function(o){let s=K(o);O(Ri,"RemoteStore shutting down."),s.Ia.add(5),await Qa(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return t.provider={build:()=>new t},t})();var Wv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Vn("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var wr="FirestoreClient",Kv=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ue.UNAUTHENTICATED,this.clientId=La.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{O(wr,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(O(wr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=__(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function vy(t,e){t.asyncQueue.verifyOperationInProgress(),O(wr,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await J0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{_r("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{O("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{_r("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function WA(t,e){t.asyncQueue.verifyOperationInProgress();let n=await D$(t);O(wr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$A(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$A(e.remoteStore,i)),t._onlineComponents=e}async function D$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O(wr,"Using user provided OfflineComponentProvider");try{await vy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;_r("Error using user provided cache. Falling back to memory cache: "+n),await vy(t,new fR)}}else O(wr,"Using default OfflineComponentProvider"),await vy(t,new Gv(void 0));return t._offlineComponents}async function hR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(O(wr,"Using user provided OnlineComponentProvider"),await WA(t,t._uninitializedComponentsProvider._online)):(O(wr,"Using default OnlineComponentProvider"),await WA(t,new T$))),t._onlineComponents}function b$(t){return hR(t).then(e=>e.syncEngine)}async function C$(t){let e=await hR(t),n=e.eventManager;return n.onListen=l$.bind(null,e.syncEngine),n.onUnlisten=h$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=p$.bind(null,e.syncEngine),n}function S$(t,e,n={}){let r=new ln;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,c,u,l){let f=new Wv({next:m=>{f.Ou(),s.enqueueAndForget(()=>a$(o,p)),m.fromCache&&u.source==="server"?l.reject(new F(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Bv(c,f,{includeMetadataChanges:!0,ka:!0});return s$(o,p)})(await C$(t),t.asyncQueue,e,n,r)),r.promise}function pR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var KA=new Map;var gR="firestore.googleapis.com",QA=!0,Vd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gR,this.ssl=QA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:QA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Z0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VU)throw new F(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new F(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Zo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vd(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _y;switch(r.type){case"firstParty":return new Ty(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=KA.get(n);r&&(O("ComponentProvider","Removing Datastore"),KA.delete(n),r.terminate())})(this),Promise.resolve()}};function mR(t,e,n,r={}){var i;t=Di(t,Zo);let o=di(e),s=t._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Dm(`https://${u}`),bm("Firestore",!0)),s.host!==gR&&s.host!==u&&_r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!fi(l,c)&&(t._setSettings(l),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Ue.MOCK_USER;else{f=uS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new F(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ue(m)}t._authCredentials=new Ey(new hd(f,p))}}var jd=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},dt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ka(n,t._jsonSchema))return new t(e,r||null,new B(we.fromString(n.referencePath)))}};dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:ke("string",dt._jsonSchemaVersion),referencePath:ke("string")};var gr=class t extends jd{constructor(e,n,r){super(e,n,N0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new B(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function yR(t,e,...n){if(t=ut(t),e0("collection","path",e),t instanceof Zo){let r=we.fromString(e,...n);return pA(r),new gr(t,null,r)}{if(!(t instanceof dt||t instanceof gr))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(we.fromString(e,...n));return pA(r),new gr(t.firestore,null,r)}}function T_(t,e,...n){if(t=ut(t),arguments.length===1&&(e=La.newId()),e0("doc","path",e),t instanceof Zo){let r=we.fromString(e,...n);return hA(r),new dt(t,null,new B(r))}{if(!(t instanceof dt||t instanceof gr))throw new F(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(we.fromString(e,...n));return hA(r),new dt(t.firestore,t instanceof gr?t.converter:null,new B(r))}}var YA="AsyncQueue",Bd=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Pd(this,"async_queue_retry"),this.oc=()=>{let r=yy();r&&O(YA,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=yy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=yy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new ln;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ts(e))throw e;O(YA,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Vn("INTERNAL UNHANDLED ERROR: ",ZA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=Fv.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&U(47125,{hc:ZA(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function ZA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var Ni=class extends Zo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Bd,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Bd(e),this._firestoreClient=void 0,await e}}};function vR(t,e){let n=typeof t=="object"?t:bo(),r=typeof t=="string"?t:e||vd,i=Ul(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=aS("firestore");o&&mR(i,...o)}return i}function _R(t){if(t._terminated)throw new F(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||A$(t),t._firestoreClient}function A$(t){var e,n,r;let i=t._freezeSettings(),o=(function(c,u,l,f){return new Ay(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,pR(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Kv(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(t._componentsProvider))}var mr=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(et.fromBase64String(e))}catch(n){throw new F(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ka(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};mr._jsonSchemaVersion="firestore/bytes/1.0",mr._jsonSchema={type:ke("string",mr._jsonSchemaVersion),bytes:ke("string")};var Jo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Wa=class{constructor(e){this._methodName=e}};var yr=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Ka(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};yr._jsonSchemaVersion="firestore/geoPoint/1.0",yr._jsonSchema={type:ke("string",yr._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};var vr=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ka(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new F(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};vr._jsonSchemaVersion="firestore/vectorValue/1.0",vr._jsonSchema={type:ke("string",vr._jsonSchemaVersion),vectorValues:ke("object")};var R$=/^__.*__$/,Qv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ai(e,this.data,n,this.fieldTransforms)}},Ud=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function ER(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U(40011,{Ec:t})}}var Yv=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Hd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(ER(this.Ec)&&R$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Zv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qd(e)}Dc(e,n,r,i=!1){return new Yv({Ec:e,methodName:n,bc:r,path:Ct.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function IR(t){let e=t._freezeSettings(),n=Qd(t._databaseId);return new Zv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function N$(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);D_("Data must be an object, but it was:",s,r);let c=wR(r,s),u,l;if(o.merge)u=new xt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let m=Jv(e,p,n);if(!s.contains(m))throw new F(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);DR(f,m)||f.push(m)}u=new xt(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Qv(new bt(c),u,l)}var $d=class t extends Wa{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function P$(t,e,n,r){let i=t.Dc(1,e,n);D_("Data must be an object, but it was:",i,r);let o=[],s=bt.empty();Tr(r,(u,l)=>{let f=b_(e,u,n);l=ut(l);let p=i.gc(f);if(l instanceof $d)o.push(f);else{let m=Jd(l,p);m!=null&&(o.push(f),s.set(f,m))}});let c=new xt(o);return new Ud(s,c,i.fieldTransforms)}function M$(t,e,n,r,i,o){let s=t.Dc(1,e,n),c=[Jv(e,r,n)],u=[i];if(o.length%2!=0)throw new F(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)c.push(Jv(e,o[m])),u.push(o[m+1]);let l=[],f=bt.empty();for(let m=c.length-1;m>=0;--m)if(!DR(l,c[m])){let y=c[m],b=u[m];b=ut(b);let A=s.gc(y);if(b instanceof $d)l.push(y);else{let R=Jd(b,A);R!=null&&(l.push(y),f.set(y,R))}}let p=new xt(l);return new Ud(f,p,s.fieldTransforms)}function Jd(t,e){if(TR(t=ut(t)))return D_("Unsupported field value:",e,t),wR(t,e);if(t instanceof Wa)return(function(r,i){if(!ER(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let c of r){let u=Jd(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=xe.fromDate(r);return{timestampValue:bd(i.serializer,o)}}if(r instanceof xe){let o=new xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bd(i.serializer,o)}}if(r instanceof yr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mr)return{bytesValue:q0(i.serializer,r._byteString)};if(r instanceof dt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:h_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof vr)return(function(s,c){return{mapValue:{fields:{[a_]:{stringValue:c_},[Bo]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return f_(c.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${r_(r)}`)})(t,e)}function wR(t,e){let n={};return m0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(t,(r,i)=>{let o=Jd(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function TR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xe||t instanceof yr||t instanceof mr||t instanceof dt||t instanceof Wa||t instanceof vr)}function D_(t,e,n){if(!TR(n)||!t0(n)){let r=r_(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Jv(t,e,n){if((e=ut(e))instanceof Jo)return e._internalPath;if(typeof e=="string")return b_(t,e);throw Hd("Field path arguments must be of type string or ",t,!1,void 0,n)}var k$=new RegExp("[~\\*/\\[\\]]");function b_(t,e,n){if(e.search(k$)>=0)throw Hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jo(...e.split("."))._internalPath}catch{throw Hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hd(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new F(N.INVALID_ARGUMENT,c+t+u)}function DR(t,e){return t.some(n=>n.isEqual(e))}var qd=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Xv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(bR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Xv=class extends qd{data(){return super.data()}};function bR(t,e){return typeof e=="string"?b_(t,e):e instanceof Jo?e._internalPath:e._delegate._internalPath}function x$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var e_=class{convertValue(e,n="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ee(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw U(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Tr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Bo].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ee(s.doubleValue));return new vr(o)}convertGeoPoint(e){return new yr(Ee(e.latitude),Ee(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Gd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ba(e));default:return null}}convertTimestamp(e){let n=jn(e);return new xe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=we.fromString(e);fe(Y0(r),9688,{name:e});let i=new _d(r.get(1),r.get(3)),o=new B(r.popFirst(5));return i.isEqual(n)||Vn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function O$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var xo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Fo=class t extends qd{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Lo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(bR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new F(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fo._jsonSchema={type:ke("string",Fo._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};var Lo=class extends Fo{data(e={}){return super.data(e)}},Vo=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lo(this._firestore,this._userDataWriter,r.key,r,new xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Lo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new xo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Lo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new xo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:F$(c.type),doc:u,oldIndex:l,newIndex:f}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new F(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=La.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function F$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U(61501,{type:t})}}Vo._jsonSchemaVersion="firestore/querySnapshot/1.0",Vo._jsonSchema={type:ke("string",Vo._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};var t_=class extends e_{constructor(e){super(),this.firestore=e}convertBytes(e){return new mr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}};function CR(t){t=Di(t,jd);let e=Di(t.firestore,Ni),n=_R(e),r=new t_(e);return x$(t._query),S$(n,t._query).then(i=>new Vo(e,r,t,i))}function SR(t,e,n,...r){t=Di(t,dt);let i=Di(t.firestore,Ni),o=IR(i),s;return s=typeof(e=ut(e))=="string"||e instanceof Jo?M$(o,"updateDoc",t._key,e,n,r):P$(o,"updateDoc",t._key,e),C_(i,[s.toMutation(t._key,Ln.exists(!0))])}function AR(t){return C_(Di(t.firestore,Ni),[new $a(t._key,Ln.none())])}function RR(t,e){let n=Di(t.firestore,Ni),r=T_(t),i=O$(t.converter,e);return C_(n,[N$(IR(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ln.exists(!1))]).then(()=>r)}function C_(t,e){return(function(r,i){let o=new ln;return r.asyncQueue.enqueueAndForget(async()=>g$(await b$(r),i,o)),o.promise})(_R(t),e)}(function(e,n=!0){(function(i){Xo=i})(Do),Gt(new lt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Ni(new Iy(r.getProvider("auth-internal")),new Dy(s,r.getProvider("app-check-internal")),(function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _d(l.options.projectId,f)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ae(uA,lA,e),Ae(uA,lA,"esm2017")})();var Mi=class{constructor(e){return e}},NR="firestore",S_=class{constructor(){return So(NR)}};var A_=new $("angularfire2.firestore-instances");function L$(t,e){let n=ql(NR,t,e);return n&&new Mi(n)}function V$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Mi(r)}}var j$={provide:S_,deps:[[new Nn,A_]]},B$={provide:Mi,useFactory:L$,deps:[[new Nn,A_],yi]};function Lte(t,...e){return Ae("angularfire",gi.full,"fst"),Vt([B$,j$,{provide:A_,useFactory:V$(t),multi:!0,deps:[Ie,Be,mi,Da,[new Nn,id],[new Nn,Gl],...e]}])}var R_=Mt(RR,!0,2);var N_=Mt(yR,!0,2);var PR=Mt(AR,!0,2);var P_=Mt(T_,!0,2);var M_=Mt(CR,!0);var Vte=Mt(vR,!0);var MR=Mt(SR,!0,2);var kR=class t{firestore=x(Mi);resultsCollection=N_(this.firestore,"quizResults");categories=[{id:"ms-word",name:"Microsoft Word",icon:"description",description:"Test your Microsoft Word skills",color:"#2B579A"},{id:"ms-excel",name:"Microsoft Excel",icon:"grid_on",description:"Test your Microsoft Excel skills",color:"#217346"},{id:"ms-powerpoint",name:"Microsoft PowerPoint",icon:"slideshow",description:"Test your Microsoft PowerPoint skills",color:"#D24726"}];getQuestionsCollection(e){return N_(this.firestore,e)}getQuestions(e){let n=this.getQuestionsCollection(e);return qe(M_(n)).pipe(gt(r=>r.docs.map(i=>pe({id:i.id},i.data()))))}addQuestion(e,n){let r=this.getQuestionsCollection(e),i=ye(pe({},n),{createdAt:new Date,updatedAt:new Date});return qe(R_(r,i)).pipe(gt(o=>o.id))}updateQuestion(e,n,r){let i=P_(this.firestore,e,n),o=ye(pe({},r),{updatedAt:new Date});return qe(MR(i,o))}deleteQuestion(e,n){let r=P_(this.firestore,e,n);return qe(PR(r))}saveQuizResult(e,n,r){let i={sessionId:this.generateSessionId(),results:e,score:n,totalQuestions:r,completedAt:new Date};return qe(R_(this.resultsCollection,i)).pipe(gt(o=>o.id))}getQuizResults(){return qe(M_(this.resultsCollection)).pipe(gt(e=>e.docs.map(n=>pe({id:n.id},n.data()))))}generateSessionId(){return"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})};export{pe as a,ye as b,U$ as c,Re as d,EN as e,X as f,kf as g,xf as h,ft as i,Ts as j,Pr as k,qe as l,NN as m,PN as n,MN as o,kr as p,gt as q,BN as r,xr as s,Ss as t,Vc as u,$N as v,HN as w,qN as x,Or as y,zN as z,cI as A,GN as B,WN as C,As as D,jf as E,KN as F,ZN as G,JN as H,Bf as I,XN as J,eP as K,tP as L,$f as M,nP as N,rP as O,iP as P,oP as Q,sP as R,aP as S,cP as T,ee as U,tu as V,ie as W,nu as X,vP as Y,$ as Z,Fe as _,x as $,Vt as aa,Dh as ba,ot as ca,er as da,KI as ea,QI as fa,cw as ga,lw as ha,Be as ia,or as ja,rn as ka,Tn as la,on as ma,HP as na,fw as oa,qs as pa,Sn as qa,sr as ra,Kp as sa,_M as ta,Yp as ua,ur as va,Bu as wa,SM as xa,ci as ya,CT as za,Jp as Aa,RM as Ba,NM as Ca,aa as Da,OM as Ea,co as Fa,go as Ga,cg as Ha,WM as Ia,KM as Ja,QM as Ka,YM as La,ZM as Ma,ug as Na,hk as Oa,al as Pa,mk as Qa,jk as Ra,Hu as Sa,uo as Ta,ea as Ua,_l as Va,lr as Wa,Wx as Xa,_o as Ya,Ht as Za,lo as _a,vb as $a,Fg as ab,AO as bb,Lg as cb,El as db,Ib as eb,Tb as fb,Eo as gb,An as hb,Ie as ib,Nb as jb,d1 as kb,Hg as lb,f1 as mb,Tl as nb,Mn as ob,jb as pb,w1 as qb,T1 as rb,C1 as sb,S1 as tb,A1 as ub,R1 as vb,N1 as wb,P1 as xb,Bb as yb,Wg as zb,Kg as Ab,Ub as Bb,Qg as Cb,Yg as Db,$b as Eb,qb as Fb,zb as Gb,F1 as Hb,Kb as Ib,Yb as Jb,Zb as Kb,j1 as Lb,U1 as Mb,$1 as Nb,q1 as Ob,z1 as Pb,G1 as Qb,W1 as Rb,K1 as Sb,Q1 as Tb,Y1 as Ub,Z1 as Vb,eC as Wb,tC as Xb,cF as Yb,_F as Zb,lC as _b,Jg as $b,dC as ac,wF as bc,SF as cc,AF as dc,RF as ec,MF as fc,xF as gc,OF as hc,FF as ic,FC as jc,JQ as kc,XQ as lc,eY as mc,WC as nc,tY as oc,nY as pc,rY as qc,qL as rc,zL as sc,iY as tc,oY as uc,sY as vc,kl as wc,WL as xc,gm as yc,KL as zc,To as Ac,XC as Bc,eS as Cc,JL as Dc,XL as Ec,eV as Fc,tV as Gc,nV as Hc,ym as Ic,iV as Jc,xZ as Kc,OZ as Lc,OJ as Mc,FJ as Nc,Lte as Oc,Vte as Pc,kR as Qc};
